<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"AWT.js.html":{"id":"AWT.js.html","title":"Source: AWT.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: AWT.js /** * File : AWT.js * Created : 12/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Utils&quot;, &quot;webfontloader&quot; ], function ($, Utils, WebFont) { /** * This object contains utility clases for painting graphics and images, * as found in the Java [Abstract Window Toolkit](http://docs.oracle.com/javase/7/docs/api/java/awt/package-summary.html) * * The objects defined here are: {@link Font}, {@link Gradient}, {@link Stroke}, * {@link Point}, {@link Dimension}, {@link Shape}, {@link Rectangle}, * {@link Ellipse}, {@link Path}, {@link PathStroke}, {@link Action}, * {@link Timer} and {@link Container}. */ /** * Font contains properties and provides methods to manage fonts * @class */ class Font { /** * Font constructor * @param {string=} [family='Arial'] * @param {number=} [size=17] * @param {number=} [bold=0] * @param {number=} [italic=0] * @param {string=} [variant=''] */ constructor(family, size, bold, italic, variant) { if (family) this.family = family if (typeof size === 'number') this.size = size if (bold) this.bold = bold if (italic) this.italic = italic if (variant) this.variant = variant this._metrics = { ascent: -1, descent: -1, height: -1 } } /** * Finds the XML elements with typeface specifications, checks its value against the font * substitution list, replacing the `family` attribute and loading the alternative font when needed. * @param {external:jQuery} $tree - The xml element to be processed * @param {Object=} options - Optional param that can contain a `fontSubstitutions` attribute with * a substition table to be added to {@link Font.SUBSTITUTIONS} */ static checkTree($tree, options) { let substitutions = Font.SUBSTITUTIONS // Load own fonts and remove it from the substitution table if (options &amp;&amp; options.ownFonts) { options.ownFonts.forEach(name =&gt; { // Check WebFont as a workaround to avoid problems with a different version of `webfontloader` in agora.xtec.cat if (Font.ALREADY_LOADED_FONTS.indexOf(name) &lt; 0 &amp;&amp; WebFont &amp;&amp; WebFont.load) { WebFont.load({ custom: { families: [name] } }) Font.ALREADY_LOADED_FONTS.push(name) delete substitutions[name.trim().toLowerCase()] } }) } // Add custom font substitutions if (options &amp;&amp; options.fontSubstitutions) //substitutions = Object.assign({}, substitutions, options.fontSubstitutions) substitutions = $.extend(Object.create(substitutions), options.fontSubstitutions) $tree.find('style[family],font[family]').each((_n, style) =&gt; { const $style = $(style), name = $style.attr('family').trim().toLowerCase() if (name in substitutions) { const newName = substitutions[name] if (newName !== '') { Font.loadGoogleFont(newName) $style.attr('family', newName) } } }) } /** * Try to load a specific font from [http://www.google.com/fonts] * @param {string} name - The font family name */ static loadGoogleFont(name) { // Check WebFont as a workaround to avoid problems with a different version of `webfontloader` in agora.xtec.cat if (name &amp;&amp; !Font.ALREADY_LOADED_FONTS.includes(name) &amp;&amp; WebFont &amp;&amp; WebFont.load) { WebFont.load({ google: { families: [name] } }) Font.ALREADY_LOADED_FONTS.push(name) } } /** * Try to load a set of Google fonts * @param {string[]} fonts - An array of font names */ static loadGoogleFonts(fonts) { if (fonts &amp;&amp; fonts.forEach) fonts.forEach(name =&gt; Font.loadGoogleFont(name)) } /** * Reads the properties of this Font from an XML element * @param {external:jQuery} $xml - The xml element to be parsed * @returns {Font} */ setProperties($xml) { if ($xml.attr('family')) this.family = $xml.attr('family') if ($xml.attr('size')) this.size = Number($xml.attr('size')) if ($xml.attr('bold')) this.bold = Utils.getBoolean($xml.attr('bold')) if ($xml.attr('italic')) this.italic = Utils.getBoolean($xml.attr('italic')) if ($xml.attr('variant')) this.variant = $xml.attr('variant') return this } /** * Allows to change the `size` member, recalculating the vertical metrics. * @param {number} size - The new size to set * @returns {Font} */ setSize(size) { const currentSize = this.size this.size = size if (currentSize !== size) this._metrics.height = -1 return this } /** * Increases or decreases the current font size by the specified amount * @param {number} amount - The amount to increase or decrease current size * @returns {Font} */ zoom(amount) { return this.setSize(this.size + amount) } /** * Calculates the vertical font metrics and returns its height * @returns {number} - The font height */ getHeight() { if (this._metrics.height &lt; 0) { // Look for an equivalent font already calculated const font = Font.ALREADY_CALCULATED_FONTS.find(font =&gt; font.equals(this)) if (font) Object.assign(this._metrics, font._metrics) if (this._metrics.height &lt; 0) { this._calcHeight() if (this._metrics.height &gt; 0) Font.ALREADY_CALCULATED_FONTS.push(this) } } return this._metrics.height } /** * Translates the Font properties into CSS statements * @param {Object} css - The object where to add CSS properties. When null or undefined, a new * object will be created and returned. * @returns {Object} - A set of CSS property-values pairs, ready to be used by JQuery * [.css(properties)](http://api.jquery.com/css/#css-properties). */ toCss(css) { if (!css) css = {} css['font-family'] = this.family css['font-size'] = `${this.size}px` if (this.hasOwnProperty('bold')) css['font-weight'] = this.bold ? 'bold' : 'normal' if (this.hasOwnProperty('italic')) css['font-style'] = this.italic ? 'italic' : 'normal' if (this.hasOwnProperty('variant')) css['font-variant'] = this.variant return css } /** * Gets the codification of this font in a single string, suitable to be used in a `font` * CSS attribute. * @returns {String} - A string with all the CSS font properties concatenated */ cssFont() { return `${this.italic ? 'italic ' : 'normal'} ${this.variant === '' ? 'normal' : this.variant} ${this.bold ? 'bold ' : 'normal'} ${this.size}pt ${this.family}` } /** * The {@link https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics TextMetrics} object used * by {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D CanvasRenderingContext2D} * does not provide a `heigth` value for rendered text. * This {@link http://stackoverflow.com/questions/1134586/how-can-you-find-the-height-of-text-on-an-html-canvas stackoverflow question} * has an excellent response by Daniel Earwicker explaining how to measure the * vertical dimension of rendered text using a `span` element. * The code has been slighty adapted to deal with Font objects. * * _Warning_: Do not call this method direcly. Use {@link Font#getHeight getHeight()} instead * * @returns {Font} */ _calcHeight() { const $text = $('&lt;span/&gt;').html('Hg').css(this.toCss()), $block = $('&lt;div/&gt;').css({ display: 'inline-block', width: '1px', height: '0px' }), $div = $('&lt;div/&gt;').append($text, $block) $('body').append($div) try { $block.css({ verticalAlign: 'baseline' }) this._metrics.ascent = $block.offset().top - $text.offset().top $block.css({ verticalAlign: 'bottom' }) this._metrics.height = $block.offset().top - $text.offset().top this._metrics.descent = this._metrics.height - this._metrics.ascent } finally { $div.remove() } return this } /** * Checks if two Font objects are equivalent * @param {Font} font - The Font object to compare against this one * @returns {Boolean} - `true` if both objects are equivalent, `false` otherwise */ equals(font) { return this.family === font.family &amp;&amp; this.size === font.size &amp;&amp; this.bold === font.bold &amp;&amp; this.italic === font.italic &amp;&amp; this.variant === font.variant } } /** * Array of font objects with already calculated heights */ Font.ALREADY_CALCULATED_FONTS = [] /** * Array of font names already loaded from Google Fonts */ Font.ALREADY_LOADED_FONTS = [] /** * Google Fonts equivalent for special fonts used in some JClic projects. * More substitutions can be added to the list for specific projects indicating a * `fontSubstitutions` object in the `data-options` attribute of the HTML `div` element * containing the player. * For example: * `&lt;div class =&quot;JClic&quot; data-project=&quot;demo.jclic&quot; data-options='{&quot;fontSubstitutions&quot;:{&quot;arial&quot;:&quot;Arimo&quot;}}'/&gt;` */ Font.SUBSTITUTIONS = { 'abc': 'Kalam', 'a.c.m.e. secret agent': 'Permanent Marker', 'comic sans ms': 'Patrick Hand', 'impact': 'Oswald', 'massallera': 'Vibur', 'memima': 'Vibur', 'memima_n1': 'Vibur', 'memima_n2': 'Vibur', 'memimas-regularalternate': 'Vibur', 'palmemim': 'Vibur', 'zurichcalligraphic': 'Felipa' } Object.assign(Font.prototype, { /** * The `font-family` property * @name Font#family * @type {string} */ family: 'Arial', /** * The font size * __Warning__: Do not change `size` directly. Use the {@link Font#setSize|setSize()} * method instead. * @name Font#size * @type {number} */ size: 17, /** * The font _bold_ value * @name Font#bold * @type {number} */ bold: 0, /** * The font _italic_ value * @name Font#italic * @type {number} */ italic: 0, /** * The font _variant_ value * @name Font#variant * @type {string}*/ variant: '', /** * The font *_metrics* property contains the values for `ascent`, `descent` and `height` * attributes. Vertical font metrics are calculated in * {@link Font#_calcHeight|calcHeight()} as needed. * @name Font#_metrics * @private * @type {{ascent: number, descent: number, height: number}} */ _metrics: { ascent: -1, descent: -1, height: -1 }, }) /** * Contains parameters and methods to draw complex color gradients * @class */ class Gradient { /** * Gradient constructor * @param {string} c1 - The initial color, in any CSS-valid form. * @param {string} c2 - The final color, in any CSS-valid form. * @param {number=} [angle=0] - The inclination of the gradient relative to the horizontal line. * @param {number=} [cycles=1] - The number of times the gradient will be repeated. */ constructor(c1, c2, angle, cycles) { if (c1) this.c1 = c1 if (c2) this.c2 = c2 if (typeof angle === 'number') this.angle = angle % 360 if (typeof cycles === 'number') this.cycles = cycles } /** * Reads the properties of this Gradient from an XML element * @param {external:jQuery} $xml - The xml element to be parsed * @returns {Gradient} */ setProperties($xml) { this.c1 = Utils.checkColor($xml.attr('source'), 'black') this.c2 = Utils.checkColor($xml.attr('dest'), 'white') this.angle = Number($xml.attr('angle') || 0) % 360 this.cycles = Number($xml.attr('cycles') || 1) return this } /** * Creates a {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasGradient|CanvasGradient} * based on the provided context and rectangle. * @param {external:CanvasRenderingContext2D} ctx - The 2D rendering context * @param {Rectangle} rect - The rectangle where this gradient will be applied to * @returns {Gradient} */ getGradient(ctx, rect) { const p2 = rect.getOppositeVertex(), gradient = ctx.createLinearGradient(rect.pos.x, rect.pos.y, p2.x, p2.y), step = 1 / Math.max(this.cycles, 1) for (let i = 0; i &lt;= this.cycles; i++) gradient.addColorStop(i * step, i % 2 ? this.c1 : this.c2) return gradient } /** * Gets the CSS 'linear-gradient' expression of this Gradient * @returns {string} - A string ready to be used as a value for the `linear-gradient` CSS attribute */ getCss() { let result = `linear-gradient(${(this.angle + 90)}deg, ${this.c1}, ${this.c2}` for (let i = 1; i &lt; this.cycles; i++) result = `${result}, ${i % 2 &gt; 0 ? this.c1 : this.c2}` return `${result})` } /** * Checks if any of the gradient colors has transparency * @returns {boolean} - `true` if this gradient uses colors with transparency, `false` otherwise. */ hasTransparency() { return Utils.colorHasTransparency(this.c1) || Utils.colorHasTransparency(this.c2) } } Object.assign(Gradient.prototype, { /** * Initial color * @name Gradient#c1 * @type {string} */ c1: 'white', /** * Final color * @name Gradient#c2 * @type {string} */ c2: 'black', /** * Tilt angle * @name Gradient#angle * @type {number} */ angle: 0, /** * Number of repetitions of the gradient * @name Gradient#cycles * @type {number} */ cycles: 1, }) /** * Contains properties used to draw lines in HTML `canvas` elements. * @see {@link http://bucephalus.org/text/CanvasHandbook/CanvasHandbook.html#line-caps-and-joins} * @class */ class Stroke { /** * Stroke constructor * @param {number=} [lineWidth=1] - The line width of the stroke * @param {string=} [lineCap='butt'] - The line ending type. Possible values are: `butt`, `round` * and `square`. * @param {string=} [lineJoin='miter'] - The type of drawing used when two lines join. Possible * values are: `round`, `bevel` and `miter`. * @param {number=} [miterLimit=10] - The ratio between the miter length and half `lineWidth`. */ constructor(lineWidth, lineCap, lineJoin, miterLimit) { if (typeof lineWidth === 'number') this.lineWidth = lineWidth if (lineCap) this.lineCap = lineCap if (lineJoin) this.lineJoin = lineJoin if (typeof miterLimit === 'number') this.miterLimit = miterLimit } /** * Sets the properties of this stroke to a CanvasRenderingContext2D * @param {external:CanvasRenderingContext2D} ctx - The canvas 2D rendering context * @returns {external:CanvasRenderingContext2D} */ setStroke(ctx) { ctx.lineWidth = this.lineWidth ctx.lineCap = this.lineCap ctx.lineJoin = this.lineJoin ctx.miterLimit = this.miterLimit return ctx } } Object.assign(Stroke.prototype, { /** * The line width * @name Stroke#lineWidth * @type {number} */ lineWidth: 1.0, /** * The line ending type (`butt`, `round` or `square`) * @name Stroke#lineCap * @type {string} */ lineCap: 'butt', /** * The drawing used when two lines join (`round`, `bevel` or `miter`) * @name Stroke#lineJoin * @type {string} */ lineJoin: 'miter', /** * Ratio between the miter length and half `lineWidth` * @name Stroke#miterLimit * @type {number} */ miterLimit: 10.0, }) /** * Contains the `x` andy `y` coordinates of a point, and provides some useful methods. * @class */ class Point { /** * Point constructor * @param {number|Point} x - When `x` is an `Point` object, a clone of it will be created. * @param {number=} y - Not used when `x` is an `Point` */ constructor(x, y) { if (x instanceof Point) { // Special case: constructor passing another point as unique parameter this.x = x.x this.y = x.y } else { this.x = x || 0 this.y = y || 0 } } /** * Reads the properties of this Point from an XML element * @param {external:jQuery} $xml - The xml element to be parsed * @returns {Point} */ setProperties($xml) { this.x = Number($xml.attr('x')) this.y = Number($xml.attr('y')) return this } /** * Moves this Point to a new position, by a specified displacement * @param {Point|Dimension} delta - The amount to move * @returns {Point} */ moveBy(delta) { this.x += delta.x || delta.width || 0 this.y += delta.y || delta.height || 0 return this } /** * Moves this Point to a new position * @param {number|Point} newPos - The new position, or a x coordinate * @param {number=} y - `null` or `undefined` when `newPos` is a Point * @returns {Point} */ moveTo(newPos, y) { if (typeof newPos === 'number') { this.x = newPos this.y = y } else { this.x = newPos.x this.y = newPos.y } return this } /** * Multiplies the `x` and `y` coordinates by a specified `delta` * @param {Point|Dimension} delta - The amount to multiply by. * @returns {Point} */ multBy(delta) { this.x *= delta.x || delta.width || 0 this.y *= delta.y || delta.height || 0 return this } /** * Checks if two points are at the same place * @param {Point} p - The Point to check against to * @returns {boolean} */ equals(p) { return this.x === p.x &amp;&amp; this.y === p.y } /** * Calculates the distance between two points * @param {Point} point - The Point to calculate the distance against to * @returns {number} - The distance between the two points. */ distanceTo(point) { return Math.sqrt(Math.pow(this.x - point.x, 2), Math.pow(this.y - point.y, 2)) } /** * Clones this point * @returns {Point} */ clone() { return new Point(this) } } Object.assign(Point.prototype, { /** * @name Point#x * @type {number} */ x: 0, /** * @name Point#y * @type {number} */ y: 0, }) /** * This class encapsulates `width` and `height` properties. * @class */ class Dimension { /** * Dimension constructor * @param {number|Point} w - The width of this Dimension, or the upper-left vertex of a * virtual Rectangle * @param {number|Point} h - The height of this Dimension, or the bottom-right vertex of a * virtual Rectangle */ constructor(w, h) { if (w instanceof Point &amp;&amp; h instanceof Point) { this.width = h.x - w.x this.height = h.y - w.y } else { this.width = w || 0 this.height = h || 0 } } /** * Reads the properties of this Dimension from an XML element * @param {external:jQuery} $xml - The xml element to be parsed * @returns {Dimension} */ setProperties($xml) { this.width = Number($xml.attr('width')) this.height = Number($xml.attr('height')) return this } /** * Check if two dimensions are equivalent * @param {Dimension} d * @returns {Boolean} */ equals(d) { return this.width === d.width &amp;&amp; this.height === d.height } /** * Multiplies the `w` and `h` co-ordinates by a specified `delta` * @param {Point|Dimension} delta * @returns {Dimension} */ multBy(delta) { this.width *= delta.x || delta.width || 0 this.height *= delta.y || delta.height || 0 return this } /** * Sets new values for width and height. * `width` can be a number or another `Dimension` object * @param {number|Dimension} width - The new width, or a full Dimension to copy it from. * @param {number=} height - Not used when `width` is a Dimension * @returns {Dimension} */ setDimension(width, height) { if (width instanceof Dimension) { height = width.height width = width.width } this.width = width this.height = height return this } /** * Calculates the area of a Rectangle with this dimension * @return {number} The resulting area */ getSurface() { return this.width * this.height } } Object.assign(Dimension.prototype, { /** * @name Dimension#width * @type {number} */ width: 0, /** * @name Dimension#height * @type {number} */ height: 0, }) /** * Shape is a generic abstract class for rectangles, ellipses and stroke-free shapes. * @abstract * @class */ class Shape { /** * Shape constructor * @param {Point} pos - The top-left coordinates of this Shape */ constructor(pos) { this.pos = pos || new Point() } /** * Shifts the shape a specified amount in horizontal and vertical directions * @param {Point|Dimension} delta - The amount to shift the Shape * @returns {Shape} */ moveBy(delta) { this.pos.moveBy(delta) return this } /** * Moves this shape to a new position * @param {Point} newPos - The new position of the shape * @returns {Shape} */ moveTo(newPos) { this.pos.moveTo(newPos) return this } /** * Gets the enclosing {@link Rectangle} of this Shape. * @returns {Rectangle} */ getBounds() { return new Rectangle(this.pos) } /** * Checks if two shapes are equivalent. * @param {Shape} p - The Shape to compare against * @returns {boolean} */ equals(p) { return this.pos.equals(p.pos) } /** * Multiplies the dimension of the Shape by the specified `delta` amount. * @param {Point|Dimension} _delta - Object containing the X and Y ratio to be scaled. * @returns {Shape} */ scaleBy(_delta) { // Nothing to scale in abstract shapes return this } /** * Gets a clone of this shape moved to the `pos` component of the rectangle and scaled * by its `dim` value. * @param {Rectangle} rect - The rectangle to be taken as a base for moving and scaling * this shape. * @returns {Shape} */ getShape(rect) { return this.clone().scaleBy(rect.dim).moveBy(rect.pos) } /** * Checks if the provided {@link Point} is inside this shape. * @param {Point} _p - The point to check * @returns {boolean} */ contains(_p) { // Nothing to check in abstract shapes return false } /** * Checks if the provided {@link Rectangle} `r` intersects with this shape. * @param {Rectangle} _r * @returns {boolean} */ intersects(_r) { // Nothing to check in abstract shapes return false } /** * Fills the Shape with the current style in the provided HTML canvas context * @param {external:CanvasRenderingContext2D} ctx - The canvas 2D rendering context where to fill this shape. * @param {Rectangle=} dirtyRegion - The context region to be updated. Used as clipping * region when drawing. * @returns {external:CanvasRenderingContext2D} - The provided rendering context */ fill(ctx, dirtyRegion) { ctx.save() if (dirtyRegion &amp;&amp; dirtyRegion.getSurface() &gt; 0) { // Clip the dirty region ctx.beginPath() ctx.rect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) ctx.clip() } // Prepare shape path and fill this.preparePath(ctx) ctx.fill() ctx.restore() return ctx } /** * Draws this shape in the provided HTML canvas 2D rendering context. * @param {external:CanvasRenderingContext2D} ctx - The canvas 2D rendering context where to draw the shape. * @returns {external:CanvasRenderingContext2D} - The provided rendering context */ stroke(ctx) { this.preparePath(ctx) ctx.stroke() return ctx } /** * Prepares an HTML canvas 2D rendering context with a path that can be used to stroke a line, * to fill a surface or to define a clipping region. * @param {external:CanvasRenderingContext2D} ctx * @returns {external:CanvasRenderingContext2D} - The provided rendering context */ preparePath(ctx) { // Nothing to do in abstract shapes return ctx } /** * Creates a clipping region on the specified HTML canvas 2D rendering context * @param {external:CanvasRenderingContext2D} ctx - The rendering context * @param {string=} [fillRule='nonzero'] - Can be 'nonzero' (default when not set) or 'evenodd' * @returns {external:CanvasRenderingContext2D} - The provided rendering context */ clip(ctx, fillRule) { this.preparePath(ctx) ctx.clip(fillRule || 'nonzero') return ctx } /** * Shorthand method for determining if a Shape is an {@link Rectangle} * @returns {Boolean} */ isRect() { return false } /** * Overwrites the original 'Object.toString' method with a more descriptive text * @returns {String} */ toString() { return `Shape enclosed in ${this.getBounds().getCoords()}` } } Object.assign(Shape.prototype, { /** * The current position of the shape * @name Shape#pos * @type {Point} */ pos: new Point(), }) /** * The rectangular {@link Shape} accepts five different sets of parameters: * @example * // Calling Rectangle() with different sets of parameters * // A Point and a Dimension: * new Rectangle(pos, dim) * // Another Rectangle, to be cloned: * new Rectangle(rect) * // Two Point objects containing the coordinates of upper-left and lower-right vertexs: * new Rectangle(p0, p1) * // An array of four numbers with the coordinates of the same vertexs: * new Rectangle([x0, y0, x1, y1]) * // Four single numbers, meaning the same coordinates as above: * new Rectangle(x0, y0, x1, y1) * @class * @extends Shape */ class Rectangle extends Shape { /** * Rectangle constructor * @param {Point|Rectangle|number|number[]} pos * @param {Dimension|number=} dim * @param {number=} w * @param {number=} h */ constructor(pos, dim, w, h) { let p = pos, d = dim // Special case: constructor with a Rectangle as a unique parameter if (pos instanceof Rectangle) { d = new Dimension(pos.dim.width, pos.dim.height) p = new Point(pos.pos.x, pos.pos.y) } else if (pos instanceof Point) { p = new Point(pos.x, pos.y) if (dim instanceof Dimension) d = new Dimension(dim.width, dim.height) } else if (pos instanceof Array) { // Assume `pos` is an array of numbers indicating: x0, y0, x1, y1 p = new Point(pos[0], pos[1]) d = new Dimension(pos[2] - pos[0], pos[3] - pos[1]) } else if (typeof w === 'number' &amp;&amp; typeof h === 'number') { // width and height passed. Treat all parameters as co-ordinates: p = new Point(pos, dim) d = new Dimension(w, h) } super(p) if (d instanceof Dimension) this.dim = d else if (d instanceof Point) this.dim = new Dimension(d.x - this.pos.x, d.y - this.pos.y) else this.dim = new Dimension() } /** * Gets the enclosing {@link Rectangle} of this Shape. * @returns {Rectangle} */ getBounds() { return this } /** * Sets this Rectangle the position and dimension of another one * @param {Rectangle} rect * @returns {Rectangle} */ setBounds(rect) { if (!rect) rect = new Rectangle() this.pos.x = rect.pos.x this.pos.y = rect.pos.y this.dim.width = rect.dim.width this.dim.height = rect.dim.height return this } /** * Checks if two shapes are equivalent. * @param {Shape} r - The Shape to compare against * @returns {boolean} */ equals(r) { return r instanceof Rectangle &amp;&amp; this.pos.equals(r.pos) &amp;&amp; this.dim.equals(r.dim) } /** * Clones this Rectangle * @returns {Rectangle} */ clone() { return new Rectangle(this) } /** * Multiplies the dimension of the Shape by the specified `delta` amount. * @param {Point|Dimension} delta - Object containing the X and Y ratio to be scaled. * @returns {Rectangle} */ scaleBy(delta) { this.pos.multBy(delta) this.dim.multBy(delta) return this } /** * Expands the boundaries of this shape. This affects the current position and dimension. * @param {number} dx - The amount to grow (or decrease) in horizontal direction * @param {number} dy - The amount to grow (or decrease) in vertical direction * @returns {Rectangle} */ grow(dx, dy) { this.pos.x -= dx this.pos.y -= dy this.dim.width += 2 * dx this.dim.height += 2 * dy return this } /** * Gets the {@link Point} corresponding to the lower-right vertex of the Rectangle. * @returns {Point} */ getOppositeVertex() { return new Point(this.pos.x + this.dim.width, this.pos.y + this.dim.height) } /** * Adds the boundaries of another shape to the current one * @param {Shape} shape - The {@link Shape} to be added * @returns {Rectangle} */ add(shape) { const myP2 = this.getOppositeVertex(), rectP2 = shape.getBounds().getOppositeVertex() this.pos.moveTo( Math.min(this.pos.x, shape.getBounds().pos.x), Math.min(this.pos.y, shape.getBounds().pos.y)) this.dim.setDimension( Math.max(myP2.x, rectP2.x) - this.pos.x, Math.max(myP2.y, rectP2.y) - this.pos.y) return this } // // Inherits the documentation of `contains` in Shape contains(p) { const p2 = this.getOppositeVertex() return p.x &gt;= this.pos.x &amp;&amp; p.x &lt;= p2.x &amp;&amp; p.y &gt;= this.pos.y &amp;&amp; p.y &lt;= p2.y } // // Inherits the documentation of `intersects` in Shape intersects(r) { const p1 = this.pos, p2 = this.getOppositeVertex(), r1 = r.pos, r2 = r.getOppositeVertex() return r2.x &gt;= p1.x &amp;&amp; r1.x &lt;= p2.x &amp;&amp; r2.y &gt;= p1.y &amp;&amp; r1.y &lt;= p2.y } // // Inherits the documentation of `preparePath` in Shape preparePath(ctx) { ctx.beginPath() ctx.rect(this.pos.x, this.pos.y, this.dim.width, this.dim.height) return ctx } // // Inherits the documentation of `getSurface` in Shape getSurface() { return this.dim.getSurface() } // // Inherits the documentation of `isEmpty` in Shape isEmpty() { return this.getSurface() === 0 } // // Inherits the documentation of `isRect` in Shape isRect() { return true } // // Inherits the documentation of `toString` in Shape toString() { return `Rectangle ${this.getCoords()}` } /** * Gets a string with the co-ordinates of the upper-left and lower-right vertexs of this rectangle, * (with values rounded to int) * @returns {String} */ getCoords() { return `[${Math.round(this.pos.x)},${Math.round(this.pos.y)},${Math.round(this.pos.x + this.dim.width)},${Math.round(this.pos.y + this.dim.height)}]` } } Object.assign(Rectangle.prototype, { /** * The {@link Dimension} of the Rectangle * @name Rectangle#dim * @type {Dimension} */ dim: new Dimension(), }) /** * The Ellipse shape has the same constructor options as {@link Rectangle} * @class * @extends Rectangle */ class Ellipse extends Rectangle { /** * Ellipse constructor * @param {Point|Rectangle|number|number[]} pos * @param {Dimension|number=} dim * @param {number=} w * @param {number=} h */ constructor(pos, dim, w, h) { super(pos, dim, w, h) } // // Inherits the documentation of `preparePath` in Rectangle preparePath(ctx) { // Using the solution 'drawEllipseWithBezier' proposed by Steve Tranby in: // [http://jsbin.com/sosugenegi/1/edit] as a response to: // [http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas] // Thanks Steve!! const kappa = 0.5522848, ox = kappa * this.dim.width / 2, // control point offset horizontal oy = kappa * this.dim.height / 2, // control point offset vertical xe = this.pos.x + this.dim.width, // x-end ye = this.pos.y + this.dim.height, // y-end xm = this.pos.x + this.dim.width / 2, // x-middle ym = this.pos.y + this.dim.height / 2 // y-middle ctx.beginPath() ctx.moveTo(this.pos.x, ym) ctx.bezierCurveTo(this.pos.x, ym - oy, xm - ox, this.pos.y, xm, this.pos.y) ctx.bezierCurveTo(xm + ox, this.pos.y, xe, ym - oy, xe, ym) ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye) ctx.bezierCurveTo(xm - ox, ye, this.pos.x, ym + oy, this.pos.x, ym) ctx.closePath() return ctx } // // Inherits the documentation of `contains` in Shape contains(p) { // First check if the point is inside the enclosing rectangle let result = super.contains(p) if (result) { const rx = this.dim.width / 2, ry = this.dim.height / 2, cx = this.pos.x + rx, cy = this.pos.y + ry // Apply the general equation of an ellipse // See: [http://math.stackexchange.com/questions/76457/check-if-a-point-is-within-an-ellipse] // rx and ry are &gt; 0 because we are inside the enclosing rect, // so don't care about division by zero result = Math.pow(p.x - cx, 2) / Math.pow(rx, 2) + Math.pow(p.y - cy, 2) / Math.pow(ry, 2) &lt;= 1 } return result } // // Inherits the documentation of `getSurface` in Rectangle getSurface() { return Math.PI * this.dim.width / 2 * this.dim.height / 2 } // // Inherits the documentation of `equals` in Rectangle equals(e) { return e instanceof Ellipse &amp;&amp; super.equals(e) } // // Inherits the documentation of `clone` in Rectangle clone() { return new Ellipse(this.pos, this.dim) } // // Inherits the documentation of `isRect` in Rectangle isRect() { return false } // // Inherits the documentation of `toString` in Shape toString() { return `Ellipse enclosed in ${this.getCoords()}` } } /** * A `Path` is a {@link Shape} formed by a serie of strokes, represented by * {@link PathStroke} objects * @class * @extends Shape */ class Path extends Shape { /** * Path constructor * @param {PathStroke[]} strokes - The array of {@link PathStroke} objects defining this Path. */ constructor(strokes) { super() // Deep copy of the array of strokes if (strokes) { this.strokes = [] // In [Shaper](Shaper.html) objects, strokes have `action` instead of `type` and `data` instead of `points` strokes.forEach(str =&gt; this.strokes.push(new PathStroke(str.type || str.action, str.points || str.data))) } // Calculate the enclosing rectangle this.enclosing = new Rectangle() this.enclosingPoints = [] this.calcEnclosingRect() this.pos = this.enclosing.pos } // // Inherits the documentation of `clone` in Shape clone() { return new Path(this.strokes.map(str =&gt; str.clone())) } /** * Adds a {@link PathStroke} to `strokes` * @param {PathStroke} stroke */ addStroke(stroke) { this.strokes.push(stroke) return this } /** * Calculates the polygon and the rectangle that (approximately) encloses this shape * @returns {Rectangle} */ calcEnclosingRect() { this.enclosingPoints = [] let last = new Point() this.strokes.forEach(str =&gt; { str.getEnclosingPoints(last).forEach(pt =&gt; { last = new Point(pt) this.enclosingPoints.push(last) }) }) let l = this.enclosingPoints.length if (l &gt; 1 &amp;&amp; this.enclosingPoints[0].equals(this.enclosingPoints[l - 1])) { this.enclosingPoints.pop() l-- } const p0 = new Point(this.enclosingPoints[0]), p1 = new Point(this.enclosingPoints[0]) for (let k = 1; k &lt; l; k++) { const p = this.enclosingPoints[k] // Check if `p` is at left or above `p0` p0.x = Math.min(p.x, p0.x) p0.y = Math.min(p.y, p0.y) // Check if `p` is at right or below `p1` p1.x = Math.max(p.x, p1.x) p1.y = Math.max(p.y, p1.y) } this.enclosing.setBounds(new Rectangle(p0, new Dimension(p0, p1))) return this.enclosing } // // Inherits the documentation of `getBounds` in Shape getBounds() { return this.enclosing } // // Inherits the documentation of `moveBy` in Shape moveBy(delta) { this.strokes.forEach(str =&gt; str.moveBy(delta)) this.enclosingPoints.forEach(pt =&gt; pt.moveBy(delta)) this.enclosing.moveBy(delta) return this } // // Inherits the documentation of `moveTo` in Shape moveTo(newPos) { return this.moveBy(new Dimension(newPos.x - this.pos.x, newPos.y - this.pos.y)) } // // Inherits the documentation of `equals` in Shape // TODO: Implement comparision of complex paths equals(_p) { return false } // // Inherits the documentation of `scaleBy` in Shape scaleBy(delta) { this.strokes.forEach(str =&gt; str.multBy(delta)) this.enclosingPoints.forEach(pt =&gt; pt.multBy(delta)) this.enclosing.scaleBy(delta) return this } // // Inherits the documentation of `contains` in Shape contains(p) { let result = this.enclosing.contains(p) if (result) { // Let's see if the point really lies inside the polygon formed by enclosingPoints // Using the &quot;Ray casting algorithm&quot; described in [https://en.wikipedia.org/wiki/Point_in_polygon] const N = this.enclosingPoints.length let xinters = 0, counter = 0, p1 = this.enclosingPoints[0] for (let i = 1; i &lt;= N; i++) { const p2 = this.enclosingPoints[i % N] if (p.y &gt; Math.min(p1.y, p2.y)) { if (p.y &lt;= Math.max(p1.y, p2.y)) { if (p.x &lt;= Math.max(p1.x, p2.x)) { if (p1.y !== p2.y) { xinters = (p.y - p1.y) * (p2.x - p1.x) / (p2.y - p1.y) + p1.x if (p1.x === p2.x || p.x &lt;= xinters) counter++ } } } } p1 = p2 } if (counter % 2 === 0) result = false } return result } // // Inherits the documentation of `intersects` in Shape // TODO: Implement a check algorithm based on the real shape intersects(r) { return this.enclosing.intersects(r) } // // Inherits the documentation of `preparePath` in Shape preparePath(ctx) { // TODO: Implement filling paths ctx.beginPath() this.strokes.forEach(str =&gt; str.stroke(ctx)) return ctx } } Object.assign(Path.prototype, { /** * The strokes forming this Path. * @name Path#strokes * @type {PathStroke[]} */ strokes: [], /** * The {@link Rectangle} enclosing this Path (when drawing, this Rectangle don't include border width!) * @name Path#enclosing * @type {Rectangle} */ enclosing: new Rectangle(), /** * Set of vertexs of a polygon close to the real path of this shape * @name Path#enclosingPoints * @type {Point[]} */ enclosingPoints: [], }) /** * PathStroke is the basic component of {@link Path} objects * @class */ class PathStroke { /** * PathStroke constructor * @param {string} type - The type of stroke. Possible values are: `M` (move to), `L` (line to), * `Q` (quadratic to), `B` (bezier to) and `X` (close path). * @param {Point[]} points - The array of {@link Point} objects used in this Stroke. */ constructor(type, points) { this.type = type // Points are deep cloned, to avoid change the original values if (points &amp;&amp; points.length &gt; 0) { // Check if 'points' is an array of objects of type 'Point' if (points[0] instanceof Point) this.points = points.map(p =&gt; new Point(p)) // otherwise assume that 'points' contains just numbers // to be readed in pairs of x and y co-ordinates else { this.points = [] for (let i = 0; i &lt; points.length; i += 2) this.points.push(new Point(points[i], points[i + 1])) } } } /** * Calculates some of the points included in a quadratic Bézier curve * The number of points being calculated is defined in Utils.settings.BEZIER_POINTS * @see {@link https://en.wikipedia.org/wiki/B%C3%A9zier_curve} * @see {@link https://www.jasondavies.com/animated-bezier/} * * @param {Point} p0 - Starting point of the quadratic Bézier curve * @param {Point} p1 - Control point * @param {Point} p2 - Ending point * @param {number=} numPoints - The number of intermediate points to calculate. When not defined, * the value will be obtained from {@link Utils.settings.BEZIER_POINTS}. * @returns {Point[]} - Array with some intermediate points from the resulting Bézier curve */ static getQuadraticPoints(p0, p1, p2, numPoints) { if (!numPoints) numPoints = Utils.settings.BEZIER_POINTS const result = [], pxa = new Point(), pxb = new Point() for (let i = 0; i &lt; numPoints; i++) { const n = (i + 1) / (numPoints + 1) pxa.x = p0.x + (p1.x - p0.x) * n pxa.y = p0.y - (p0.y - p1.y) * n pxb.x = p1.x + (p2.x - p1.x) * n pxb.y = p1.y + (p2.y - p1.y) * n result.push(new Point(pxa.x + (pxb.x - pxa.x) * n, pxa.y - (pxa.y - pxb.y) * n)) } return result } /** * Calculates some of the points included in a cubic Bézier (curve with two control points) * The number of points being calculated is defined in Utils.settings.BEZIER_POINTS * @param {Point} p0 - Starting point of the cubic Bézier curve * @param {Point} p1 - First control point * @param {Point} p2 - Second control point * @param {Point} p3 - Ending point * @param {number=} numPoints - The number of intermediate points to calculate. When not defined, * the value will be obtained from {@link Utils.settings.BEZIER_POINTS}. * @returns {Point[]} - Array with some intermediate points from the resulting Bézier curve */ static getCubicPoints(p0, p1, p2, p3, numPoints) { const result = [] if (!numPoints) numPoints = Utils.settings.BEZIER_POINTS const pr = PathStroke.getQuadraticPoints(p0, p1, p2, numPoints) const pq = PathStroke.getQuadraticPoints(p1, p2, p3, numPoints) for (let i = 0; i &lt; numPoints; i++) { const n = (i + 1) / (numPoints + 1) result.push(new Point(pr[i].x + (pq[i].x - pr[i].x) * n, pr[i].y - (pr[0].y - pq[0].y) * n)) } return result } /** * Clones this PathStroke * @returns {PathStroke} */ clone() { // The constructors of PathStroke always make a deep copy of the `points` array return new PathStroke(this.type, this.points) } /** * Increments or decrements by `delta` the x and y coordinates of all points * @param {Point|Dimension} delta - The amount to add to the `x` and `y` * coordinates of each point. */ moveBy(delta) { if (this.points) this.points.forEach(pt =&gt; pt.moveBy(delta)) return this } /** * Multiplies each point coordinates by the `x` and `y` (or `w` and `h`) values of the * passed {@link Point} or {@link Dimension}. * @param {Point|Dimension} delta */ multBy(delta) { if (this.points) this.points.forEach(pt =&gt; pt.multBy(delta)) return this } /** * Draws this PathStroke in the provided HTML canvas context * @param {external:CanvasRenderingContext2D} ctx - The HTML canvas 2D rendering context */ stroke(ctx) { switch (this.type) { case 'M': ctx.moveTo(this.points[0].x, this.points[0].y) break case 'L': ctx.lineTo(this.points[0].x, this.points[0].y) break case 'Q': ctx.quadraticCurveTo( this.points[0].x, this.points[0].y, this.points[1].x, this.points[1].y) break case 'B': ctx.bezierCurveTo( this.points[0].x, this.points[0].y, this.points[1].x, this.points[1].y, this.points[2].x, this.points[2].y) break case 'X': ctx.closePath() break } return ctx } /** * Gets the set of points that will be included as a vertexs on the owner's shape * enclosing polygon. * @param {Point} from - The starting point for this stroke * @returns {Point[]} */ getEnclosingPoints(from) { let result = [] switch (this.type) { case 'M': case 'L': result.push(this.points[0]) break case 'Q': result = PathStroke.getQuadraticPoints(from, this.points[0], this.points[1]) result.push(this.points[1]) break case 'B': result = PathStroke.getCubicPoints(from, this.points[0], this.points[1], this.points[2]) result.push(this.points[2]) break } return result } } Object.assign(PathStroke.prototype, { /** * The Stroke type. Possible values are: `M` (move to), `L` (line to), `Q` (quadratic to), * `B` (bezier to) and `X` (close path). * @name PathStroke#type * @type {string} */ type: 'X', /** * The array of points used by this stroke. Can be `null`. * @name PathStroke#points * @type {Point[]} */ points: null, }) /** * This class encapsulates actions that can be linked to buttons, menus and other active objects * @class */ class Action { /** * Action constructor * @param {string} name - The name of this Action * @param {function} actionPerformed - The callback to be triggered by this Action */ constructor(name, actionPerformed) { this.name = name this.actionPerformed = actionPerformed this._statusListeners = [] } /** * Here is where subclasses must define the callback to be triggered when * this Action object is called * @param {Action} _thisAction - Pointer to this Action object * @param {object} _event - The original action event that has originated this action */ actionPerformed(_thisAction, _event) { return this } /** * This is the method to be passed to DOM event triggers * @example * const myFunc = () =&gt; { alert('Hello!') } * const myAction = new Action('hello', myFunc) * $( &quot;#foo&quot; ).bind( &quot;click&quot;, myAction.processEvent) * @param {object} event - The event object passed by the DOM event trigger */ processEvent(event) { return this.actionPerformed(this, event) } /** * Adds a status listener * @param {function} listener - The callback method to be called when the status of this * Action changes */ addStatusListener(listener) { this._statusListeners.push(listener) } /** * Removes a previously registered status listener * @param {function} listener - The listener to be removed */ removeStatusListener(listener) { this._statusListeners = this._statusListeners.map(l =&gt; l !== listener) } /** * Enables or disables this action * @param {boolean} enabled */ setEnabled(enabled) { this.enabled = enabled this._statusListeners.forEach(listener =&gt; listener.call(this, this)) return this } } Object.assign(Action.prototype, { /** * The action's name * @name Action#name * @type {string} */ name: null, /** * An optional description * @name Action#description * @type {string} */ description: null, /** * Action status. `true` means enabled, `false` disabled * @name Action#enabled * @type {boolean} */ enabled: false, /** * Array of callback functions to be triggered when the `enabled` flag changes * @name Action#_statusListeners * @private * @type {function[]} */ _statusListeners: null, }) /** * This class provides a timer that will launch a function at specific intervals * @class */ class Timer { /** * Timer constructor * @param {function} actionPerformed - The function to be triggered when the timer is enabled. * @param {number} interval - The interval between action calls, specified in milliseconds. * @param {boolean=} [enabled=false] - Flag to indicate if the timer will be initially enabled. */ constructor(actionPerformed, interval, enabled) { this.actionPerformed = actionPerformed this.interval = interval this.setEnabled(enabled === true) } /** * Here is where subclasses must define the function to be performed when this timer ticks. * @param {Timer} _thisTimer */ actionPerformed(_thisTimer) { return this } /** * This is the method called by `window.setInterval` * @param {Event} _event */ processTimer(_event) { this.ticks++ if (!this.repeats) this.stop() return this.actionPerformed.call(this) } /** * Enables or disables this timer * @param {boolean} enabled - Indicates if the timer should be enabled or disabled * @param {boolean=} [retainCounter=false] - When `true`, the ticks counter will not be cleared */ setEnabled(enabled, retainCounter) { if (!retainCounter) this.ticks = 0 if (enabled &amp;&amp; this.timer !== null) { // Timer already running return } if (enabled) { this.timer = window.setInterval(() =&gt; this.processTimer(null), this.interval) } else { if (this.timer !== null) { window.clearInterval(this.timer) this.timer = null } } return this } /** * Checks if this timer is running * @returns {Boolean} */ isRunning() { return this.timer !== null } /** * Starts this timer * @param {boolean=} [retainCounter=false] - When `true`, the ticks counter will not be cleared */ start(retainCounter) { return this.setEnabled(true, retainCounter) } /** * Stops this timer * @param {boolean=} [retainCounter=false] - When `true`, the ticks counter will not be cleared */ stop(retainCounter) { return this.setEnabled(false, retainCounter) } } Object.assign(Timer.prototype, { /** * The timer interval, in milliseconds * @name Timer#interval * @type {number} */ interval: 0, /** * The ticks counter * @name Timer#ticks * @type {number} */ ticks: 0, /** * The object returned by `window.setInterval` * @name Timer#timer * @type {object} */ timer: null, /** * When `true`, the timer should repeat until `stop` is called * @name Timer#repeats * @type {boolean} */ repeats: true, }) /** * Logic object that takes care of an &quot;invalidated&quot; rectangle that will be repainted * at the next update of a 2D object, usually an HTML Canvas. * Container has the same constructor options as {@link Rectangle} * @class * @extends Rectangle */ class Container extends Rectangle { /** * Container constructor * @param {Point|Rectangle|number|number[]} pos * @param {Dimension|number=} dim * @param {number=} w * @param {number=} h */ constructor(pos, dim, w, h) { super(pos, dim, w, h) } /** * Adds the provided rectangle to the invalidated area. * @param {Rectangle} rect */ invalidate(rect) { if (rect) { if (this.invalidatedRect === null) this.invalidatedRect = rect.clone() else this.invalidatedRect.add(rect) } else this.invalidatedRect = null return this } /** * Updates the invalidated area */ update() { this.updateContent(this.invalidatedRect) this.invalidatedRect = null return this } /** * Containers should implement this method to update its graphic contents. It should * be called from {@link Container~update} * @param {Shape} _dirtyRegion - Specifies the area to be updated. When `null`, it's the whole * Container. */ updateContent(_dirtyRegion) { // To be overrided by subclasses. Here does nothing. return this } } Object.assign(Container.prototype, { /** * The currently &quot;invalidated&quot; area * @name Container#invalidatedRect * @type {Rectangle} */ invalidatedRect: null, }) // Returns a composite object with all classes return { Font, Gradient, Stroke, Point, Dimension, Shape, Rectangle, Ellipse, Path, PathStroke, Action, Timer, Container } }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_panels_Menu.js.html":{"id":"activities_panels_Menu.js.html","title":"Source: activities/panels/Menu.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/panels/Menu.js /** * File : activities/panels/Menu.js * Created : 20/07/2017 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../media/MediaContent&quot;, &quot;../../Utils&quot; ], function ($, Activity, MediaContent, Utils) { /** * This class of {@link Activity} is only used in legacy JClic project libraries. It contains * one or more buttons pointing to specific JClic projects or to other `Menu` activity panels. * @exports Menu * @class * @extends Activity */ class Menu extends Activity { /** * Menu constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) this.menuElements = [] // This kind of activities are not reported this.includeInReports = false this.reportActions = false } } /** * The {@link ActivityPanel} where Menu will show its content. * @class * @extends ActivityPanel * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. */ class MenuPanel extends Activity.Panel { /** * MenuPanel constructor * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) // This kind of activity will always clean the &quot;last project skin&quot; setting ps.lastProjectSkin = null } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() // This `div` will contain the action buttons const $btnDiv = $('&lt;div/&gt;').css({ 'width': '100%', 'max-height': '100%', 'position': 'absolute', 'top': '50%', 'transform': 'translateY(-50%)', 'display': 'flex', 'flex-wrap': 'wrap', 'overflow-y': 'auto', 'place-content': 'center', 'overflow-y': 'auto' }) this.act.menuElements.forEach((me) =&gt; { // Create a button for each menu element const caption = me.description || me.caption || 'JClic' const $btn = $('&lt;button/&gt;', { class: 'StockBtn', title: caption, 'aria-label': caption }).css({ 'min-width': '80px', 'max-width': '200px', 'min-height': '80px', 'margin': '4px', 'padding': '4px', 'display': 'flex', 'flex-direction': 'column', 'justify-content': 'center', 'align-items': 'center' }) // Set the button icon const iconSrc = MenuPanel.icons[me.icon || '@ico00.png'], $img = $('&lt;img/&gt;', { src: iconSrc || '' }).css({ 'max-width': '180px', 'max-height': '100px', 'margin': '4px' }) if (!iconSrc) { // It's not a stock image, so load `src` when available const mbe = this.act.project.mediaBag.getElement(me.icon, true) mbe.getFullPathPromise().then(imgFullPath =&gt; $img.attr('src', imgFullPath)) } $btn.append($img) // Set the button text $btn.append($('&lt;span/&gt;').css({ 'max-width': '180px', 'overflow': 'hidden', 'white-space': 'nowrap', 'text-overflow': 'ellipsis' }).html(me.caption)) // Set a click listener method // $btn.on('click', function...) does not work! $btn[0].addEventListener('click', (ev) =&gt; { const mc = new MediaContent(me.projectPath ? 'RUN_CLIC_PACKAGE' : 'RUN_CLIC_ACTIVITY', me.sequence) if (me.projectPath) mc.externalParam = me.projectPath Utils.log('info', `Launching ${me.projectPath || ''} ${me.sequence || ''}`) this.ps.playMedia(mc) ev.preventDefault() }) // Place the created button on the container $btnDiv.append($btn) }) // Add the buttons container on the main panel `div` this.$div.empty().append($btnDiv) } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return preferredMaxSize } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false this.setAndPlayMsg('initial', 'start') this.playing = true } } /** * Default icons used in buttons, inherited from JClic * @type {object} */ MenuPanel.icons = { '@ico00.png': 'data:image/png;base64,\\ iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB1UExURUxpcZVZAGyAAGyAAJVZAJVZAJVZAIhmAJVZAJVZAJVZAIhmAGyAAGyAAGyA\\ AGyAAGyAAJVZAJVZAGyAAJVZANj+AP+ZAMFzAPWSALVsANyEAM57AJ66AOiLALXVAM3xAK1nAI6oAIabAJWwAMTnAKFgAGyAAIlz9xYAAAAVdFJOUwB9oCIiZpkRRKq7M4BVu9VmVd1EzJvdA7gAAAE0\\ SURBVDjLjZPZkoMgEEVFFsHdZBQR3M38/ycOKQ1gJKnpV051nwtNEPyrsjBNom9AqNSapxn8CBRjXY+DmjXkbQSXeq9tWJe7ByhVberXqzCY8yGM6GVK9FQ4SpVUxAwnJ+A+2wkLBLLppYgJRgZIrcJY\\ BKxvdLUdFzE4mHBzFNDUvKoVdFfI7YQ1q7gD7LowXNRwaM4R6AzQEXNRWZrPT2jLA9YaQOIXQHV0WIbFvKZImPNGmLCMCwY0lJQQS6vAzEXFjY7Of5iORXwKySHe8+kWWwVeGQUnmW3QTMgDONUbhQ+A\\ BAZwozkTqH1Ox8za3Jz3drLZDMABquuM9nFaKXZpwfFpp+j0ZiHJ21pifiIkQ++Lix+9nc+Z5/tQwrt2fxEBvN8vooQJLgTDX74xSi6z/wAoQC7hWsslMgAAAABJRU5ErkJggg==', '@ico01.png': 'data:image/png;base64,\\ iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcfzZt/rfw/pycvrcv/3UrJqf/QAAAP/hxPvOov9sbPqFhYmN/f7nz3V4\\ +/3ky/+AgPrIl11g/P/Klf+Kiv9XV//q1vtHR/rCim1w//pcXISI//tfX5WY/VNT///Dh/86OvwhISUl/js7+klM+vq6e8H/VfEAAAABdFJOUwBA5thmAAABGElEQVQ4y62T23aCMBBFiU48iQlELoJW\\ 7b3//4udBIi0MqsvDU+w95yEGSiK/15YrlVhd1+C8Nk05+ribzcvCJlXklBV3u/8pToLAnMk3kiCh0Hkz4LA/NSC+YcgANTWYP4OqVGmtmAuC2St2Mn4EMbq9TaPvABpDborD+OB0QqG8hbo3HTNAikF\\ CtEZBTcMx+t+ewC2U4IyMAFUTgVd5nukHYlrqYcxSBlw15k/gTlXx/ySPT5NLOkyP7IQq0PoOd/wSZLgmLtD5AMLsS70ZbnZEL+LTQmZv6aEQIkrpTUlwWX+FhNCyNzaOiVkHgXODyHzFr87ye/3g+Nx\\ GrTgJ6zNa8nXJ04zf4Ew88ylr8KM/At//sB88w0/sBcK3bRRzgAAAABJRU5ErkJggg==', '@ico02.png': 'data:image/png;base64,\\ iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcQAAAP///8zMzJmZmfrdwP/hxPvOov3UrP3JlvzZt/zlzf/p0/zBh/rD\\ jUN28cYAAAABdFJOUwBA5thmAAAAyklEQVQ4y6WT6w6DIAxG/YS2XHTv/7grLshF0C1r+KE5n6fFpMvybQHt6bldbXfQcazNsTD4MdCV+S+AQcBUBYa5M4BfHrcB8oNA08HLg0EeAiwOuGtBzoE0Mje4\\ AO4S7QwhgDhlZrcISiNoqxzFoGbSb5Uyozhs4ckdD4M+OfQtUmeKcUsGnaQEyoSp/6YJIr2LXAPqp4OH4BzJtUXyZy7iBwbl8eSDALUc/Z/Sv1DxHfVm5ao5hjtIme+YbOnJMdlj/vCJoB5HX97wIgms\\ 7CtjdwAAAABJRU5ErkJggg==', '@ico03.png': 'data:image/png;base64,\\ iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUxpcQAAAPrdwP/hxP7mz/8AAAAAmfvOov3UrAAA//3JlvzZtwCZAP8A//zC\\ ifq6e7UN6GsAAAABdFJOUwBA5thmAAABA0lEQVQ4y5WS2RbDIAhEHdyTJv3/vy2osVj1oR6zeYcBDcb8NV6v9fp1NV7mgq8cMs/cDWYHhrmomsM1pcj9pgS7FL3IZ6AI8nazsCiCnPOG3wf0QpArfDno\\ GATC6mwc9oi/AtMFgAFFLQhDCuZcQ0yAMghB+cuNUgJpSVM1zg7phGUFpv3VFdB5gqxolpwdTqYO5EaPJ57PgWOZWgvt0bl4u+LAbwmzv0Q7JxquJM2FSpwTBRHvRU7Mey/E16f4FwfeSkpUBD26CIQ+\\ PMajODTmaw0Dr7/V1zRVQCNvAvNw6QbFb5iWwvRaWKE4Vh3H/6LxG+ueROfYdXXlb+zavg/++ADYLwfSmmk9oQAAAABJRU5ErkJggg==', '@icofolder.png': 'data:image/png;base64,\\ iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUxpcffvhP///2VlZczMZv//zPf39+/nc8zMzDMzmZmZZrW1tbWttcl3sA0A\\ AAABdFJOUwBA5thmAAAAgklEQVQ4y9WSQQ6AIAwEsVtFwf+/14JGbcHeTHSuO9kFQggfBE8BFwLR+mBwFGYSZvh53zjzZTdkLTXCkS/ViDHBCLe8Gla48qpkGEHl+8pdYJo0yOouPA2GhLLiCCyC28DI\\ cAXZ0IfsVKS3BTGUMDas0E9NfkO/ovmQBv2v0BJ+xAaYuQX2hCJNtwAAAABJRU5ErkJggg==' } /** * Panel class associated to this type of activity: {@link MenuPanel} * @type {class} */ Menu.Panel = MenuPanel // Register class in Activity.prototype Activity.CLASSES['@panels.Menu'] = Menu return Menu }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_AbstractBox.js.html":{"id":"boxes_AbstractBox.js.html","title":"Source: boxes/AbstractBox.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/AbstractBox.js /** * File : boxes/AbstractBox.js * Created : 18/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../AWT&quot;, &quot;./BoxBase&quot; ], function ($, AWT, BoxBase) { /** * This abstract class is the base for most graphic components of JClic. It describes an area * (by default an {@link AWT.Rectangle}) with some special properties that determine how it must * be drawn on screen. * * Some types of boxes can act as containers for other boxes, establishing a hierarchy of dependences. * @exports AbstractBox * @abstract * @class * @extends AWT.Rectangle */ class AbstractBox extends AWT.Rectangle { /** * AbstractBox constructor * @param {?AbstractBox} parent - The AbstractBox to which this one belongs * @param {?AWT.Container} container - The container where this box is placed. * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties * of this box are defined. */ constructor(parent, container, boxBase) { // AbstractBox extends AWT.Rectangle super() this.container = container this.parent = parent this.boxBase = boxBase this.shape = this this.specialShape = false this.visible = true } /** * Setter method for `parent` * @param {AbstractBox} parent - The new parent of this box */ setParent(parent) { this.parent = parent } /** * Gets the current parent of this box * @returns {AbstractBox} */ getParent() { return this.parent } /** * Finisher method */ end() { } /** * Setter method for `container` * @param {AWT.Container} newContainer - The new Container assigned to this box */ setContainer(newContainer) { this.container = newContainer if (this.$hostedComponent &amp;&amp; this.container &amp;&amp; this.container.$div) { this.$hostedComponent.detach() this.container.$div.append(this.$hostedComponent) } } /** * Gets the `container` attribute of this box, without checking its parent * @returns {?AWT.Container} */ getContainerX() { return this.container } /** * Gets the container associated to this box, asking its parents when `null`. * @returns {?AWT.Container} */ getContainerResolve() { let ab = this while (ab.container === null &amp;&amp; ab.parent !== null) ab = ab.parent return ab.container } /** * Invalidates the zone corresponding to this box in the associated {@link AWT.Container}, if any. * @param {AWT.Rectangle} rect - The rectangle to be invalidated. When `null`, it's the full * container area. */ invalidate(rect) { const cnt = this.getContainerResolve() if (cnt) cnt.invalidate(rect) } /** * Sets the {@link BoxBase} of this box * @param {BoxBase} boxBase - The new BoxBase */ setBoxBase(boxBase) { this.boxBase = boxBase this.invalidate() } /** * Gets the real {@link BoxBase} associated to this box, scanning down parent relationships. * @returns {BoxBase} */ getBoxBaseResolve() { let ab = this while (!ab.boxBase &amp;&amp; ab.parent) ab = ab.parent return ab.boxBase || BoxBase.prototype.defaultBoxBase } /** * Sets the shape used to draw the content of this box * @param {AWT.Shape} sh - The shape to be set */ setShape(sh) { this.shape = sh this.specialShape = true this.invalidate() super.setBounds(sh.getBounds()) this.invalidate() } /** * Gets the current shape used in this box * @returns {AWT.Shape} */ getShape() { return this.shape } /** * Check if this box contains the specified point * @override * @param {AWT.Point} p - The point to be checked * @returns {boolean} */ contains(p) { return this.shape === this ? super.contains(p) : this.shape.contains(p) } /** * Sets a new size and/or dimension to this box * @override * @param {(AWT.Rectangle|number)} rect - An AWT.Rectangle object, or the `x` coordinate of the * upper-left corner of a new rectangle. * @param {number=} y - `y` coordinate of the upper-left corner of the new rectangle. * @param {number=} w - Width of the new rectangle. * @param {number=} h - Height of the new rectangle. */ setBounds(rect, y, w, h) { if (typeof rect === 'number') // arguments are co-ordinates and size rect = new AWT.Rectangle(rect, y, w, h) // Rectangle comparision if (this.equals(rect)) return const sizeChanged = !this.dim.equals(rect.dim) if (this.specialShape) { if (sizeChanged) { this.shape.scaleBy(new AWT.Dimension(rect.dim.width / this.dim.width, rect.dim.height / this.dim.height)) this.setShape(this.shape) } if (!this.pos.equals(rect.pos)) { this.shape.moveTo(rect.pos) } this.setShape(this.shape) } else super.setBounds(rect) if (this.$hostedComponent) this.setHostedComponentBounds(sizeChanged) return this } /** * Sets a new location for this box. In JClic this method was named `setLocation` * @param {(AWT.Point|number)} newPos - A point or the `x` coordinate of a new point. * @param {number=} y - The `y` coordinate of a new point. */ moveTo(newPos, y) { if (typeof newPos === 'number') newPos = new AWT.Point(newPos, y) this.setBounds((new AWT.Rectangle(this)).moveTo(newPos)) } /** * Sets a new location to this box. In JClic this method was named `translate`. * @param {number} dx - The displacement on the X axis * @param {number} dy - The displacement on the Y axis */ moveBy(dx, dy) { this.setBounds((new AWT.Rectangle(this)).moveBy(dx, dy)) } /** * Changes the size of this box * @param {number} width * @param {number} height */ setSize(width, height) { this.setBounds(new AWT.Rectangle(this.pos, new AWT.Dimension(width, height))) } /** * Checks if this box has border * @returns {boolean} */ hasBorder() { return this.border } /** * Sets/unsets a border to this box * @param {boolean} newVal - `true` to set a border. */ setBorder(newVal) { if (!newVal) this.invalidate() this.border = newVal if (newVal) this.invalidate() } /** * Checks if this box is fully visible * @returns {boolean} */ isVisible() { return this.visible } /** * Sets this box visible or invisible * @param {boolean} newVal - `true` for visible */ setVisible(newVal) { this.visible = newVal this.setHostedComponentVisible() this.invalidate() } /** * Makes {@link AbstractBox#$hostedComponent} visible or invisible, based on the value of * the AbstractBox `visible` flag. */ setHostedComponentVisible() { if (this.$hostedComponent) this.$hostedComponent.css('visibility', this.visible ? 'visible' : 'hidden') } /** * Checks if this box is temporary hidden * @returns {boolean} */ isTemporaryHidden() { return this.temporaryHidden } /** * Makes this box temporary hidden (newVal `true`) or resets its original state (newVal `false`) * @param {boolean} newVal */ setTemporaryHidden(newVal) { this.temporaryHidden = newVal } /** * Checks if this box is currently inactive. * @returns {boolean} */ isInactive() { return this.inactive } /** * Makes this box active (`false`) or inactive (`true`) * @param {boolean} newVal */ setInactive(newVal) { this.inactive = newVal if (this.$hostedComponent) { this.setHostedComponentColors() this.setHostedComponentVisible() } else { if (this.$accessibleElement) { const disabled = this.isInactive() &amp;&amp; !this.accessibleAlwaysActive this.$accessibleElement.prop({ disabled: disabled, tabindex: disabled ? -1 : 0 }) } this.invalidate() } } /** * Checks if this box is in `inverted` state. * @returns {boolean} */ isInverted() { return this.inverted } /** * Puts this box in `inverted` mode or restores its original state. * @param {boolean} newVal */ setInverted(newVal) { this.inverted = newVal if (this.$hostedComponent) this.setHostedComponentColors() else this.invalidate() } /** * Checks if this box is `marked` * @returns {boolean} */ isMarked() { return this.marked } /** * Sets this box in `marked` mode, or restores its original state. * @param {boolean} newVal */ setMarked(newVal) { if (!newVal) this.invalidate() this.marked = newVal if (this.$hostedComponent) { this.setHostedComponentColors() this.setHostedComponentBorder() } else if (newVal) this.invalidate() } /** * Checks if this box has the input focus * @returns {boolean} */ isFocused() { return this.focused } /** * * Sets or unsets the input focus to this box. * @param {boolean} newVal */ setFocused(newVal) { if (!newVal) this.invalidate() this.focused = newVal if (newVal) this.invalidate() // Put hosted component on top if (this.$hostedComponent) this.$hostedComponent.css('z-index', this.focused ? 20 : 2) } /** * Checks if this box is in `alternative` state. * @returns {boolean} */ isAlternative() { return this.alternative } /** * Sets this box in `alternative` mode, or restores its original state. * @param {boolean} newVal */ setAlternative(newVal) { this.alternative = newVal this.invalidate() } /** * Draws the content of this box on an HTML `canvas` element. At this level, only background * and border are painted/stroked. Derived classes should implement specific drawing tasks in * {@link AbstractBox#updateContent}. * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context used to draw the * box content. * @param {AWT.Rectangle=} dirtyRegion - The area that must be repainted. `null` refers to the whole box. */ update(ctx, dirtyRegion) { if (this.isEmpty() || !this.isVisible() || this.isTemporaryHidden()) return false if (dirtyRegion &amp;&amp; !this.shape.intersects(dirtyRegion)) return false /** * TODO: Implement clipping Shape saveClip=new Area(g2.getClip()) Area clip=new Area(saveClip) clip.intersect(new Area(shape)) g2.setClip(clip) */ const bb = this.getBoxBaseResolve() if (!bb.transparent &amp;&amp; !bb.dontFill &amp;&amp; !this.tmpTrans) { if (!bb.bgGradient || bb.bgGradient.hasTransparency()) { // Prepare the rendering context ctx.fillStyle = this.inactive ? bb.inactiveColor : this.inverted ? bb.textColor : bb.backColor // Fill the shape this.shape.fill(ctx, dirtyRegion) } if (bb.bgGradient) { ctx.fillStyle = bb.bgGradient.getGradient(ctx, this.shape.getBounds()) this.shape.fill(ctx, dirtyRegion) } // Reset the canvas context ctx.fillStyle = 'black' } if (!this.$hostedComponent) this.updateContent(ctx, dirtyRegion) this.drawBorder(ctx) return true } /** * Here is where classes derived from {@link AbstractBox} should implement the drawing of its * content. Background and border are already painted in {@link AbstractBox#update}. * @param {external:CanvasRenderingContext2D} _ctx - The canvas rendering context used to draw the * box content. * @param {AWT.Rectangle=} _dirtyRegion - The area that must be repainted. `null` refers to the whole box. */ // // Abstract method, to be implemented in subclasses updateContent(_ctx, _dirtyRegion) { } /** * Draws the box border * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context where the border * will be drawn. */ drawBorder(ctx) { if (this.border || this.marked) { const bb = this.getBoxBaseResolve() // Prepare stroke settings ctx.strokeStyle = bb.borderColor bb[this.marked ? 'markerStroke' : 'borderStroke'].setStroke(ctx) if (this.marked) ctx.globalCompositeOperation = 'xor' // Draw border this.shape.stroke(ctx) // Reset ctx default values if (this.marked) ctx.globalCompositeOperation = 'source-over' ctx.strokeStyle = 'black' AWT.Stroke.prototype.setStroke(ctx) } } /** * Returns the enclosing Rectangle of this box including its border (if any) * @returns {AWT.Rectangle} */ getBorderBounds() { const result = new AWT.Rectangle(this.getBounds()) if (this.border || this.marked) { const bb = this.getBoxBaseResolve() const w = bb[this.marked ? 'markerStroke' : 'borderStroke'].lineWidth result.moveBy(-w / 2, -w / 2) result.dim.width += w result.dim.height += w } return result } /** * Sets the {@link AbstractBox#$hostedComponent $hostedComponent} member. * @param {external:jQuery} $hc - The jQuery DOM component hosted by this box. */ setHostedComponent($hc) { if (this.$hostedComponent) this.$hostedComponent.detach() this.$hostedComponent = $hc if (this.$hostedComponent) { this.setContainer(this.container) this.setHostedComponentColors() this.setHostedComponentBorder() this.setHostedComponentBounds(true) this.setHostedComponentVisible() this.setFocused(this.focused) } } /** * Gets the current {@link AbstractBox#$hostedComponent|$hostedComponent} member * @returns {external:jQuery} */ getHostedComponent() { return this.$hostedComponent } /** * Sets {@link AbstractBox#$hostedComponent|$hostedComponent} colors and other css properties * based on the current {@link BoxBase} of this box. */ setHostedComponentColors() { if (this.$hostedComponent) { const bb = this.getBoxBaseResolve() const css = bb.getCSS(null, this.inactive, this.inverted, this.alternative) // Check if cell has background gradient and animated gif if (this.$hostedComponent.data('background-image') &amp;&amp; css['background-image']) css['background-image'] = `${this.$hostedComponent.data('background-image')},${css['background-image']}` this.$hostedComponent.css(css) } } /** * Sets the {@link AbstractBox#$hostedComponent|$hostedComponent} border, based on the current * {@link BoxBase} of this box. */ setHostedComponentBorder() { if (this.$hostedComponent &amp;&amp; (this.border || this.marked)) { const bb = this.getBoxBaseResolve() this.$hostedComponent.css({ 'border-width': `${bb.get(this.marked ? 'markerStroke' : 'borderStroke').lineWidth}px`, 'border-style': 'solid', 'border-color': bb.get('borderColor') }) } } /** * Places and resizes {@link AbstractBox#$hostedComponent|$hostedComponent}, based on the size * and position of this box. * @param {boolean} _sizeChanged - `true` when this {@link ActiveBox} has changed its size */ setHostedComponentBounds(_sizeChanged) { if (this.$hostedComponent) { const r = this.getBounds(), b = this.border || this.marked ? this.getBoxBaseResolve().get(this.marked ? 'markerStroke' : 'borderStroke').lineWidth : 0 this.$hostedComponent.css({ position: 'absolute', width: r.dim.width - 2 * b + 'px', height: r.dim.height - 2 * b + 'px', top: r.pos.y + 'px', left: r.pos.x + 'px' }) } } } Object.assign(AbstractBox.prototype, { /** * The parent AbstractBox (can be `null`) * @name AbstractBox#parent * @type {AbstractBox} */ parent: null, /** * The Container to which this AbstractBox belongs * @name AbstractBox#container * @type {AWT.Container} */ container: null, /** * The {@link BoxBase} related to this AbstractBox. When `null`, the parent can provide an * alternative one. * @name AbstractBox#boxBase * @type {BoxBase} */ boxBase: null, /** * Whether this box has a border or not * @name AbstractBox#border * @type {boolean} */ border: false, /** * The shape of this box (the box Rectangle or a special Shape, if set) * @name AbstractBox#shape * @type {AWT.Shape} */ shape: null, /** * Whether this box has a shape that is not a rectangle * @name AbstractBox#specialShape * @type {boolean} */ specialShape: false, /** * Whether this box is visible or not * @name AbstractBox#visible * @type {boolean} */ visible: true, /** * Used to temporary hide a box while other drawing operations are done * @name AbstractBox#temporaryHidden * @type {boolean} */ temporaryHidden: false, /** * Cells with this attribute will be transparent but with painted border * @name AbstractBox#tmpTrans * @type {boolean}*/ tmpTrans: false, /** * Whether this box is active or inactive * @name AbstractBox#inactive * @type {boolean} */ inactive: false, /** * Whether this box must be displayed with inverted or regular colors * @name AbstractBox#inverted * @type {boolean} */ inverted: false, /** * Whether this box must be displayed with alternative or regular color and font settings * @name AbstractBox#alternative * @type {boolean} */ alternative: false, /** * Whether this box is marked (selected) or not * @name AbstractBox#marked * @type {boolean} */ marked: false, /** * Whether this box holds the input focus * @name AbstractBox#focused * @type {boolean} */ focused: false, /** * Text to be used in accessible contexts * @name AbstractBox#accessibleText * @type {string} */ accessibleText: '', /** * Describes the main role of this box on the activity. Useful in wai-aria descriptions. * @name AbstractBox#role * @type {string} */ role: 'cell', /** * DOM element used to display this cell content in wai-aria contexts * @name AbstractBox#$accessibleElement * @type {external:jQuery} */ $accessibleElement: null, /** * Flag indicating that $accessibleElement should be always active * @name AbstractBox#accessibleAlwaysActive * @type {boolean} */ accessibleAlwaysActive: false, /** * An external JQuery DOM element hosted by this box * @name AbstractBox#$hostedComponent * @type {external:jQuery} */ $hostedComponent: null, }) return AbstractBox }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_ActionReg.js.html":{"id":"report_ActionReg.js.html","title":"Source: report/ActionReg.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/ActionReg.js /** * File : report/ActionReg.js * Created : 17/05/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot; ], function ($, Utils) { /** * This class stores information about one specific action done by the current user while playing * an activity. * * @exports ActionReg * @class */ class ActionReg { /** * ActionReg constructor * @param {string} type - Type of action (`click`, `write`, `move`, `select`...) * @param {string}+ source - Description of the object on which the action is done. * @param {string}+ dest - Description of the object that acts as a target of the action (used in pairings) * @param {boolean} ok - `true` if the action was OK, `false`, `null` or `undefined` otherwise */ constructor(type, source, dest, ok) { this.type = type this.source = source || null this.dest = dest || null this.ok = ok || false this.time = (new Date()).valueOf() } /** * Provides the data associated with this action in XML format suitable for a * {@link http://clic.xtec.cat/en/jclic/reports/|JClic Reports Server}. * @returns {external:jQuery} */ $getXML() { const attr = { ok: this.ok, time: this.time } if (this.type) attr.type = this.type if (this.source) attr.source = this.source if (this.dest) attr.dest = this.dest return $('&lt;action/&gt;', attr) } /** * Fills this ActionReg with data provided in XML format * @param {external:jQuery} $xml - The XML element to be processed, already wrapped as jQuery object */ setProperties($xml) { Utils.attrForEach($xml.get(0).attributes, (name, value) =&gt; { switch (name) { case 'type': case 'source': case 'dest': this[name] = value break case 'time': this[name] = Number(value) break case 'ok': this[name] = Utils.getBoolean(value, false) break } }) } } Object.assign(ActionReg.prototype, { /** * The type of action (`click`, `write`, `move`, `select`...) * @name ActionReg#type * @type {string} */ type: 'unknown', /** * Description of the object on which the action was done * @name ActionReg#source * @type {string} */ source: null, /** * Description of the object that has acted as a target of the action (used in pairings) * @name ActionReg#dest * @type {string} */ dest: null, /** * Time stamp taken when the action was done * @name ActionReg#time * @type {number} */ time: 0, /** * `true` if the action was OK * @name ActionReg#isOk * @type {boolean} */ isOk: false, }) return ActionReg }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_ActiveBagContent.js.html":{"id":"boxes_ActiveBagContent.js.html","title":"Source: boxes/ActiveBagContent.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/ActiveBagContent.js /** * File : boxes/ActiveBagContent.js * Created : 13/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./BoxBase&quot;, &quot;./ActiveBoxContent&quot;, &quot;../shapers/Shaper&quot;, &quot;../AWT&quot;, &quot;../Utils&quot; ], function ($, BoxBase, ActiveBoxContent, Shaper, AWT, Utils) { /** * This class packs a collection of {@link ActiveBoxContent} objects and provides methods to access * and manage it. The two main members of `ActiveBagContent` are the {@link Shaper}, responsible for * determining the position and shape of each {@link ActiveBox}, and the {@link BoxBase} (field `bb`), * provider of a common visual style. * @exports ActiveBagContent * @class */ class ActiveBagContent { /** * ActiveBagContent constructor * @param {string=} id - An optional text tag identifying this ActiveBagContent * @param {number} ncw - In grid-based distributions, number of columns. * @param {number} nch - In grid-based distributions, number of rows. */ constructor(id, ncw, nch) { if (id) this.id = id this.activeBoxContentArray = [] this.ncw = Math.max(1, ncw) this.nch = Math.max(1, nch) } /** * Loads the object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse * @param {MediaBag} mediaBag - The project's MediaBag */ setProperties($xml, mediaBag) { let bug = false Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'id': this.id = val break case 'image': this.imgName = Utils.nSlash(val) break // Bug in JClic beta 1: &quot;columns&quot; is number of rows, and &quot;rows&quot; is number of columns. // Was corrected in beta 2: If &quot;cols&quot; is specified, &quot;rows&quot; are rows and &quot;cols&quot; are columns. case 'rows': this.nch = Number(val) break case 'columns': bug = true /* falls through */ case 'cols': this.ncw = Number(val) break case 'cellWidth': this.w = Number(val) break case 'cellHeight': this.h = Number(val) break case 'border': this.border = Utils.getBoolean(val) break } }) if (bug) { let n = this.ncw this.ncw = this.nch this.nch = n } $xml.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'style': this.bb = new BoxBase(null).setProperties($node) break case 'shaper': const shaperClassName = $node.attr('class'), nCols = Math.max(1, $node.attr('cols')), nRows = Math.max(1, $node.attr('rows')) this.shaper = Shaper.getShaper(shaperClassName, nCols, nRows) this.shaper.setProperties($node) break case 'ids': // Used in special cases where all cells have empty content with only 'ids' child.textContent.split(' ').forEach((id, i) =&gt; { this.activeBoxContentArray[i] = new ActiveBoxContent(Number(id)) }) break case 'cell': this.activeBoxContentArray.push(new ActiveBoxContent().setProperties($node, mediaBag)) break } }) let n = this.activeBoxContentArray.length // Create cells when `activeBoxContentArray` is empty if (n === 0 &amp;&amp; this.shaper &amp;&amp; this.shaper.nCells &gt; 0) { n = this.shaper.nCells this.getActiveBoxContent(n - 1) } // Assign ids when cells have empty content (they are just shapes) if (n &gt; 0) { let empty = true for (let i = 0; i &lt; n; i++) { const bxc = this.getActiveBoxContent(i) if (bxc.id !== -1 || bxc.item !== -1 || !bxc.isEmpty()) { empty = false break } } if (empty) { for (let i = 0; i &lt; n; i++) this.getActiveBoxContent(i).id = i } } // Link [BoxBase](BoxBase.html) objects of `activeBoxContentArray` elements to `bb` if (this.bb) this.activeBoxContentArray.forEach((abc) =&gt; { if (abc.bb) abc.bb.parent = this.bb }) return this } /** * Prepares the media content of all elements * @param {PlayStation} playStation - The {@link JClicPlayer} */ prepareMedia(playStation) { this.activeBoxContentArray.forEach(abc =&gt; abc.prepareMedia(playStation)) } /** * Gets the estimated total width of this content bag * @returns {number} */ getTotalWidth() { return this.w * this.ncw } /** * Gets the estimated total height of this bag * @returns {number} */ getTotalHeight() { return this.h * this.nch } /** * Gets the total number of cells of this bag * @returns {number} */ getNumCells() { return this.activeBoxContentArray.length } /** * Checks if the bag is empty * @returns {boolean} */ isEmpty() { return this.activeBoxContentArray.length === 0 } /** * Retrieves the {@link Shaper} of this bag, creating a new one if it was _null_ * @returns {Shaper} */ getShaper() { if (this.shaper === null) this.shaper = Shaper.getShaper('@Rectangular', this.ncw, this.nch) return this.shaper } /** * Retrieves the {@link BoxBase} of this bag, creating a new one if it was _null_ * @returns {BoxBase} */ getBoxBase() { if (this.bb === null) this.bb = new BoxBase() return this.bb } /** * Adds a new {@link ActiveBoxContent} to this bag * @param {ActiveBoxContent} ab - The ActiveBoxContent to add */ addActiveBoxContent(ab) { this.activeBoxContentArray.push(ab) if (this.ncw === 0 || this.nch === 0) { this.ncw = this.nch = 1 } } /** * Gets the nth {@link ActiveBoxContent} in `activeBoxContentArray` * @param {number} i - The index of the content to be retrieved * @returns {ActiveBoxContent} */ getActiveBoxContent(i) { if (i &gt;= this.activeBoxContentArray.length) { for (let j = this.activeBoxContentArray.length; j &lt;= i; j++) this.activeBoxContentArray.push(new ActiveBoxContent()) } return this.activeBoxContentArray[i] } /** * Finds the ActiveBoxContent with specific `id` and `item` values * @param {number} id * @param {number} item * @returns {ActiveBoxContent} */ getActiveBoxContentWith(id, item) { return this.activeBoxContentArray.find(bxc =&gt; bxc.id === id &amp;&amp; bxc.item === item) } /** * Sets the content of the cells based on a image spliced by a shaper * @param {MediaBag} mb - The MediaBag used to retrieve the image * @param {Shaper} sh - The Shaper used to splice the image * @param {boolean} roundSizes - When `true`, the size and coordinates of cells will be rounded * to the nearest integer values. */ setImgContent(mb, sh, roundSizes) { if (sh) this.setShaper(sh) if (this.shaper.className === '@Holes') this.shaper.hasRemainder = true this.ncw = this.shaper.nCols this.nch = this.shaper.nRows const mbe = mb.elements[this.imgName] if (mb &amp;&amp; this.imgName &amp;&amp; mbe &amp;&amp; mbe.ready) { this.img = mbe.data if (mbe.animated) this.animatedGifFile = mbe.getFullPath() this.w = this.img.width / this.ncw this.h = this.img.height / this.nch if (roundSizes) { this.w = Math.round(this.w) this.h = Math.round(this.h) } } else { this.img = null this.w = Math.max(this.w, 10) this.h = Math.max(this.h, 10) } const r = new AWT.Rectangle(0, 0, this.w * this.ncw, this.h * this.nch) for (let i = 0; i &lt; this.shaper.nCells; i++) this.getActiveBoxContent(i).setImgContent(this.img, this.shaper.getShape(i, r), this.animatedGifFile) if (this.shaper.hasRemainder) { this.backgroundContent = new ActiveBoxContent() this.backgroundContent.setImgContent(this.img, this.shaper.getRemainderShape(r)) } } /** * Sets the content of this bag based on an array of strings * @param {string[]} txt - The array of strings to be used as content. * @param {number} setNcw - Number of columns * @param {number} setNch - Number of rows */ setTextContent(txt, setNcw, setNch) { this.ncw = Math.max(1, setNcw) this.nch = Math.max(1, setNch) const n = this.ncw * this.nch for (let i = 0; i &lt; n; i++) this.getActiveBoxContent(i).setTextContent(i &gt;= txt.length || txt[i] === null ? '' : txt[i]) } /** * Sets `id` values to a all the {@link ActiveBoxContent} elements of his bag. * @param {number[]} ids -Array of numeric identifiers */ setIds(ids) { for (let i = 0; i &lt; ids.length &amp;&amp; i &lt; this.activeBoxContentArray.length; i++) this.getActiveBoxContent(i).id = ids[i] } /** * Sets `value` to the `key` attribute of all cells * @param {string} key - The key where the value will be stored * @param {*} value - The supplied value. Can be of any type. */ setCellsAttribute(key, value) { this.activeBoxContentArray.forEach(abc =&gt; abc[key] = value) } /** * * Cheks if the `id` values of all {@link ActiveBoxContent} objects are -1 and, if true, * sets new ids to them, with values between 0 and `maxId` * @param {number} maxId - The maximum value of identifiers */ avoidAllIdsNull(maxId) { if (this.activeBoxContentArray.every(abc =&gt; abc.id === -1)) { maxId = Math.max(1, maxId) this.activeBoxContentArray.forEach((abc, n) =&gt; { abc.id = n % maxId }) } } } Object.assign(ActiveBagContent.prototype, { /** * The global identifier of this object: `primary`, `secondary`... * @name ActiveBagContent#id * @type {string} */ id: 'primary', /** * The name of the image file used as a common image of this bag * @name ActiveBagContent#imgName * @type {string} */ imgName: null, /** * The built image object * @name ActiveBagContent#img * @type {external:HTMLImageElement} */ img: null, /** * Name of the img source when is an animated GIF * @name ActiveBagContent#animatedGifFile * @type {string} */ animatedGifFile: null, /** * Number of columns when cells are distributed in a grid * @name ActiveBagContent#ncw * @type {number} */ ncw: 1, /** * Number of rows when cells are distributed in a grid * @name ActiveBagContent#nch * @type {number} */ nch: 1, /** * Optimal cell width * @name ActiveBagContent#w * @type {number} */ w: Utils.settings.DEFAULT_GRID_ELEMENT_SIZE, /** * Optimal cell height * @name ActiveBagContent#h * @type {number} */ h: Utils.settings.DEFAULT_GRID_ELEMENT_SIZE, /** * Whether the cells must have a border or not * @name ActiveBagContent#border * @type {boolean} */ border: true, /** * The BoxBase used for this bag of cell contents * @name ActiveBagContent#bb * @type {BoxBase} */ bb: null, /** * The Shaper used to define the specific shape of each cell * @name ActiveBagContent#shaper * @type {Shaper} */ shaper: null, /** * An optional ActiveBoxContent object with background settings. * @name ActiveBagContent#backgroundContent * @type {ActiveBoxContent} */ backgroundContent: null, /** * The main Array of {@link ActiveBoxContent} objects * @name ActiveBagContent#activeBoxContentArray * @type {ActiveBoxContent[]} */ activeBoxContentArray: null, /** * The default value to be assigned at the 'id' field of children * @name ActiveBagContent#defaultIdValue * @type {number} */ defaultIdValue: -1, }) return ActiveBagContent }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_ActiveBox.js.html":{"id":"boxes_ActiveBox.js.html","title":"Source: boxes/ActiveBox.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/ActiveBox.js /** * File : boxes/ActiveBox.js * Created : 18/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./AbstractBox&quot;, &quot;./ActiveBoxContent&quot;, &quot;./ActiveBagContent&quot;, &quot;../AWT&quot;, &quot;../Utils&quot; ], function ($, AbstractBox, ActiveBoxContent, ActiveBagContent, AWT, Utils) { /** * Objects of this class are widely used in JClic activities: cells in puzzles and associations, * messages and other objects are active boxes. * * The specific content, size and location of `ActiveBox` objects is determined by its * {@link ActiveBoxContent} member. Most ActiveBoxes have only one content, but some of them can * have a secondary or &quot;alternative&quot; content stored in the `altContent` field. This content is * used only when the `alternative` flag of the ActiveBox is `on`. * * Active boxes can host video and interactive media content (specified in the `mediaContent` * member of the {@link ActiveBoxContent} through its `hostedMediaPlayer` member. * @exports ActiveBox * @class * @extends AbstractBox */ class ActiveBox extends AbstractBox { /** * ActiveBox constructor * @param {?AbstractBox} parent - The AbstractBox to which this ActiveBox belongs * @param {?AWT.Container} container - The container where this box is placed. * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties * of this box are defined. * @param {number=} setIdLoc - A numeric identifier, used to locate this box in a set of sibling objects. * @param {AWT.Rectangle=} rect - The initial bounds of the box. */ constructor(parent, container, boxBase, setIdLoc, rect) { // ActiveBox extends AbstractBox super(parent, container, boxBase) this.clear() if (typeof setIdLoc === 'number') { this.idLoc = setIdLoc this.idAss = 0 this.idOrder = 0 } if (rect) this.setBounds(rect) } /** * Factory constructor that creates a new cell inside a JQuery DOM element. * @param {external:jQuery} $dom - The DOM element that will act as a container * @param {ActiveBoxContent} abc - The cell's content. Must not be null and have the `dimension` * member initialized. * @returns {ActiveBox} */ static createCell($dom, abc) { if (abc &amp;&amp; abc.dimension) { const box = new ActiveBox(), $canvas = $('&lt;canvas width=&quot;' + abc.dimension.width + '&quot; height=&quot;' + abc.dimension.height + '&quot;/&gt;'), rect = new AWT.Rectangle(0, 0, abc.dimension.width, abc.dimension.height) box.container = new AWT.Container() box.container.$div = $dom box.setContent(abc) box.setBounds(rect) $dom.append($canvas) box.update($canvas.get(-1).getContext('2d'), rect) return box } } /** * Returns the current content used by the box * @returns {ActiveBoxContent} */ getCurrentContent() { return this.isAlternative() ? this.altContent : this.content } /** * Returns the current content, creating an empty one if needed. * @returns {ActiveBoxContent} */ getContent() { if (!this.content) this.setContent(new ActiveBoxContent()) return this.content } /** * Clears the current content */ clear() { this.content = null this.altContent = null this.idOrder = -1 this.setInactive(true) if (!this.hasHostedComponent) this.setHostedComponent(null) this.setHostedMediaPlayer(null) if (this.$accessibleElement) this.$accessibleElement.html('') if (this.tmpTrans) this.tmpTrans = false this.invalidate() } /** * Checks if two ActiveBox objects have equivalent content * @param {ActiveBox} bx - The ActiveBox to check against this. * @param {boolean=} checkCase - When `true`, the comparing will be case-sensitive. * @returns {boolean} - `true` if both cells are equivalent. */ isEquivalent(bx, checkCase) { return bx !== null &amp;&amp; this.content !== null &amp;&amp; this.content.isEquivalent(bx.content, checkCase) } /** * Same functionality as {@link ActiveBox#isEquivalent isEquivalent}, but comparing the current content. * @param {ActiveBox} bx - The ActiveBox to check against this. * @param {boolean=} checkCase - When `true`, the comparing will be case-sensitive. * @returns {boolean} */ isCurrentContentEquivalent(bx, checkCase) { return bx !== null &amp;&amp; this.getCurrentContent() !== null &amp;&amp; this.getCurrentContent().isEquivalent(bx.getCurrentContent(), checkCase) } /** * Swaps the location of two active boxes * @param {ActiveBox} bx - The ActiveBox to swap with this one. */ exchangeLocation(bx) { const pt = new AWT.Point(this.pos), idLoc0 = this.idLoc this.moveTo(bx.pos) bx.moveTo(pt) this.idLoc = bx.idLoc bx.idLoc = idLoc0 } /** * Copy the content of another ActiveBox into this one * @param {ActiveBox} bx - The ActiveBox from which to take the content */ copyContent(bx) { this.idOrder = bx.idOrder this.idAss = bx.idAss this.content = bx.content this.altContent = bx.altContent if (this.content) { if (this.content.bb) this.setBoxBase(this.content.bb) if (this.content.border !== null &amp;&amp; bx.hasBorder() !== this.content.border) this.setBorder(this.content.border) } this.setInactive(bx.isInactive()) this.setInverted(bx.isInverted()) this.setAlternative(bx.isAlternative()) this.setHostedComponent(bx.getHostedComponent()) this.hasHostedComponent = bx.hasHostedComponent this.setHostedMediaPlayer(bx.hostedMediaPlayer) if (this.hostedMediaPlayer) this.hostedMediaPlayer.setVisualComponentVisible(!this.isInactive() &amp;&amp; this.isVisible()) if (this.$accessibleElement) this.$accessibleElement.html(this.toString()) } /** * * Exhanges the content of this ActiveBox with another one * @param {ActiveBox} bx - The ActiveBox with which to exchange the content. */ exchangeContent(bx) { const bx0 = new ActiveBox(this.getParent(), this.getContainerX(), this.boxBase) bx0.copyContent(this) this.copyContent(bx) bx.copyContent(bx0) } /** * * Sets the text content of this ActiveBox. * @param {strint} tx - The text to set. */ setTextContent(tx) { // only plain text! if (!tx) tx = '' if (!this.content) this.content = new ActiveBoxContent() this.content.text = tx this.content.mediaContent = null this.content.img = null this.setHostedComponent(null) this.setInactive(false) this.checkHostedComponent() this.setHostedMediaPlayer(null) if (this.$accessibleElement) this.$accessibleElement.html(this.toString()) } /** * Sets the default value to `idAss` */ setDefaultIdAss() { this.idAss = this.content === null ? -1 : this.content.id } /** * Checks if this ActiveBox is at its original place. * @returns {boolean} */ isAtPlace() { return this.idOrder === this.idLoc } /** * Sets the {@link ActiveBoxContent} of this ActiveBox * @param {(ActiveBoxContent|ActiveBagContent)} abc - Object containing the content to set. * @param {number} i - When `abc` is an {@link ActiveBagContent}, this field indicates an * index in the content array. */ setContent(abc, i) { if (abc instanceof ActiveBagContent) { if (i &lt; 0) i = this.idOrder if (i &gt;= abc.getNumCells()) return if (abc.bb !== this.boxBase) this.setBoxBase(abc.bb) // `abc` is now an [ActiveBoxContent](ActiveBoxContent.html) abc = abc.getActiveBoxContent(i) } this.setHostedComponent(null) this.setHostedMediaPlayer(null) this.content = abc if (abc) { if (abc.animatedGifFile &amp;&amp; !this.specialShape) { const url = `url(${abc.animatedGifFile})` const $hc = $('&lt;span/&gt;').css({ 'background-image': url, 'background-position': 'center', 'background-repeat': 'no-repeat' }) // Save background image for later use $hc.data('background-image', url) if (abc.imgClip !== null) { $hc.css({ 'background-origin': 'border-box', 'background-position': `${-abc.imgClip.pos.x}px ${-abc.imgClip.pos.y}px` // TODO: Use background-size only when the original image must be compressed //,'background-size': abc.imgClip.dim.width + 'px ' + abc.imgClip.dim.height + 'px' }) } this.setHostedComponent($hc) } if (abc.bb !== this.boxBase) this.setBoxBase(abc.bb) if (abc.innerHtmlText) this.setHostedComponent($('&lt;div/&gt;').html(abc.innerHtmlText)) if (abc.hasOwnProperty('border') &amp;&amp; this.hasBorder() !== abc.border) this.setBorder(abc.border) this.setInactive(false) if (abc.amp) this.setHostedMediaPlayer(abc.amp) this.checkHostedComponent() this.checkAutoStartMedia() } else this.clear() this.invalidate() if (this.$accessibleElement) this.$accessibleElement.html(this.toString()) } /** * Sets the {@link ActiveBoxContent} that will act as an alternative content (`altContent` field) * of this ActiveBox, * @param {(ActiveBoxContent|ActiveBagContent)} abc - Object containing the content to set. * @param {number} i - When `abc` is an {@link ActiveBagContent}, this field indicates an * index in the content array. */ setAltContent(abc, i) { if (abc instanceof ActiveBagContent) { if (i &lt; 0) i = this.idOrder // `abc` is now an [ActiveBoxContent](ActiveBoxContent.html) abc = abc.getActiveBoxContent(i) } this.altContent = abc this.checkHostedComponent() if (this.isAlternative() &amp;&amp; this.hostedMediaPlayer) this.setHostedMediaPlayer(null) if (this.$accessibleElement) { this.$accessibleElement.html(this.toString()) this.$accessibleElement.prop('disabled', true) } } /** * Sets the current content of this ActiveBox * @param {ActiveBoxContent} abc - The content to set. */ setCurrentContent(abc) { if (this.isAlternative()) this.setAltContent(abc) else this.setContent(abc) this.invalidate() } /** * Puts this ActiveBox in &quot;alternative&quot; mode, meaning that `altContent` will be used instead of `content` */ switchToAlt() { if (this.isAlternative() || !this.altContent || this.altContent.isEmpty()) return false this.setHostedComponent(null) this.setHostedMediaPlayer(null) this.setAlternative(true) this.tmpTrans = false this.checkHostedComponent() this.checkAutoStartMedia() if (this.$accessibleElement) this.$accessibleElement.html(this.toString()) return true } /** * Checks the presence of content susceptible to be treated as HTML DOM embedded in this ActiveBox. * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Drawing_DOM_objects_into_a_canvas} */ checkHostedComponent() { if (this.hasHostedComponent) return const abc = this.getCurrentContent(), bb = this.getBoxBaseResolve() if (!this.isInactive() &amp;&amp; abc &amp;&amp; abc.innerHtmlText) bb.getCSS()['text-align'] = abc.txtAlign.h.replace('middle', 'center') } /** * Checks if the call has a {@link MediaContent} set to `autostart`, and launches it when found. */ checkAutoStartMedia() { const cnt = this.getContent() if (cnt &amp;&amp; cnt.mediaContent &amp;&amp; cnt.mediaContent.autoStart &amp;&amp; cnt.amp) { cnt.amp.playNow(this) } } /** * Draws the content of this Activebox on the specified canvas context. * @override * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context used to draw the * box content. * @param {AWT.Rectangle=} dirtyRegion - The area that must be repainted. `null` refers to the whole box. */ updateContent(ctx, dirtyRegion) { const abc = this.getCurrentContent(), bb = this.getBoxBaseResolve() if (this.isInactive() || !abc || this.dim.width &lt; 2 || this.dim.height &lt; 2) return true if (dirtyRegion &amp;&amp; !this.intersects(dirtyRegion)) return false let imgRect = null if (abc.img &amp;&amp; !this.tmpTrans) { try { if (abc.imgClip) { const r = abc.imgClip.getBounds() let img = abc.img if (!abc.imgClip.isRect()) { // Prepare a temporary `canvas` object that will contain the clipped image const tmpCanvas = document.createElement('canvas') tmpCanvas.width = r.pos.x + r.dim.width tmpCanvas.height = r.pos.y + r.dim.height const tmpCtx = tmpCanvas.getContext('2d') // Set the clipping region abc.imgClip.clip(tmpCtx) // Draw the original image tmpCtx.drawImage(abc.img, 0, 0) // Use the temporary canvas as a source image // (as seen on: [http://stackoverflow.com/questions/7242006/html5-copy-a-canvas-to-image-and-back]) img = tmpCanvas } ctx.drawImage(img, Math.max(0, r.pos.x), Math.max(0, r.pos.y), Math.min(img.width, r.dim.width), Math.min(img.height, r.dim.height), this.pos.x, this.pos.y, this.dim.width, this.dim.height) } else { let imgw = abc.img.naturalWidth || this.dim.width, imgh = abc.img.naturalHeight || this.dim.height, compress = false, scale = 1.0 if (Utils.settings.COMPRESS_IMAGES &amp;&amp; (this.dim.width &gt; 0 &amp;&amp; this.dim.height &gt; 0) &amp;&amp; (imgw &gt; this.dim.width || imgh &gt; this.dim.height)) { scale = Math.min(this.dim.width / imgw, this.dim.height / imgh) imgw *= scale imgh *= scale compress = true } const xs = abc.imgAlign.h === 'left' ? 0 : abc.imgAlign.h === 'right' ? this.dim.width - imgw : (this.dim.width - imgw) / 2 const ys = abc.imgAlign.v === 'top' ? 0 : abc.imgAlign.v === 'bottom' ? this.dim.height - imgh : (this.dim.height - imgh) / 2 if (compress) { ctx.drawImage(abc.img, this.pos.x + xs, this.pos.y + ys, imgw, imgh) } else ctx.drawImage(abc.img, this.pos.x + xs, this.pos.y + ys) if (abc.avoidOverlapping &amp;&amp; abc.text) imgRect = new AWT.Rectangle( Math.max(0, xs), Math.max(0, ys), Math.min(this.dim.width, imgw), Math.min(this.dim.height, imgh)) } } catch (ex) { Utils.log('warn', `Unable to draw image &quot;${abc.imgName}&quot;: ${ex.message}`) } } if (abc.text &amp;&amp; abc.text.length &gt; 0) { let px = this.pos.x, py = this.pos.y, pWidth = this.dim.width, pHeight = this.dim.height if (imgRect) { // There is an image in the ActiveBox // Try to compute the current space available for text const prx = [0, imgRect.pos.x, imgRect.pos.x + imgRect.dim.width, pWidth], pry = [0, imgRect.pos.y, imgRect.pos.y + imgRect.dim.height, pHeight], rr = [ // Calc four rectangles inside BoxBag, sourronding imgRect // Top rectangle: new AWT.Rectangle(prx[0], pry[0], prx[3], pry[1]), // Bottom rectangle: new AWT.Rectangle(prx[0], pry[2], prx[3], pry[3] - pry[2]), // Left rectangle: new AWT.Rectangle(prx[0], pry[0], prx[1], pry[3]), // Right rectangle: new AWT.Rectangle(prx[2], pry[0], prx[3] - prx[2], pry[3]) ] // // Find the rectangle with highest surface, and in accordance // with the `txtAlign` values of the current // [ActiveBoxContent](ActiveBoxContent) let rmax = rr[0] let maxSurface = rmax.dim.width * rmax.dim.height for (let i = 1; i &lt; rr.length; i++) { let s = rr[i].dim.width * rr[i].dim.height if (s &gt; maxSurface - 1) { if (Math.abs(s - maxSurface) &lt;= 1) { let b = false switch (i) { case 1: b = abc.txtAlign.v === 'bottom' break case 2: b = abc.txtAlign.h === 'left' break case 3: b = abc.txtAlign.h === 'right' break } if (!b) continue } maxSurface = s rmax = rr[i] } } // Finally, this is the surface available to draw text: px += rmax.pos.x py += rmax.pos.y pWidth = rmax.dim.width pHeight = rmax.dim.height } // Calc available width and height, discounting margins const availWidth = Math.max(5, pWidth - 2 * bb.textMargin), availHeight = Math.max(5, pHeight - 2 * bb.textMargin) // Calc the size of each line const lines = bb.prepareText(ctx, abc.text, availWidth, availHeight) ctx.font = bb.font.cssFont() ctx.textBaseline = 'hanging' const lineHeight = bb.font.getHeight(), totalHeight = lineHeight * lines.length // Calc the vertical co-ordinate of the first line // Default is 'middle' let y = py + bb.textMargin + (abc.txtAlign.v === 'top' ? 0 : abc.txtAlign.v === 'bottom' ? availHeight - totalHeight : (availHeight - totalHeight) / 2) for (let l = 0; l &lt; lines.length; l++ , y += lineHeight) { // Calc the horizontal position of each line // Default is 'middle' const x = px + bb.textMargin + (abc.txtAlign.h === 'left' ? 0 : abc.txtAlign.h === 'right' ? availWidth - lines[l].size.width : (availWidth - lines[l].size.width) / 2) if (bb.shadow) { // Render text shadow const d = Math.max(1, bb.font.size / 10) ctx.fillStyle = bb.shadowColor ctx.fillText(lines[l].text, x + d, y + d) } // Render text ctx.fillStyle = this.isInverted() ? bb.backColor : this.isAlternative() ? bb.alternativeColor : bb.textColor ctx.fillText(lines[l].text, x, y) } } return true } /** * Gets the `description` field of the current {@link ActiveBoxContent} * @returns {string} */ getDescription() { return this.content ? this.content.getDescription() : '' } /** * Gets a descriptive text for this ActiveBox * @returns {String} */ toString() { return (this.role !== 'cell' ? Utils.getMsg(this.role) : '') + (this.getCurrentContent() || '-').toString() } /** * Plays the action or media associated with this ActiveBox * @param {PlayStation} ps - Usually, a {@link JClicPlayer} * @param {function[]} delayedActions - If set, store the the action in this array for future execution */ playMedia(ps, delayedActions = null) { const abc = this.getCurrentContent() if (abc &amp;&amp; abc.mediaContent) { Utils.log('debug', `Playing: ${abc.mediaContent.toString()}`) ps.playMedia(abc.mediaContent, this, delayedActions) return true } return false } /** * Sets the hosted media player of this ActiveBox * @param {ActiveMediaPlayer} amp - The media player. */ setHostedMediaPlayer(amp) { const old = this.hostedMediaPlayer this.hostedMediaPlayer = amp if (old &amp;&amp; old !== amp) old.linkTo(null) if (amp) amp.linkTo(this) } /** * Sets a new size and/or dimension to this box. * @override * @param {(AWT.Rectangle|number)} rect - An AWT.Rectangle object, or the `x` coordinate of the * upper-left corner of a new rectangle. * @param {number=} y - `y` coordinate of the upper-left corner of the new rectangle. * @param {number=} w - Width of the new rectangle. * @param {number=} h - Height of the new rectangle. */ setBounds(rect, y, w, h) { if (typeof rect === 'number') // arguments are co-ordinates and size rect = new AWT.Rectangle(rect, y, w, h) // Rectangle comparision if (this.equals(rect)) return super.setBounds(rect) if (this.hostedMediaPlayer) this.hostedMediaPlayer.checkVisualComponentBounds(this) } /** * Places and resizes {@link AbstractBox#$hostedComponent $hostedComponent}, based on the size * and position of this box. * @override * @param {boolean} sizeChanged - `true` when this {@link ActiveBox} has changed its size */ setHostedComponentBounds(sizeChanged) { if (this.$hostedComponent) { super.setHostedComponentBounds(sizeChanged) const abc = this.getCurrentContent() if (sizeChanged &amp;&amp; abc &amp;&amp; abc.animatedGifFile &amp;&amp; abc.img) { const img = abc.img, w = Math.max(img.naturalWidth, this.dim.width), h = Math.max(img.naturalHeight, this.dim.height) let scale = 1, bgSize = '' if (abc.imgClip) { const r = abc.imgClip.getBounds() if (this.dim.width &lt; r.dim.width || this.dim.height &lt; r.dim.height) { scale = Math.min(this.dim.width / r.dim.width, this.dim.height / r.dim.height) bgSize = `${w * scale}px ${h * scale}px` } this.$hostedComponent.css({ 'background-position': `${-abc.imgClip.pos.x * scale}px ${-abc.imgClip.pos.y * scale}px`, 'background-size': bgSize }) } else { if (this.dim.width &lt; w || this.dim.height &lt; h) { scale = Math.min(this.dim.width / w, this.dim.height / h) bgSize = `${w * scale}px ${h * scale}px` } this.$hostedComponent.css({ 'background-size': bgSize }) } } } } /** * Builds a hidden `buton` that will act as a accessible element associated to the canvas area * of this ActiveBox. * The button will be created only when `CanvasRenderingContext2D` has a method named `addHitRegion`. * See https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility * for more information and supported browsers. * @param {external:jQuery} $canvas - The `canvas` where this `ActiveBox` will deploy, wrapped up in a jQuery object * @param {external:jQuery} $clickReceiver - The DOM element that will be notified when `$accessibleElement` is activated. * @param {external:jQuery=} $canvasGroup - Optional DOM element containing the accessible element. Useful to group cells in associations. When `null`, the element belongs to $canvas. * @param {string=} eventType - Type of event sent to $clickReceiver. Default is `click`. * @returns {external:jQuery} - The accessible element associated to this ActiveBox. */ buildAccessibleElement($canvas, $clickReceiver, $canvasGroup, eventType) { if (Utils.settings.CANVAS_HITREGIONS) { if (this.$accessibleElement) this.$accessibleElement.remove() const canvas = $canvas.get(-1) if (canvas.width &gt; 0 &amp;&amp; canvas.height &gt; 0) { const id = Math.round(Math.random() * 100000), disabled = this.isInactive() &amp;&amp; !this.accessibleAlwaysActive this.$accessibleElement = $('&lt;button/&gt;', { tabindex: disabled ? -1 : 0, id: `AE${id}`, disabled: disabled }) .html(this.toString()) .click(ev =&gt; { // Check if event was produced by a mouse click if (ev.originalEvent &amp;&amp; (ev.originalEvent.pageX !== 0 || ev.originalEvent.pageY !== 0)) { // Mouse clicks should be processed odirectly by the canvas, so ignore this accessible event return true } Utils.log('debug', `Click on accessible element: ${this.toString()}`) const $event = $.Event(eventType || 'click'), bounds = this.getBounds(), offset = $canvas.offset() $event.pageX = offset.left + bounds.pos.x + bounds.dim.width / 2 $event.pageY = offset.top + bounds.pos.y + bounds.dim.height / 2 $clickReceiver.trigger($event) return false }) const $dest = $canvasGroup || $canvas $dest.append(this.$accessibleElement) const elem = this.$accessibleElement.get(-1) try { const ctx = canvas.getContext('2d') this.shape.preparePath(ctx) ctx.addHitRegion({ id: `REG${id}`, control: elem }) if (Utils.settings.CANVAS_HITREGIONS_FOCUS) ctx.drawFocusIfNeeded(elem) } catch (ex) { Utils.log('error', `Unable to build accessible element for canvas in: ${this.toString()} (${ex})`) } } } return this.$accessibleElement } } Object.assign(ActiveBox.prototype, { /** * Identifier used to set the relative position of this box in a set. * @name ActiveBox#idOrder * @type {number} */ idOrder: -1, /** * Identifier used to set a relative position in the space. * @name ActiveBox#idLoc * @type {number} */ idLoc: -1, /** * Identifier used to establish relationships between cells of different sets (in associations) * @name ActiveBox#idAss * @type {number} */ idAss: -1, /** * Backup of the original position of the cell, useful when the real position must be restored after a temporary change. * @name ActiveBox#pos0 * @type {AWT.Point} */ pos0: null, /** * Main content of this box * @name ActiveBox#content * @type {ActiveBoxContent} */ content: null, /** * Alternative content of this box * @name ActiveBox#altContent * @type {ActiveBoxContent} */ altContent: null, /** * Flag to check if this box has a 'hosted component' * @name ActiveBox#hostedComponent * @type {boolean} */ hasHostedComponent: false, /** * The media player associated to this box * @name ActiveBox#hostedMediaPlayer * @type {ActiveMediaPlayer} */ hostedMediaPlayer: null, /** * Indicates that this box is used as a background. When drawing, the clipping region must be respected. * @name ActiveBox#isBackground * @type {boolean} */ isBackground: false, }) return ActiveBox }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_ActiveBoxBag.js.html":{"id":"boxes_ActiveBoxBag.js.html","title":"Source: boxes/ActiveBoxBag.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/ActiveBoxBag.js /** * File : boxes/ActiveBoxBag.js * Created : 21/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./BoxBag&quot;, &quot;../AWT&quot;, &quot;../Utils&quot; ], function ($, BoxBag, AWT, Utils) { /** * This class is a special case of {@link BoxBag} containing only objects of type {@link ActiveBox}. * In addition to the members and methods of `BoxBag`, it implements specific methods to deal with * {@link ActiveBagContent} objects and with the other specific members of `ActiveBox` like its &quot;ids&quot; * (`idOrder`, `idLoc` and `idAss`). * @exports ActiveBoxBag * @class * @extends BoxBag */ class ActiveBoxBag extends BoxBag { /** * ActiveBoxBag constructor * @param {?AbstractBox} parent - The AbstractBox to which this box bag belongs * @param {?AWT.Container} container - The container where this box bag is placed. * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties * of this box bag are defined. */ constructor(parent, container, boxBase) { // ActiveBoxBag extends BoxBag super(parent, container, boxBase) } /** * Adds an {@link ActiveBox} to this bag * @param {ActiveBox} bx - The ActiveBox to be added to this bag */ addActiveBox(bx) { bx.idLoc = this.cells.length bx.idOrder = bx.idLoc return this.addBox(bx) } /** * Finds an ActiveBox by its relative location (`idLoc` field) * @param {number} idLoc * @returns {ActiveBox} */ getActiveBox(idLoc) { return this.getBox(idLoc) } /** * Gets the background box * @returns {ActiveBox} */ getBackgroundActiveBox() { return this.getBackgroundBox() } /** * Sets the content of members of this ActiveBoxBag, based on one or more {@link ActiveBagContent} * objects. * @param {ActiveBagContent} abc - The main bag of content * @param {?ActiveBagContent=} altAbc - The alternative bag of content * @param {number=} fromIndex - Starts taking the cell content located at this position on the bag * @param {number=} toCell - Starts filling the box located at this position on the ActiveBoxBag * @param {type=} numCells - Acts only with a limited number of elements. */ setContent(abc, altAbc, fromIndex, toCell, numCells) { if (!fromIndex) fromIndex = 0 if (!toCell) toCell = 0 if (!numCells) numCells = this.cells.length for (let i = 0; i &lt; numCells; i++) { const bx = this.getActiveBox(toCell + i) bx.setContent(abc, fromIndex + i) bx.setAlternative(false) if (altAbc) bx.setAltContent(altAbc, fromIndex + i) } if (abc.backgroundContent !== null &amp;&amp; this.getBackgroundActiveBox() !== null) { const bx = this.getBackgroundActiveBox() bx.setContent(abc.backgroundContent) if (abc.bb !== bx.boxBase) bx.setBoxBase(abc.bb) } } /** * Finds an ActiveBox by location * @param {AWT.Point} point - The location to search for * @returns {ActiveBox} */ findActiveBox(point) { return this.findBox(point) } /** * Clears the content of all boxes */ clearAllBoxes() { this.cells.forEach(bx =&gt; bx.clear()) } /** * Clears the content of all boxes and background box */ clearAll() { this.clearAllBoxes() if (this.backgroundBox !== null) this.getBackgroundActiveBox().clear() } /** * Count the number of cells that are at its original place * @returns {number} */ countCellsAtPlace() { return this.cells.reduce((n, bx) =&gt; bx.isAtPlace() ? ++n : n, 0) } /** * Finds the {@link ActiveBox} that has the specified `idLoc` attribute * @param {number} idLoc - The idLoc to search for * @returns {ActiveBox} */ getActiveBoxWithIdLoc(idLoc) { return this.cells.find(bx =&gt; bx.idLoc === idLoc) || null } /** * Checks if the place occupied by a cell corresponds to a cell with equivalent content. * @param {ActiveBox} bx - The box to check * @param {boolean} checkCase - If `true`, check case when comparing texts * @returns {boolean} */ cellIsAtEquivalentPlace(bx, checkCase) { return bx.isAtPlace() || bx.isEquivalent(this.getActiveBoxWithIdLoc(bx.idOrder), checkCase) } /** * Count the number of cells that are at its original place or equivalent * @param {type} checkCase - - If `true`, check case when comparing texts * @returns {number} */ countCellsAtEquivalentPlace(checkCase) { return this.cells.reduce((n, bx) =&gt; this.cellIsAtEquivalentPlace(bx, checkCase) ? ++n : n, 0) } /** * Counts the number of cells that have the provided `idAss` attribute * @param {number} idAss - The `idAss` attribute to search * @returns {number} */ countCellsWithIdAss(idAss) { return this.cells.reduce((n, bx) =&gt; bx.idAss === idAss ? ++n : n, 0) } /** * Resets the default `idAss` attribute on all cells */ setDefaultIdAss() { this.cells.map(bx =&gt; bx.setDefaultIdAss()) } /** * Shuffles the cells * @param {number} times - Number of times to shuffle * @param {boolean} fitInArea - Ensure that all cells are inside the bag rectangle */ scrambleCells(times, fitInArea) { let nc = this.cells.length if (nc &gt;= 2) { // Array of AWT.Point objects const pos = [], idLoc = [], p = new AWT.Point() for (let i = 0; i &lt; nc; i++) { const bx = this.getActiveBox(i) pos[i] = new AWT.Point(bx.pos) idLoc[i] = bx.idLoc } for (let i = 0; i &lt; times; i++) { const r1 = Math.floor(Math.random() * nc), r2 = Math.floor(Math.random() * nc) if (r1 !== r2) { p.moveTo(pos[r1]) pos[r1].moveTo(pos[r2]) pos[r2].moveTo(p) const j = idLoc[r1] idLoc[r1] = idLoc[r2] idLoc[r2] = j } } for (let i = 0; i &lt; nc; i++) { const bx = this.getActiveBox(i), px = pos[i].x, py = pos[i].y bx.moveTo(new AWT.Point(px, py)) if (fitInArea) this.fitCellsInArea([bx]) bx.idLoc = idLoc[i] } } } /** * Fits cells inside the ActiveBoxBag area. Useful when non-rectangular cells exchange its positions. * @param {ActiveBox[]} boxes - The boxes to be checked */ fitCellsInArea(boxes) { const maxX = this.pos.x + this.dim.width, maxY = this.pos.y + this.dim.height boxes.forEach(bx =&gt; { // Save original position if (!bx.pos0) bx.pos0 = new AWT.Point(bx.pos) const px = Math.min(Math.max(bx.pos.x, this.pos.x), maxX - bx.dim.width), py = Math.min(Math.max(bx.pos.y, this.pos.y), maxY - bx.dim.height) if (px !== bx.pos.x || py !== bx.pos.y) bx.moveTo(new AWT.Point(px, py)) }) } /** * Exchange the positions of two cells inside the ActiveBoxBag area. * @param {ActiveBox} bxa - The first box * @param {ActiveBox} bxb - The second box * @param {boolean} fitInArea - Ensure that all cells are inside the bag rectangle */ swapCellPositions(bxa, bxb, fitInArea) { // Save backup of bxb significant properties const posB = new AWT.Point(bxb.pos), posB0 = bxb.pos0, idLocB = bxb.idLoc bxb.moveTo(bxa.pos0 || bxa.pos) bxb.pos0 = bxa.pos0 bxb.idLoc = bxa.idLoc bxa.moveTo(posB0 || posB) bxa.pos0 = posB0 bxa.idLoc = idLocB if (fitInArea) this.fitCellsInArea([bxa, bxb]) } /** * Resets the IDs of all cells */ resetIds() { this.cells.forEach((bx, i) =&gt; { if (bx) { bx.idOrder = i bx.idAss = i bx.idLoc = i } }) } /** * Gets the index of box located in the `cells` array after the provided index, having the * provided `idAssValid` value as `idAss` attribute. * When `idAssValid` is `null` or `undefined`, search for the next cell with `idAss&gt;0` * @param {type} currentItem - The index after to which start scanning * @param {type=} idAssValid - The `idAss` attribute value to search * @returns {number} */ getNextItem(currentItem, idAssValid) { const IDASSNOTUSED = -12345 if (!idAssValid) idAssValid = IDASSNOTUSED let i = currentItem + 1 for (; i &lt; this.cells.length; i++) { const bx = this.cells[i] if (!bx) break if (idAssValid !== IDASSNOTUSED) { if (idAssValid === bx.idAss) break } else if (bx.idAss &gt;= 0) break } return i } /** * Builds a group of hidden `buton` elements that will act as a accessible objects associated * to the canvas area of this ActiveBoxBag. * The buttons will only be created when `CanvasRenderingContext2D` has a method named `addHitRegion`. * See https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility * for more information and supported browsers. * @param {external:jQuery} $canvas - The `canvas` where this `ActiveBoxBag` will deploy, wrapped up in a jQuery object * @param {external:jQuery} $clickReceiver - The DOM element that will be notified when a button is clicked. * @param {string=} eventType - Type of event sent to $clickReceiver. Default is `click`. * @returns {external:jQuery} - The $accessibleDiv member, containing the accessible elements associated to this ActiveBoxBag. */ buildAccessibleElements($canvas, $clickReceiver, eventType) { if (Utils.settings.CANVAS_HITREGIONS) { this.$accessibleDiv = this.accessibleText !== '' ? $('&lt;div/&gt;', { 'aria-label': this.accessibleText, tabindex: 0 }) : null $canvas.append(this.$accessibleDiv) this.cells.forEach(bx =&gt; bx.buildAccessibleElement($canvas, $clickReceiver, this.$accessibleDiv, eventType)) } return this.$accessibleDiv } } Object.assign(ActiveBoxBag.prototype, { /** * `div` containing the accessible elements associated to this ActiveBoxBag * @name ActiveBoxBag#$accessibleDiv * @type {external:jQuery} */ $accessibleDiv: null, }) return ActiveBoxBag }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_BoxBag.js.html":{"id":"boxes_BoxBag.js.html","title":"Source: boxes/BoxBag.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/BoxBag.js /** * File : boxes/BoxBag.js * Created : 21/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./AbstractBox&quot;, &quot;../AWT&quot;, &quot;../Utils&quot; ], function ($, AbstractBox, AWT, Utils) { /** * BoxBag is a class derived from {@link AbstractBox} that contains a collection of &quot;boxes&quot; * (objects also derived from {@link AbstractBox}). This class implements methods to add, remove * and retrieve boxes, and to manage some of its properties like visibility, status, location and size. * @exports BoxBag * @class * @extends AbstractBox */ class BoxBag extends AbstractBox { /** * BoxBag constructor * @param {?AbstractBox} parent - The AbstractBox to which this box bag belongs * @param {?AWT.Container} container - The container where this box bag is placed. * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties */ constructor(parent, container, boxBase) { // BoxBag extends AbstractBox super(parent, container, boxBase) this.preferredBounds = new AWT.Rectangle() this.cells = [] } /** * Static method that sets the position and dimension of a `Resizable` object based on a * preferred maximum dimension and a margin. * @param {AWT.Dimension} preferredMaxSize - The preferred maximum size * @param {Resizable} rs - A resizable object implementing the methods described in the * {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/boxes/Resizable.html Resizable} * interface of JClic. Currently a {@link BoxBag} or {@link TextGrid}. * @param {number} margin - The margin between the available area and the BoxBag * @returns {AWT.Dimension} - The resulting size of the container */ static layoutSingle(preferredMaxSize, rs, margin) { // Avoid exceptions when rs is null if (!rs) return preferredMaxSize // optimal, maximal and minimal dimensions let d = rs.getPreferredSize(), minSize = rs.getMinimumSize(), maxSize = preferredMaxSize // remove margins maxSize.width -= 2 * margin maxSize.height -= 2 * margin // correct maxSize if less than minSize if (minSize.width &gt; maxSize.width || minSize.height &gt; maxSize.height) { maxSize = minSize } // compute scale factor let scale = d.width &gt; maxSize.width ? maxSize.width / d.width : 1 if (scale * d.height &gt; maxSize.height) scale = maxSize.height / d.height // resize the `Resizable` object d = rs.getScaledSize(scale) rs.setBounds(margin, margin, d.width, d.height) // restore margins d.width += 2 * margin d.height += 2 * margin return d } /** * Static method that sets the position and dimension of two `Resizable` objects based on a * preferred maximum size, a layout schema and a margin. * @param {AWT.Dimension} desiredMaxSize - The preferred maximum size * @param {Resizable} rsA - First resizable object implementing the methods described in the * {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/boxes/Resizable.html Resizable} * interface of JClic. Currently a {@link BoxBag} or {@link TextGrid}. * @param {Resizable} rsB - Second resizable object * @param {string} boxGridPos - The layout schema. Possible values are: * - &quot;AB&quot; (_A_ at left, _B_ at right) * - &quot;BA&quot; (_B_ at left, _A_ at right) * - &quot;AUB&quot; (_A_ above _B_) * - &quot;BUA&quot; (_A_ below _B_). * @param {number} margin - The margin between the available area and the BoxBag * @returns {AWT.Dimension} - The resulting size of the container */ static layoutDouble(desiredMaxSize, rsA, rsB, boxGridPos, margin) { // number of horizontal and vertical grid lines let isHLayout = false, nbh = 1, nbv = 1 switch (boxGridPos) { case 'AB': case 'BA': nbh = 2 nbv = 1 isHLayout = true break case 'AUB': case 'BUA': nbh = 1 nbv = 2 isHLayout = false break } const ra = rsA.getBounds(), rb = rsB.getBounds() // optimal dimensions let da = rsA.getPreferredSize(), db = rsB.getPreferredSize() const d = new AWT.Dimension( isHLayout ? da.width + db.width : Math.max(da.width, db.width), isHLayout ? Math.max(da.height, db.height) : da.height + db.height ) // minimal dimensions const minSizeA = rsA.getMinimumSize(), minSizeB = rsB.getMinimumSize(), minSize = new AWT.Dimension( isHLayout ? minSizeA.width + minSizeB.width : Math.max(minSizeA.width, minSizeB.width), isHLayout ? Math.max(minSizeA.height, minSizeB.height) : minSizeA.height + minSizeB.height ), maxSize = desiredMaxSize // remove margins maxSize.width -= (1 + nbh) * margin maxSize.height -= (1 + nbv) * margin // correct maxSize if less than minSize if (minSize.width &gt; maxSize.width || minSize.height &gt; maxSize.height) maxSize.setDimension(minSize) // compute scale factor let scale = d.width &gt; maxSize.width ? maxSize.width / d.width : 1 if (scale * d.height &gt; maxSize.height) scale = maxSize.height / d.height // // correct possible minimal infractions // ... // resize da = rsA.getScaledSize(scale) db = rsB.getScaledSize(scale) // set margins to center one box relative to the other let dah = db.width &gt; da.width ? (db.width - da.width) / 2 : 0, dbh = da.width &gt; db.width ? (da.width - db.width) / 2 : 0, dav = db.height &gt; da.height ? (db.height - da.height) / 2 : 0, dbv = da.height &gt; db.height ? (da.height - db.height) / 2 : 0 switch (boxGridPos) { case 'AB': rsA.setBounds(margin, margin + dav, da.width, da.height) rsB.setBounds(2 * margin + da.width, margin + dbv, db.width, db.height) break case 'BA': rsB.setBounds(margin, margin + dbv, db.width, db.height) rsA.setBounds(2 * margin + db.width, margin + dav, da.width, da.height) break case 'AUB': rsA.setBounds(margin + dah, margin, da.width, da.height) rsB.setBounds(margin + dbh, 2 * margin + da.height, db.width, db.height) break case 'BUA': rsB.setBounds(margin + dbh, margin, db.width, db.height) rsA.setBounds(margin + dah, 2 * margin + db.height, da.width, da.height) break default: rsA.setBounds( Math.round(margin + scale * ra.pos.x), Math.round(margin + scale * ra.pos.y), da.width, da.height) rsB.setBounds( Math.round(margin + scale * rb.pos.x), Math.round(margin + scale * rb.pos.y), da.width, da.height) break } // recompute 'd' adding margins const r = new AWT.Rectangle(rsA.getBounds()) r.add(rsB.getBounds()) d.width = r.dim.width + 2 * margin d.height = r.dim.height + 2 * margin return d } /** * Gets the preferred size of this `BoxBag` * @returns {AWT.Dimension} */ getPreferredSize() { return this.preferredBounds.dim } /** * Gets the minimum size requested by this `BoxBag` * @returns {AWT.Dimension} */ getMinimumSize() { const d = this.getPreferredSize() return new AWT.Dimension( Math.max(Utils.settings.MIN_CELL_SIZE, d.width), Math.max(Utils.settings.MIN_CELL_SIZE, d.height)) } /** * Scales the current size of this box bag, multiplying all values by a specific factor * @param {number} scale - The scale factor * @returns {AWT.Dimension} */ getScaledSize(scale) { const d = this.getPreferredSize() return new AWT.Dimension(Math.round(scale * d.width), Math.round(scale * d.height)) } /** * Adds an {@link AbstractBox} to the collection of cells * @param {AbstractBox} bx - The box to add */ addBox(bx) { this.cells.push(bx) bx.setParent(this) if (this.cells.length === 1) AWT.Rectangle.prototype.setBounds.call(this, bx) else this.add(bx) this.preferredBounds.setBounds(this.getBounds()) } /** * Returns the index of a specific box in the `cells` array * @param {AbstractBox} bx * @returns {number} */ boxIndex(bx) { return bx === null ? -1 : this.cells.indexOf(bx) } /** * Returns the box at a specific index in the `cells` array * @param {number} n - The index * @returns {AbstractBox} */ getBox(n) { return n &lt; 0 || n &gt;= this.cells.length ? null : this.cells[n] } /** * Gets the background box * @returns {AbstractBox} */ getBackgroundBox() { return this.backgroundBox } /** * Sets the background box * @param {AbstractBox} bx */ setBackgroundBox(bx) { this.backgroundBox = bx if (bx !== null) { bx.setParent(this) bx.isBackground = true } // Add the `backgroundbox` rectangle to the global BoxBag rectangle AWT.Rectangle.prototype.add.call(this, bx) this.preferredBounds.setBounds(this.getBounds()) } /** * Recalculates the total size of this BoxBag (useful after direct additions o deletions of * elements in the `cells` array). * Updates `preferredBounds` and the current position and size of the box bag. */ recalcSize() { let r = this.backgroundBox ? new AWT.Rectangle(this.backgroundBox.pos, this.backgroundBox.dim) : null this.cells.forEach(cell =&gt; { if (!r) r = new AWT.Rectangle(cell.pos, cell.dim) else r.add(cell) }) if (!r) r = new AWT.Rectangle(this.pos.x, this.pos.y, 0, 0) this.preferredBounds.setRect(r) this.x = r.pos.x this.y = r.pos.y this.dim.width = r.dim.width this.dim.height = r.dim.height } /** * Returns the number of cells stored in this BoxBag * @returns {number} */ getNumCells() { return this.cells.length } /** * Sets the specified key - value pair to all cells of this bag. * @param {string} key - The key to be established * @param {} value - The value, of any type */ setCellAttr(key, value) { this.cells.forEach(bx =&gt; bx[key] = value) if (this.backgroundBox) this.backgroundBox[key] = value } /** * Overrides {@link AbstractBox#setBorder} iterating over all the cells stored in this box bag. * @override * @param {boolean} newVal - Whether to set or unset the border */ setBorder(newVal) { this.cells.forEach(bx =&gt; bx.setBorder(newVal)) } /** * Overrides {@link AbstractBox#setVisible} iterating over all the cells stored in this box bag. * @override * @param {boolean} newVal - Whether to set the cells visible or not */ setVisible(newVal) { this.cells.forEach(bx =&gt; bx.setVisible(newVal)) } /** * Overrides {@link AbstractBox#setAlternative} iterating over all the cells stored in this box bag. * @override * @param {boolean} newVal - Whether to set or unset the cells in &quot;alternative&quot; mode */ setAlternative(newVal) { super.setAlternative(newVal) this.cells.forEach(bx =&gt; bx.setAlternative(newVal)) } /** * Overrides {@link AbstractBox#setBounds} adjusting the position and size of all cells * @override * @param {(AWT.Rectangle|number)} rect - An AWT.Rectangle object, or the `x` coordinate of the * upper-left corner of a new rectangle. * @param {number=} ry - `y` coordinate of the upper-left corner of the new rectangle. * @param {number=} rw - Width of the new rectangle. * @param {number=} rh - Height of the new rectangle. */ setBounds(rect, ry, rw, rh) { if (typeof rect === 'number') { // Arguments are co-ordinates and size rect = new AWT.Rectangle(rect, ry, rw, rh) } if (rect.getSurface() &gt; 0 &amp;&amp; !rect.equals(this)) { const scaleW = rect.dim.width / this.dim.width, scaleH = rect.dim.height / this.dim.height, dx = rect.pos.x - this.pos.x, dy = rect.pos.y - this.pos.y this.cells.forEach(bx =&gt; { const p = new AWT.Point(bx.pos.x - this.pos.x, bx.pos.y - this.pos.y) bx.setBounds( dx + this.pos.x + scaleW * p.x, dy + this.pos.y + scaleH * p.y, scaleW * bx.dim.width, scaleH * bx.dim.height) }) if (this.backgroundBox !== null) { const bx = this.backgroundBox, p = new AWT.Point(bx.pos.x - this.pos.x, bx.pos.y - this.pos.y) bx.setBounds( dx + this.pos.x + scaleW * p.x, dy + this.pos.y + scaleH * p.y, scaleW * bx.dim.width, scaleH * bx.dim.height) } } super.setBounds(rect) } /** * Performs graphics operations for each cell. * Overrides {@link AbstractBox#update} * @override * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context used to draw the * box contents. * @param {AWT.Rectangle=} dirtyRegion - The area that must be repainted. `null` refers to the whole box. */ update(ctx, dirtyRegion) { if (this.isEmpty() || !this.isVisible() || this.isTemporaryHidden()) return false if (dirtyRegion &amp;&amp; !this.intersects(dirtyRegion)) return false if (this.backgroundBox !== null) this.backgroundBox.update(ctx, dirtyRegion) this.cells.forEach(bx =&gt; { if (!bx.isMarked()) bx.update(ctx, dirtyRegion) }) // Make a second loop to repaint marked cells this.cells.forEach(bx =&gt; { if (bx.isMarked()) bx.update(ctx, dirtyRegion) }) return true } /** * Finds the first visible {@link AbstractBox} located under the specified point * @param {AWT.Point} p * @returns {AbstractBox} */ findBox(p) { let result = null for (let i = this.cells.length - 1; i &gt;= 0; i--) { const bx = this.getBox(i) if (bx.isVisible() &amp;&amp; bx.contains(p)) { result = bx break } } return result } /** * Count the number of cells of this BoxBag that are in &quot;inactive&quot; state * @returns {number} */ countInactiveCells() { return this.cells.reduce((n, bx) =&gt; bx.isInactive() ? ++n : n, 0) } } Object.assign(BoxBag.prototype, { /** * The array of cells * @name BoxBag#cells * @type {AbstractBox[]} */ cells: [], /** * Rectangle containing the preferred bounds of the BoxBag * @name BoxBag#preferredBounds * @type {AWT.Rectangle} */ preferredBounds: new AWT.Rectangle(), /** * An optional box used as a background by this BoxBag * @name BoxBag#backgroundBox * @type {AbstractBox} */ backgroundBox: null, }) return BoxBag }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_ActiveBoxContent.js.html":{"id":"boxes_ActiveBoxContent.js.html","title":"Source: boxes/ActiveBoxContent.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/ActiveBoxContent.js /** * File : boxes/ActiveBoxContent.js * Created : 13/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../AWT&quot;, &quot;../Utils&quot;, &quot;./BoxBase&quot;, &quot;../media/MediaContent&quot; ], function ($, AWT, Utils, BoxBase, MediaContent) { /** * This class defines a content that can be displayed by {@link ActiveBox} objects. This content * can be a text, an image, a fragment of an image or a combination of text and images. The style * (colors, font and size, borders, shadows, margins, etc.) are specified in the `bb` attribute, * always pointing to a {@link BoxBase} object. * @exports ActiveBoxContent * @class */ class ActiveBoxContent { /** * ActiveBoxContent constructor * @param {string=} id - An optional identifier. */ constructor(id) { if (typeof id !== 'undefined') this.id = id this.imgAlign = { h: 'middle', v: 'middle' } this.txtAlign = { h: 'middle', v: 'middle' } } /** * * Loads settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to be parsed * @param {MediaBag} mediaBag - The media bag used to retrieve images and other media */ setProperties($xml, mediaBag) { // // Read attributes Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'id': case 'item': this[name] = Number(val) break case 'width': case 'height': if (this.dimension === null) this.dimension = new AWT.Dimension(0, 0) this.dimension[name] = Number(val) break case 'txtAlign': case 'imgAlign': this[name] = this.readAlign(val) break case 'hAlign': // Old style this['txtAlign'] = this.readAlign(val + ',center') this['imgAlign'] = this.readAlign(val + ',center') break case 'border': case 'avoidOverlapping': this[name] = Utils.getBoolean(val) break case 'image': this.imgName = Utils.nSlash(val) break } }) // // Read inner elements $xml.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'style': this.bb = new BoxBase(null).setProperties($node) break case 'media': this.mediaContent = new MediaContent().setProperties($node) break case 'p': if (this.text === null) this.text = '' else this.text += '\\n' this.text += child.textContent break } }) if (mediaBag) this.realizeContent(mediaBag) return this } /** * Decode expressions with combined values of horizontal and vertical alignments in the form: * &quot;(left|middle|right),(top|middle|bottom)&quot; * @param {string} str - The string to parse * @returns {ActiveBoxContent~alignType} */ readAlign(str) { const align = { h: 'center', v: 'center' } if (str) { const v = str.split(',') align.h = v[0].replace('middle', 'center') align.v = v[1].replace('middle', 'center') } return align } /** * Checks if this is an empty content (`text` and `img` are _null_) */ isEmpty() { return this.text === null &amp;&amp; this.img === null } /** * Checks if two contents are equivalent * @param {ActiveBoxContent} abc - The content to compare with this. * @param {boolean} checkCase - When `true` the comparing will be case-sensitive. * @returns {boolean} */ isEquivalent(abc, checkCase) { if (abc === this) return true let result = false if (abc !== null) { if (this.isEmpty() &amp;&amp; abc.isEmpty()) result = this.id === abc.id else result = (this.text === null ? abc.text === null : checkCase ? this.text === abc.text : this.text.toLocaleLowerCase() === abc.text.toLocaleLowerCase() ) &amp;&amp; (this.mediaContent === null ? abc.mediaContent === null : this.mediaContent.isEquivalent(abc.mediaContent) ) &amp;&amp; this.img === abc.img &amp;&amp; (this.imgClip === null ? abc.imgClip === null : this.imgClip.equals(abc.imgClip)) } return result } /** * Sets the text content of this ActiveBox * @param {string} tx */ setTextContent(tx) { // only plain text allowed! if (tx !== null) { this.text = tx this.checkHtmlText() } else { this.text = null this.innerHtmlText = null } } /** * Checks if cell's text uses HTML, initializing the `innerHtmlText` member as needed. */ checkHtmlText() { this.innerHtmlText = null if (Utils.startsWith(this.text, '&lt;html&gt;', true)) { const htmlText = this.text.trim() const s = htmlText.toLocaleLowerCase() if (s.indexOf('&lt;body') === -1) { const s2 = s.indexOf('&lt;/html&gt;') if (s2 &gt;= 0) this.innerHtmlText = htmlText.substr(6, s2) } } } /** * Sets a fragment of a main image as a graphic content of this cell. * Cells cannot have two graphic contents, so `imgName` (the specific image of this cell) should * be cleared with this setting. * @param {external:HTMLImageElement} img - The image data * @param {AWT.Shape} imgClip - A shape that clips the portion of image assigned to this content. * @param {string=} animatedGifFile - When `img` is an animated GIF, its file name */ setImgContent(img, imgClip, animatedGifFile) { this.img = img this.imgName = null this.imgClip = imgClip if (animatedGifFile) this.animatedGifFile = animatedGifFile } /** * Prepares the media content * @param {PlayStation} playStation - Usually a {@link JClicPlayer} */ prepareMedia(playStation) { if (!this.amp &amp;&amp; this.mediaContent &amp;&amp; this.mediaContent.mediaType === 'PLAY_VIDEO') { this.amp = playStation.getActiveMediaPlayer(this.mediaContent) this.amp.realize() } } /** * Reads and initializes the image associated to this content * @param {MediaBag} mediaBag - The media bag of the current project. */ realizeContent(mediaBag) { if (this.imgName !== null &amp;&amp; this.imgName.length &gt; 0) { this.mbe = mediaBag.getElement(this.imgName, true) if (this.mbe) { this.mbe.build(() =&gt; { this.img = this.mbe.data this.animatedGifFile = this.mbe.animated ? this.mbe.getFullPath() : null }) } } if (this.mediaContent !== null) { if (this.imgName === null &amp;&amp; (this.text === null || this.text.length === 0)) { this.img = this.mediaContent.getIcon() this.animatedGifFile = null } } this.checkHtmlText(mediaBag) } /** * Gets a string representing this content, useful for checking if two different contents are * equivalent. * @returns {string} */ getDescription() { let result = this.text &amp;&amp; this.text.length &gt; 0 ? this.text : '' if (this.imgName) result = `${result}${result.length &gt; 0 ? ' ' : ''}${Utils.getMsg('image')} ${this.imgName}` if (this.imgClip) result = `${result}${result.length &gt; 0 ? ' ' : ''}${this.imgClip.toString()}` if (this.mediaContent) result = `${result}${result.length &gt; 0 ? ' ' : ''}${this.mediaContent.getDescription()}` return result } /** * * Overwrites the original `Object.toString` method, returning `getDescription` instead * @returns {String} */ toString() { let result = this.text &amp;&amp; this.text.length &gt; 0 ? this.text : '' if (this.imgName) result = `${result}${result.length &gt; 0 ? ' ' : ''}${Utils.getMsg('image')} ${this.imgName}` if (this.imgClip) result = `${result}${result.length &gt; 0 ? ' ' : ''}${Utils.getMsg('image fragment')}` return result } } Object.assign(ActiveBoxContent.prototype, { /** * The {@link BoxBase} attribute of this content. Can be `null`, meaning {@link ActiveBox} will * try to find a suitable style scanning down through its own BoxBase, their parent's and, finally, * the default values defined in `BoxBase.prototype`. * @name ActiveBoxContent#bb * @type {BoxBase} */ bb: null, /** * Optimal dimension of any {@link ActiveBox} taking this content. * @name ActiveBoxContent#dimension * @type {AWT.Dimension} */ dimension: null, /** * The {@link ActiveBox} can have or not a border despite the settings of {@link BoxBase}. * The default value `null` means not to take in consideration this setting. * @name ActiveBoxContent#border * @type {(null|boolean)} */ border: null, /** * The text to display on the {@link ActiveBox}. It can have up to two paragraphs. * @name ActiveBoxContent#text * @type {string} */ text: null, /** * The name of the image file to display on the {@link ActiveBox}. * @name ActiveBoxContent#imgName * @type {string} */ imgName: null, /** * An optional shape used to clip the image. * @name ActiveBoxContent#imgClip * @type {AWT.Shape} */ imgClip: null, /** * The media content associated with this object. * @name ActiveBoxContent#mediaContent * @type {MediaContent} */ mediaContent: null, /** * @typedef ActiveBoxContent~alignType * @type {object} * @property {string} h - Valid values are: `left`, `middle`, `right` * @property {string} v - Valud values are: `top`, `middle`, `bottom` */ /** * The horizontal and vertical alignment of the image inside the cell. * @name ActiveBoxContent#imgAlign * @type {ActiveBoxContent~alignType} */ imgAlign: null, /** * The horizontal and vertical alignment of the text inside the cell. * Valid values are: `left`, `middle`, `right`, `top` and `bottom`. * @name ActiveBoxContent#txtAlign * @type {ActiveBoxContent~alignType} */ txtAlign: null, /** * Whether to avoid overlapping of image and text inside the cell when both are present. * @name ActiveBoxContent#avoidOverlapping * @type {boolean} */ avoidOverlapping: false, /** * Numeric identifier used in activities to resolve relationships between cells * @name ActiveBoxContent#id * @type {number} */ id: -1, /** * Numeric identifier used in activities to resolve relationships between cells * @name ActiveBoxContent#item * @type {number} */ item: -1, // // Transient properties build and modified at run-time /** * The realized image used by this box content. * @name ActiveBoxContent#img * @type {external:HTMLImageElement} */ img: null, /** * When `img` is an animated GIF file, this field should contain its file name * @name ActiveBoxContent#animatedGifFile * @type {string} */ animatedGifFile: null, /** * When not null, this content should be treated as an HTML element * @name ActiveBoxContent#innerHtmlText * @type {string} */ innerHtmlText: null, /** * The {@link ActiveMediaPlayer} associated with this content. Updated at run-time. * @name ActiveBoxContent#amp * @type {ActiveMediaPlayer} */ amp: null, /** * The {@link MediaBagElement} associated with this content, if any. Updated at run-time. * @name ActiveBoxContent#mbe * @type {MediaBagElement} */ mbe: null, }) /** * An empty ActiveBoxContent * @type {ActiveBoxContent} */ ActiveBoxContent.EMPTY_CONTENT = new ActiveBoxContent() return ActiveBoxContent }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_ActiveBoxGrid.js.html":{"id":"boxes_ActiveBoxGrid.js.html","title":"Source: boxes/ActiveBoxGrid.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/ActiveBoxGrid.js /** * File : boxes/ActiveBoxGrid.js * Created : 19/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./ActiveBoxBag&quot;, &quot;./ActiveBox&quot;, &quot;../AWT&quot;, &quot;../Utils&quot; ], function ($, ActiveBoxBag, ActiveBox, AWT, Utils) { /** * This class extends {@link ActiveBoxBag} with constructors that take an argument of type * {@link Shaper} used to build all its {@link ActiveBox}components. It also maintains information * about the number of &quot;rows&quot; and &quot;columns&quot;, useful to compute valid (integer) values when * resizing or moving its components. * @exports ActiveBoxGrid * @class * @extends ActiveBoxBag */ class ActiveBoxGrid extends ActiveBoxBag { /** * ActiveBxGrid constructor * @param {?AbstractBox} parent - The AbstractBox to which this box grid belongs * @param {?AWT.Container} container - The container where this box grid is placed. * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties * @param {number} px - `X` coordinate of the upper left corner of this box grid * @param {number} py - `Y` coordinate of the upper left corner of this box grid * @param {number} setWidth - Total width of the box grid * @param {number} setHeight - Total height of the box grid * @param {Shaper} sh - Shaper used to build the ActiveBox objects */ constructor(parent, container, boxBase, px, py, setWidth, setHeight, sh) { // ActiveBoxGrid derives from ActiveBoxBag super(parent, container, boxBase) this.nCols = sh.nCols this.nRows = sh.nRows // This will be the enclosing rectangle of this ActiveBox bag const r = new AWT.Rectangle( new AWT.Point(px, py), new AWT.Dimension( Math.round(setWidth / this.nCols) * this.nCols, Math.round(setHeight / this.nRows) * this.nRows)) // Create all the [ActiveBox](ActiveBox.html) objects based on the // shapes provided by the [Shaper](Shaper.html) for (let i = 0; i &lt; sh.nCells; i++) { const tmpSh = sh.getShape(i, r), bx = new ActiveBox(this, container, boxBase, i, tmpSh.getBounds()) if (!sh.rectangularShapes) bx.setShape(tmpSh) this.addActiveBox(bx) } // If the Shaper has `remainder` (extra space), set the background box of this // [BoxBag](BoxBag.html) if (sh.hasRemainder) { const tmpSh = sh.getRemainderShape(r), bx = new ActiveBox(this, container, boxBase, 0, tmpSh.getBounds()) bx.setShape(tmpSh) this.setBackgroundBox(bx) } } /** * This factory constructor creates a new empty grid with the number of cells indicated by the * {@link ActiveBagContent} `abc`, not filling the cells with any content. * @param {?AbstractBox} parent - The AbstractBox to which this box grid belongs * @param {?AWT.Container} container - The container where this box grid is placed. * @param {number} px - `X` coordinate of the upper left corner of this box grid * @param {number} py - `Y` coordinate of the upper left corner of this box grid * @param {ActiveBagContent} abc - Used only to get the number of cells and the shaper (when `sh` is `null`) * @param {?Shaper} sh - Shaper used to build the ActiveBox objects * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties * of this box grid are defined. * @returns {ActiveBoxGrid} */ static createEmptyGrid(parent, container, px, py, abc, sh, boxBase) { const result = abc ? new ActiveBoxGrid(parent, container, boxBase || abc.bb, px, py, abc.getTotalWidth(), abc.getTotalHeight(), sh || abc.getShaper()) : null if (result) result.setBorder(abc.border) return result } /** * Gets the minimum size of this grid * @returns {AWT.Dimension} */ getMinimumSize() { return new AWT.Dimension( Utils.settings.MIN_CELL_SIZE * this.nCols, Utils.settings.MIN_CELL_SIZE * this.nRows) } /** * Gets a scaled size of this grid, rounded to the nearest integer values * @param {number} scale - The scale factor * @returns {AWT.Dimension} */ getScaledSize(scale) { return new AWT.Dimension( Utils.roundTo(scale * this.preferredBounds.dim.width, this.nCols), Utils.roundTo(scale * this.preferredBounds.dim.height, this.nRows)) } /** * Returns the logical coordinates of the provided {@link ActiveBox}. * The units of the result are not pixels, but ordinal numbers (relative positions) of columns * and rows in the grid. * @param {ActiveBox} bx - The box to process * @returns {AWT.Point} */ getCoord(bx) { return new AWT.Point(bx.idLoc % this.nCols, Math.floor(bx.idLoc / this.nCols)) } /** * Calculates the logical distance between two {@link ActiveBox} objects. * Resulting units are not pixels, but ordinal numbers (relative positions) of columns and rows * in the grid. * @param {ActiveBox} src - First box * @param {ActiveBox} dest - Second box * @returns {AWT.Point} */ getCoordDist(src, dest) { const ptSrc = this.getCoord(src), ptDest = this.getCoord(dest) return new AWT.Point(ptDest.x - ptSrc.x, ptDest.y - ptSrc.y) } } Object.assign(ActiveBoxGrid.prototype, { /** * Number of columns of this box grid * @name ActiveBoxGrid#nCols * @type {number} */ nCols: 1, /** * Number of rows of this box grid * @name ActiveBoxGrid#nRows * @type {number} */ nRows: 1, }) return ActiveBoxGrid }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"media_ActiveMediaBag.js.html":{"id":"media_ActiveMediaBag.js.html","title":"Source: media/ActiveMediaBag.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: media/ActiveMediaBag.js /** * File : media/ActiveMediaBag.js * Created : 28/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;./ActiveMediaPlayer&quot;, &quot;../Utils&quot; ], function (ActiveMediaPlayer, Utils) { /** * This class stores a collection of realized {@link ActiveMediaPlayer} objects, related to a * {@link JClicProject} or {@link Activity}. * @exports ActiveMediaBag * @class */ class ActiveMediaBag { /** * ActiveMediaBag constructor */ constructor() { this.players = [] } /** * Creates a new {@link ActiveMediaPlayer} linked to this media bag * @param {MediaContent} mc - The content used by the new player * @param {MediaBag} mb - The project's MediaBag * @param {PlayStation} ps - An object implementing the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) interface, * usually a {@link JClicPlayer}. * @returns {ActiveMediaPlayer} */ createActiveMediaPlayer(mc, mb, ps) { let amp = null switch (mc.mediaType) { case 'RECORD_AUDIO': if (mc.length &lt;= 0 || mc.length &gt;= Utils.settings.MAX_RECORD_LENGTH) break /* falls through */ case 'PLAY_RECORDED_AUDIO': if (mc.recBuffer &lt; 0 || mc.recBuffer &gt;= 10) break /* falls through */ case 'PLAY_AUDIO': case 'PLAY_MIDI': case 'PLAY_VIDEO': amp = new ActiveMediaPlayer(mc, mb, ps) break } if (amp !== null) this.players.push(amp) return amp } /** * Looks for an already existing {@link ActiveMediaPlayer} equivalent to the requested. * When not found, a new one is created and and returned. * @param {MediaContent} mc - The content used by the new player * @param {MediaBag} mb - The project's MediaBag * @param {PlayStation} ps - An object implementing the * {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html|PlayStation} interface, * usually a {@link JClicPlayer}. * @returns {ActiveMediaPlayer} */ getActiveMediaPlayer(mc, mb, ps) { return this.players.find(p =&gt; p.mc === mc || p.mc.isEquivalent(mc)) || this.createActiveMediaPlayer(mc, mb, ps) } /** * Removes from the list of players the {@link ActiveMediaPlayer} related to the specified {@link MediaContent}. * @param {MediaContent} mc - The media content to look for. */ removeActiveMediaPlayer(mc) { const i = this.players.findIndex(p =&gt; p.mc === mc) if (i &gt;= 0) { this.players[i].clear() // removes the element pointed by 'i' this.players.splice(i, 1) } } /** * Realizes all the media elements stored in this bag */ realizeAll() { this.players.forEach(p =&gt; p.realize()) } /** * Stops playing all media elements stored in this bag * @param {number} level - Level at and below what all media players will be muted. */ stopAll(level) { if (typeof level === 'undefined') level = -1 this.players.forEach(amp =&gt; { if (level === -1 || amp.mc !== null &amp;&amp; amp.mc.level &lt;= level) amp.stop() }) } /** * Removes all players from this media bag */ removeAll() { this.players.forEach(p =&gt; p.clear()) // Empty the `players` array this.players.length = 0 ActiveMediaPlayer.prototype.clearAllAudioBuffers() } } Object.assign(ActiveMediaBag.prototype, { /** * The collection of {@link ActiveMediaPlayer} objects stored in this media bag. * @name ActiveMediaBag#players * @type {ActiveMediaPlayer[]} */ players: [], }) return ActiveMediaBag }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"media_ActiveMediaPlayer.js.html":{"id":"media_ActiveMediaPlayer.js.html","title":"Source: media/ActiveMediaPlayer.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: media/ActiveMediaPlayer.js /** * File : media/ActiveMediaPlayer.js * Created : 28/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./AudioBuffer&quot; ], function ($, AudioBuffer) { /** * This kind of object encapsulates a realized {@link MediaContent} and provides methods to start, * stop, pause and record different types of media (audio, video, MIDI, voice recording...) * @exports ActiveMediaPlayer * @class */ class ActiveMediaPlayer { /** * ActiveMediaPlayer constructor * @param {MediaContent} mc - - The content used by this player * @param {MediaBag} mb - The project's MediaBag * @param {PlayStation} ps - An object implementing the * {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html PlayStation} interface, * usually a {@link JClicPlayer}. */ constructor(mc, mb, ps) { this.mc = mc this.ps = ps switch (mc.mediaType) { case 'RECORD_AUDIO': if (ActiveMediaPlayer.AUDIO_BUFFERS) { this.clearAudioBuffer(mc.recBuffer) ActiveMediaPlayer.AUDIO_BUFFERS[mc.recBuffer] = new AudioBuffer(mc.length) } /* falls through */ case 'PLAY_RECORDED_AUDIO': this.useAudioBuffer = true break case 'PLAY_AUDIO': case 'PLAY_VIDEO': this.mbe = mb.getElement(mc.mediaFileName, true) break case 'PLAY_MIDI': // TODO: Implement MIDI playing break default: break } } /** * Generates the objects that will play media */ realize() { if (this.mbe) { this.mbe.build(mbe =&gt; { if (mbe.data &amp;&amp; mbe.data.pause &amp;&amp; !mbe.data.paused &amp;&amp; !mbe.data.ended &amp;&amp; mbe.data.currentTime) mbe.data.pause() if ((mbe.type === 'video' || mbe.type === 'anim') &amp;&amp; mbe.data) { this.$visualComponent = $(mbe.data) this.$visualComponent.css('z-index', 20) } }) } } /** * Plays the media, realizing it if needed. * @param {ActiveBox=} _setBx - The active box where this media will be placed (when video) */ playNow(_setBx) { // TODO: Remove unused param &quot;_setBx&quot; if (this.useAudioBuffer) { if (ActiveMediaPlayer.AUDIO_BUFFERS) { const buffer = ActiveMediaPlayer.AUDIO_BUFFERS[this.mc.recBuffer] if (buffer) { if (this.mc.mediaType === 'RECORD_AUDIO') { buffer.record() } else { buffer.play() } } } } else if (this.mbe) { this.mbe.build(() =&gt; { if (this.mbe.data) { let armed = false const $player = $(this.mbe.data) // Clear previous event handlers $player.off() // If there is a time fragment specified, prepare to stop when the `to` position is reached if (this.mc.to &gt; 0) { $player.on('timeupdate', () =&gt; { if (armed &amp;&amp; this.mbe.data.currentTime &gt;= this.mc.to / 1000) { $player.off('timeupdate') this.mbe.data.pause() } }) } // Launch the media despite of its readyState armed = true if (!this.mbe.data.paused &amp;&amp; !this.mbe.data.ended &amp;&amp; this.mbe.data.currentTime) this.mbe.data.pause() // Seek the media position this.mbe.data.currentTime = this.mc.from &gt; 0 ? this.mc.from / 1000 : 0 this.mbe.data.play() } }) } } /** * Plays the media when available, without blocking the current thread. * @param {ActiveBox=} setBx - The active box where this media will be placed (when video) */ play(setBx) { this.stopAllAudioBuffers() this.playNow(setBx) } /** * Stops the media playing */ stop() { if (this.useAudioBuffer) this.stopAudioBuffer(this.mc.recBuffer) else if (this.mbe &amp;&amp; this.mbe.data &amp;&amp; this.mbe.data.pause &amp;&amp; !this.mbe.data.paused &amp;&amp; !this.mbe.data.ended &amp;&amp; this.mbe.data.currentTime) this.mbe.data.pause() } /** * Frees all resources used by this player */ clear() { this.stop() if (this.useAudioBuffer) this.clearAudioBuffer(this.mc.recBuffer) } /** * Clears the specified audio buffer * @param {number} buffer - Index of the buffer in {@link ActiveMediaPlayer.AUDIO_BUFFERS} */ clearAudioBuffer(buffer) { if (ActiveMediaPlayer.AUDIO_BUFFERS &amp;&amp; buffer &gt;= 0 &amp;&amp; buffer &lt; ActiveMediaPlayer.AUDIO_BUFFERS.length &amp;&amp; ActiveMediaPlayer.AUDIO_BUFFERS[buffer]) { ActiveMediaPlayer.AUDIO_BUFFERS[buffer].clear() ActiveMediaPlayer.AUDIO_BUFFERS[buffer] = null } } /** * Clears all audio buffers */ clearAllAudioBuffers() { if (ActiveMediaPlayer.AUDIO_BUFFERS) ActiveMediaPlayer.AUDIO_BUFFERS.forEach((_buffer, n) =&gt; this.clearAudioBuffer(n)) } /** * Counts the number of active audio buffers * @returns {number} */ countActiveBuffers() { return ActiveMediaPlayer.AUDIO_BUFFERS ? ActiveMediaPlayer.AUDIO_BUFFERS.reduce((c, ab) =&gt; c + ab ? 1 : 0, 0) : 0 } /** * Stops the playing or recording actions of all audio buffers */ stopAllAudioBuffers() { if (ActiveMediaPlayer.AUDIO_BUFFERS) ActiveMediaPlayer.AUDIO_BUFFERS.forEach(ab =&gt; ab ? ab.stop() : null) } /** * Stops a specific audio buffer * @param {number} buffer - Index of the buffer in {@link ActiveMediaPlayer.AUDIO_BUFFERS} */ stopAudioBuffer(buffer) { if (ActiveMediaPlayer.AUDIO_BUFFERS &amp;&amp; buffer &gt;= 0 &amp;&amp; buffer &lt; ActiveMediaPlayer.AUDIO_BUFFERS.length &amp;&amp; ActiveMediaPlayer.AUDIO_BUFFERS[buffer]) ActiveMediaPlayer.AUDIO_BUFFERS[buffer].stop() } /** * Checks the position of visual components after a displacement or resizing of its container * @param {ActiveBox} _bxi - The container where this player is hosted */ checkVisualComponentBounds(_bxi) { // does nothing } /** * Sets the visual component of this player visible or invisible * @param {boolean} _state - `true` for visible */ setVisualComponentVisible(_state) { // TODO: Implement setVisualComponentVisible } /** * Sets the ActiveBox associated to this media player * @param {?ActiveBox} setBx - The new container of this media. Can be `null`. */ linkTo(setBx) { this.bx = setBx if (this.bx &amp;&amp; this.$visualComponent) this.bx.setHostedComponent(this.$visualComponent) } } /** * Recording of audio is enabled only when `navigator.getUserMedia` and `MediaRecorder` are defined * In 02-Mar-2016 this is implemented only in Firefox 41 and Chrome 49 or later. * See: {@link https://addpipe.com/blog/mediarecorder-api} * @type Boolean */ ActiveMediaPlayer.REC_ENABLED = typeof MediaRecorder !== 'undefined' &amp;&amp; typeof navigator !== 'undefined' if (ActiveMediaPlayer.REC_ENABLED) { navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia } /** * Audio buffers used for recording and playing voice are stored in a static array because * they are common to all instances of {@link ActiveMediaPlayer} * Only initialized when {@link REC_ENABLED} is `true`. * @type {AudioBuffer[]} */ ActiveMediaPlayer.AUDIO_BUFFERS = ActiveMediaPlayer.REC_ENABLED ? [] : null Object.assign(ActiveMediaPlayer.prototype, { /** * The MediaContent associated to this player. * @name ActiveMediaPlayer#mc * @type {MediaContent} */ mc: null, /** * The player to which this player belongs. * @name ActiveMediaPlayer#ps * @type {JClicPlayer} */ ps: null, /** * MediaPlayers should be linked to {@link ActiveBox} objects. * @name ActiveMediaPlayer#bx * @type {ActiveBox} */ bx: null, /** * The visual component for videos, usually a `video` HTML element * @name ActiveMediaPlayer#$visualComponent * @type {external:jQuery} */ $visualComponent: null, /** * When `true`, this player makes use of a recording audio buffer * @name ActiveMediaPlayer#useAudioBuffer * @type {boolean} */ useAudioBuffer: false, /** * The {@link MediaBagElement} containing the reference to the media to be played * @name ActiveMediaPlayer#mbe * @type {MediaBagElement} */ mbe: null, }) return ActiveMediaPlayer }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Activity.js.html":{"id":"Activity.js.html","title":"Source: Activity.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: Activity.js /** * File : Activity.js * Created : 07/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Utils&quot;, &quot;./AWT&quot;, &quot;./media/EventSounds&quot;, &quot;./boxes/ActiveBoxContent&quot;, &quot;./boxes/ActiveBagContent&quot;, &quot;./boxes/BoxBase&quot;, &quot;./automation/AutoContentProvider&quot;, &quot;./boxes/TextGridContent&quot;, &quot;./activities/text/Evaluator&quot;, &quot;./activities/text/TextActivityDocument&quot;], function ( $, Utils, AWT, EventSounds, ActiveBoxContent, ActiveBagContent, BoxBase, AutoContentProvider, TextGridContent, Evaluator, TextActivityDocument) { // Direct access to global setings const K = Utils.settings // Event used for detecting touch devices const TOUCH_TEST_EVENT = 'touchstart' /** * Activity is the abstract base class of JClic activities. It defines also the inner class * {@link Activity.ActivityPanel}, wich is responsible for user interaction with the activity * content. * Activities should extend both `Activity` and `ActivityPanel` classes in order to become fully * operative. * @exports Activity * @class * @abstract */ class Activity { /** * Activity constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { this.project = project this.eventSounds = new EventSounds(this.project.settings.eventSounds) this.messages = {} this.abc = {} } /** * Factory constructor that returns a specific type of Activity based on the `class` attribute * declared in the $xml parameter. * @param {external:jQuery} $xml - The XML element to be parsed * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs * @returns {Activity} */ static getActivity($xml, project) { let act = null if ($xml &amp;&amp; project) { const className = ($xml.attr('class') || '').replace(/^edu\\.xtec\\.jclic\\.activities\\./, '@'), cl = Activity.CLASSES[className] if (cl) { act = new cl(project) act.setProperties($xml) } else Utils.log('error', `Unknown activity class: ${className}`) } return act } /** * Loads this object settings from an XML element * @param {external:jQuery} $xml - The jQuery XML element to parse */ setProperties($xml) { // Read attributes Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { // Generic attributes: case 'name': val = Utils.nSlash(val) /* falls through */ case 'code': case 'type': case 'description': this[name] = val break case 'class': this.className = val.replace(/^edu\\.xtec\\.jclic\\.activities\\./, '@') break case 'inverse': this.invAss = Utils.getBoolean(val, false) break case 'autoJump': case 'forceOkToAdvance': case 'amongParagraphs': this[name] = Utils.getBoolean(val, false) break } }) // Read specific nodes $xml.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'settings': // Read more attributes Utils.attrForEach($node.get(0).attributes, (name, val) =&gt; { switch (name) { case 'infoUrl': case 'infoCmd': this[name] = val break case 'margin': case 'maxTime': case 'maxActions': this[name] = Number(val) break case 'report': this.includeInReports = Utils.getBoolean(val, false) break case 'countDownTime': case 'countDownActions': case 'reportActions': case 'useOrder': case 'dragCells': this[name] = Utils.getBoolean(val, false) break } }) // Read elements of _settings_ $node.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'skin': this.skinFileName = $node.attr('file') break case 'helpWindow': this.helpMsg = Utils.getXmlText(this) this.showSolution = Utils.getBoolean($node.attr('showSolution'), false) this.helpWindow = this.helpMsg !== null || this.showSolution break case 'container': // Read settings related to the 'container' // (the main panel containing the activity and other elements) this.bgColor = Utils.checkColor($node.attr('bgColor'), Utils.settings.BoxBase.BACK_COLOR) $node.children().each((_n, child) =&gt; { const $child = $(child) switch (child.nodeName) { case 'image': this.bgImageFile = $child.attr('name') this.tiledBgImg = Utils.getBoolean($child.attr('tiled'), false) break case 'counters': this.bTimeCounter = Utils.getBoolean($child.attr('time'), true) this.bActionsCounter = Utils.getBoolean($child.attr('actions'), true) this.bScoreCounter = Utils.getBoolean($child.attr('score'), true) break case 'gradient': this.bgGradient = new AWT.Gradient().setProperties($child) break } }) break case 'window': // Read settings related to the 'window' // (the panel where the activity deploys its content) this.activityBgColor = Utils.checkColor($node.attr('bgColor'), K.DEFAULT_BG_COLOR) this.transparentBg = Utils.getBoolean($node.attr('transparent'), false) this.border = Utils.getBoolean($node.attr('border'), false) $node.children().each((_n, child) =&gt; { const $child = $(child) switch (child.nodeName) { case 'gradient': this.activityBgGradient = new AWT.Gradient().setProperties($child) break case 'position': this.absolutePosition = new AWT.Point().setProperties($child) this.absolutePositioned = true break case 'size': this.windowSize = new AWT.Dimension().setProperties($child) break } }) break case 'eventSounds': // eventSounds is already created in constructor, // just read properties this.eventSounds.setProperties($node) break } }) break case 'messages': $node.children('cell').each((_n, child) =&gt; { const m = this.readMessage($(child)) // Possible message types are: `initial`, `final`, `previous`, `finalError` this.messages[m.type] = m }) break case 'automation': // Read the automation settings ('Arith' or other automation engines) this.acp = AutoContentProvider.getProvider($node, this.project) break // Settings specific to panel-type activities (puzzles, associations...) case 'cells': // Read the [ActiveBagContent](ActiveBagContent.html) objects const cellSet = new ActiveBagContent().setProperties($node, this.project.mediaBag) // Valid ids: // - Panel activities: 'primary', 'secondary', solvedPrimary' // - Textpanel activities: 'acrossClues', 'downClues', 'answers' this.abc[cellSet.id] = cellSet break case 'scramble': // Read the 'scramble' mode this.shuffles = Number($node.attr('times')) this.scramble.primary = Utils.getBoolean($node.attr('primary')) this.scramble.secondary = Utils.getBoolean($node.attr('secondary')) break case 'layout': Utils.attrForEach($node.get(0).attributes, (name, value) =&gt; { switch (name) { case 'position': this.boxGridPos = value break case 'wildTransparent': case 'upperCase': case 'checkCase': this[name] = Utils.getBoolean(value) } }) break // Element specific to {@link Menu} activities: case 'menuElement': this.menuElements.push({ caption: $node.attr('caption') || '', icon: $node.attr('icon') || null, projectPath: $node.attr('path') || null, sequence: $node.attr('sequence') || null, description: $node.attr('description') || '' }) break // Element specific to {@link CrossWord} and // {@link WordSearch} activities: case 'textGrid': // Read the 'textGrid' element into a {@link TextGridContent} this.tgc = new TextGridContent().setProperties($node) break // Read the clues of {@link WordSearch} activities case 'clues': // Read the array of clues this.clues = [] this.clueItems = [] $node.children('clue').each((n, child) =&gt; { this.clueItems[n] = Number($(child).attr('id')) this.clues[n] = child.textContent }) break // Elements specific to text activities: case 'checkButton': this.checkButtonText = child.textContent || 'check' break case 'prevScreen': this.prevScreen = true this.prevScreenMaxTime = $node.attr('maxTime') || -1 $node.children().each((_n, child) =&gt; { switch (child.nodeName) { case 'style': this.prevScreenStyle = new BoxBase().setProperties($(child)) break case 'p': if (this.prevScreenText === null) this.prevScreenText = '' this.prevScreenText += `&lt;p&gt;${child.textContent}&lt;/p&gt;` break } }) break case 'evaluator': this.ev = Evaluator.getEvaluator($node) break case 'document': // Read main document of text activities this.document = new TextActivityDocument().setProperties($node, this.project.mediaBag) break } }) return this } /** * Read an activity message from an XML element * @param {external:jQuery} $xml - The XML element to be parsed * @returns {ActiveBoxContent} */ readMessage($xml) { const msg = new ActiveBoxContent().setProperties($xml, this.project.mediaBag) // // Allowed types are: `initial`, `final`, `previous`, `finalError` msg.type = $xml.attr('type') if (Utils.isNullOrUndef(msg.bb)) msg.bb = new BoxBase(null) return msg } /** * Initialises the {@link AutoContentProvider}, when defined. */ initAutoContentProvider() { if (this.acp !== null) this.acp.init() } /** * Preloads the media content of the activity. * @param {PlayStation} ps - The {@link PlayStation} used to realize the media objects. */ prepareMedia(ps) { this.eventSounds.realize(ps, this.project.mediaBag) $.each(this.messages, (_key, msg) =&gt; { if (msg !== null) msg.prepareMedia(ps) }) $.each(this.abc, (_key, abc) =&gt; { if (abc !== null) abc.prepareMedia(ps) }) return true } /** * Whether the activity allows the user to request the solution. * @returns {boolean} */ helpSolutionAllowed() { return false } /** * Whether the activity allows the user to request help. * @returns {boolean} */ helpWindowAllowed() { return this.helpWindow &amp;&amp; (this.helpSolutionAllowed() &amp;&amp; this.showSolution || this.helpMsg !== null) } /** * Retrieves the minimum number of actions needed to solve this activity. * @returns {number} */ getMinNumActions() { return 0 } /** * When this method returns `true`, the automatic jump to the next activity must be paused at * this activity. * @returns {boolean} */ mustPauseSequence() { return this.getMinNumActions() !== 0 } /** * Whether or not the activity can be reset * @returns {boolean} */ canReinit() { return true } /** * Whether or not the activity has additional information to be shown. * @returns {boolean} */ hasInfo() { return this.infoUrl !== null &amp;&amp; this.infoUrl.length &gt; 0 || this.infoCmd !== null &amp;&amp; this.infoCmd.length &gt; 0 } /** * Whether or not the activity uses random to scramble internal components * @returns {boolean} */ hasRandom() { return false } /** * When `true`, the activity must always be scrambled * @returns {boolean} */ shuffleAlways() { return false } /** * When `true`, the activity makes use of the keyboard * @returns {boolean} */ needsKeyboard() { return false } /** * Called when the activity must be disposed */ end() { this.eventSounds.close() this.clear() } /** * Called when the activity must reset its internal components */ clear() { } /** * * Getter method for `windowSize` * @returns {AWT.Dimension} */ getWindowSize() { return new AWT.Dimension(this.windowSize) } /** * Setter method for `windowSize` * @param {AWT.Dimension} windowSize */ setWindowSize(windowSize) { this.windowSize = new AWT.Dimension(windowSize) } /** * Builds the {@link Activity.Panel} object. * Subclasses must update the `Panel` member of its prototypes to produce specific panels. * @param {PlayStation} ps - The {@link PlayStation} used to build media objects. * @returns {ActivityPanel} */ getActivityPanel(ps) { return new this.constructor.Panel(this, ps) } } /** * Classes derived from `Activity` should register themselves by adding a field to * `Activity.CLASSES` using its name as identifier and the class constructor as a value. * @example &lt;caption&gt;To be included at the end of MyActivity class: * &lt;/caption&gt;Activity.CLASSES['custom@myActivity'] = MyActivity * @type {object} */ Activity.CLASSES = { '@panels.Menu': Activity } Object.assign(Activity.prototype, { /** * The {@link JClicProject} to which this activity belongs * @name Activity#project * @type {JClicProject} */ project: null, /** * The Activity name * @name Activity#name * @type {string} */ name: K.DEFAULT_NAME, /** * The class name of this Activity * @name Activity#className * @type {string} */ className: null, /** * Code used in reports to filter queries. Default is `null`. * @name Activity#code * @type {string} */ code: null, /** * Type of activity, used in text activities to distinguish between different variants of the * same activity. Possible values are: `orderWords`, `orderParagraphs`, `identifyWords` and * `identifyChars`. * @name Activity#type * @type {string} */ type: null, /** * A short description of the activity * @name Activity#description * @type {string} */ description: null, /** * The space between the activity components measured in pixels. * @name Activity#margin * @type {number} */ margin: K.DEFAULT_MARGIN, /** * The background color of the activity panel * @name Activity#bgColor * @type {string} */ bgColor: K.DEFAULT_BG_COLOR, /** * When set, gradient used to draw the activity window background * @name Activity#bgGradient * @type {AWT.Gradient} */ bgGradient: null, /** * Whether the bgImage (if any) has to be tiled across the panel background * @name Activity#tiledBgImg * @type {boolean} */ tiledBgImg: false, /** * Filename of the image used as a panel background. * @name Activity#bgImageFile * @type {string} */ bgImageFile: null, /** * Whether to draw a border around the activity panel * @name Activity#border * @type {boolean} */ border: true, /** * Whether to place the activity panel at the point specified by `absolutePosition` or leave * it centered on the main player's window. * @name Activity#absolutePositioned * @type {boolean} */ absolutePositioned: false, /** * The position of the activity panel on the player. * @name Activity#absolutePosition * @type {AWT.Point} */ absolutePosition: null, /** * Whether to generate usage reports * @name Activity#includeInReports * @type {boolean} */ includeInReports: true, /** * Whether to send action events to the {@link Reporter} * @name Activity#reportActions * @type {boolean} */ reportActions: false, /** * Whether to allow help about the activity or not. * @name Activity#helpWindow * @type {boolean} */ helpWindow: false, /** * Whether to show the solution on the help window. * @name Activity#showSolution * @type {boolean} */ showSolution: false, /** * Message to be shown in the help window when `showSolution` is `false`. * @name Activity#helpMsg * @type {string} */ helpMsg: '', /** * Specific set of {@link EventSounds} used in the activity. The default is `null`, meaning * to use the default event sounds. * @name Activity#eventSounds * @type {EventSounds} */ eventSounds: null, /** * Wheter the activity must be solved in a specific order or not. * @name Activity#useOrder * @type {boolean} */ useOrder: false, /** * Wheter the cells of the activity will be dragged across the screen. * When `false`, a line will be painted to link elements. * @name Activity#dragCells * @type {boolean} */ dragCells: false, /** * File name of the Skin used by the activity. The default value is `null`, meaning that the * activity will use the skin specified for the project. * @name Activity#skinFileName * @type {string} */ skinFileName: null, /** * Maximum amount of time (seconds) to solve the activity. The default value is 0, meaning * unlimited time. * @name Activity#maxTime * @type {number}*/ maxTime: 0, /** * Whether the time counter should display a countdown when `maxTime &gt; 0` * @name Activity#countDownTime * @type {boolean} */ countDownTime: false, /** * Maximum number of actions allowed to solve the activity. The default value is 0, meaning * unlimited actions. * @name Activity#maxActions * @type {number}*/ maxActions: 0, /** * Whether the actions counter should display a countdown when `maxActions &gt; 0` * @name Activity#countDownActions * @type {boolean} */ countDownActions: false, /** * URL to be launched when the user clicks on the 'info' button. Default is `null`. * @name Activity#infoUrl * @type {string} */ infoUrl: null, /** * System command to be launched when the user clicks on the 'info' button. Default is `null`. * Important: this parameter is currently not being used * @name Activity#infoCmd * @type {string} */ infoCmd: null, /** * The content of the initial, final, previous and error messages shown by the activity. * @name Activity#messages * @type {ActiveBoxContent[]} */ messages: null, /** * Preferred dimension of the activity window * @name Activity#windowSize * @type {AWT.Dimension} */ windowSize: new AWT.Dimension(K.DEFAULT_WIDTH, K.DEFAULT_HEIGHT), /** * Whether the activity window has transparent background. * @name Activity#transparentBg * @type {boolean} */ transparentBg: false, /** * The background color of the activity * @name Activity#activityBgColor * @type {string} */ activityBgColor: K.DEFAULT_BG_COLOR, /** * Gradient used to draw backgrounds inside the activity. * @name Activity#activityBgGradient * @type {AWT.Gradient} */ activityBgGradient: null, /** * Whether to display or not the 'time' counter * @name Activity#bTimeCounter * @type {boolean} */ bTimeCounter: true, /** * Whether to display or not the 'score' counter * @name Activity#bScoreCounter * @type {boolean} */ bScoreCounter: true, /** * Whether to display or not the 'actions' counter * @name Activity#bActionsCounter * @type {boolean} */ bActionsCounter: true, /** * Special object used to generate random content at the start of the activity * @name Activity#acp * @type {AutoContentProvider} */ acp: null, // // Fields used only in certain activity types // ------------------------------------------ // /** * Array of bags with the description of the content to be displayed on panels and cells. * @name Activity#abc * @type {ActiveBagContent[]} */ abc: null, /** * Content of the grid of letters used in crosswords and scrambled letters * @name Activity#tgc * @type {TextGridContent} */ tgc: null, /** * The main document used in text activities * @name Activity#document * @type {TextActivityDocument} */ document: null, /** * Relative position of the text grid (uses the same position codes as box grids) * @name Activity#boxGridPos * @type {string} */ boxGridPos: 'AB', /** * Number of times to shuffle the cells at the beginning of the activity * @name Activity#shuffles * @type {number} */ shuffles: K.DEFAULT_SHUFFLES, /** * @typedef Activity~scrambleType * @type {object} * @property {boolean} primary * @property {boolean} secondary */ /** * Object that indicates if box grids A and B must be scrambled. * @name Activity#scramble * @type {Activity~scrambleType} */ scramble: { primary: true, secondary: true }, /** * Flag to indicate &quot;inverse resolution&quot; in complex associations * @name Activity#invAss * @type {boolean} */ invAss: false, /** * Array of menu elements, used in activities of type {@link Menu} * @name Activity#menuElements * @type {array} */ menuElements: null, }) /** * This object is responsible for rendering the contents of the activity on the screen and * managing user's interaction. * Each type of Activity must implement its own `ActivityPanel`. * In JClic, {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/Activity.Panel.html Activity.Panel} * extends {@link http://docs.oracle.com/javase/7/docs/api/javax/swing/JPanel.html javax.swing.JPanel}. * In this implementation, the JPanel will be replaced by an HTML `div` tag. * @class * @extends AWT.Container */ class ActivityPanel extends AWT.Container { /** * ActivityPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html PlayStation} * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { // ActivityPanel extends AWT.Container super() this.act = act this.ps = ps this.minimumSize = new AWT.Dimension(100, 100) this.preferredSize = new AWT.Dimension(500, 400) if ($div) this.$div = $div else this.$div = $('&lt;div/&gt;', { class: 'JClicActivity', 'aria-label': ps.getMsg('Activity panel') }) this.accessibleCanvas = Utils.settings.CANVAS_HITREGIONS this.act.initAutoContentProvider() } /** * Sets the size and position of this activity panel * @param {AWT.Rectangle} rect */ setBounds(rect) { this.pos.x = rect.pos.x this.pos.y = rect.pos.y this.dim.width = rect.dim.width this.dim.height = rect.dim.height this.invalidate(rect) this.$div.css({ position: 'relative', left: rect.pos.x, top: rect.pos.y, width: rect.dim.width, height: rect.dim.height }) } /** * Prepares the visual components of the activity */ buildVisualComponents() { this.playing = false this.skin = null if (this.act.skinFileName &amp;&amp; this.act.skinFileName.length &gt; 0 &amp;&amp; this.act.skinFileName !== this.act.project.settings.skinFileName) this.skin = this.act.project.mediaBag.getSkinElement(this.act.skinFileName, this.ps) this.bgImage = null if (this.act.bgImageFile &amp;&amp; this.act.bgImageFile.length &gt; 0) { const mbe = this.act.project.mediaBag.getElement(this.act.bgImageFile, true) if (mbe) this.bgImage = mbe.data } this.backgroundColor = this.act.activityBgColor if (this.act.transparentBg) this.backgroundTransparent = true // TODO: fix bevel-border type if (this.act.border) this.border = true const cssAct = { display: 'block', 'background-color': this.backgroundTransparent ? 'transparent' : this.backgroundColor } // Border shadow style Material Design, inspired in [http://codepen.io/Stenvh/pen/EaeWqW] if (this.border) { cssAct['box-shadow'] = '0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)' cssAct['border-radius'] = '2px' cssAct['color'] = '#272727' } if (this.act.activityBgGradient) cssAct['background-image'] = this.act.activityBgGradient.getCss() this.$div.css(cssAct) } /** * Activities should implement this method to update the graphic content of its panel. The method * will be called from {@link AWT.Container#update} when needed. * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { // To be overridden by subclasses. Here does nothing. return super.updateContent(dirtyRegion) } /** * Plays the specified event sound * @param {string} event - The type of event to be performed */ playEvent(event) { this.act.eventSounds.play(event) } /** * Basic initialization procedure, common to all activities. */ initActivity() { if (this.playing) { this.playing = false this.ps.reportEndActivity(this.act, this.solved) } this.solved = false this.ps.reportNewActivity(this.act, 0) this.attachEvents() this.enableCounters() } /** * Called when the activity starts playing */ startActivity() { this.playing = true } /** * Called by {@link JClicPlayer} when this activity panel is fully visible, just after the * initialization process. */ activityReady() { // To be overrided by subclasses } /** * Displays help about the activity */ showHelp() { // To be overrided by subclasses } /** * Sets the real dimension of this ActivityPanel. * @param {AWT.Dimension} maxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(maxSize) { return new AWT.Dimension( Math.min(maxSize.width, this.act.windowSize.width), Math.min(maxSize.height, this.act.windowSize.height)) } /** * Attaches the events specified in the `events` member to the `$div` member */ attachEvents() { this.events.forEach(ev =&gt; this.attachEvent(this.$div, ev)) // Prepare handler to check if we are in a touch device if (!K.TOUCH_DEVICE &amp;&amp; $.inArray(TOUCH_TEST_EVENT, this.events) === -1) this.attachEvent(this.$div, TOUCH_TEST_EVENT) } /** * Attaches a single event to the specified object * @param {external:jQuery} $obj - The object to which the event will be attached * @param {string} evt - The event name */ attachEvent($obj, evt) { $obj.on(evt, this, event =&gt; { if (event.type === TOUCH_TEST_EVENT) { if (!K.TOUCH_DEVICE) K.TOUCH_DEVICE = true if ($.inArray(TOUCH_TEST_EVENT, this.events) === -1) { // Disconnect handler $obj.off(TOUCH_TEST_EVENT) return } } return event.data.processEvent.call(event.data, event) }) } /** * Main handler used to process mouse, touch, keyboard and edit events. * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(_event) { return false } /** * Fits the panel within the `proposed` rectangle. The panel can occupy more space, but always * not surpassing the `bounds` rectangle. * @param {AWT.Rectangle} proposed - The proposed rectangle * @param {AWT.Rectangle} bounds - The maximum allowed bounds */ fitTo(proposed, bounds) { const origin = new AWT.Point() if (this.act.absolutePositioned &amp;&amp; this.act.absolutePosition !== null) { origin.x = Math.max(0, this.act.absolutePosition.x + proposed.pos.x) origin.y = Math.max(0, this.act.absolutePosition.y + proposed.pos.y) proposed.dim.width -= this.act.absolutePosition.x proposed.dim.height -= this.act.absolutePosition.y } const d = this.setDimension(new AWT.Dimension( Math.max(2 * this.act.margin + Utils.settings.MINIMUM_WIDTH, proposed.dim.width), Math.max(2 * this.act.margin + Utils.settings.MINIMUM_HEIGHT, proposed.dim.height))) if (!this.act.absolutePositioned) { origin.moveTo( Math.max(0, proposed.pos.x + (proposed.dim.width - d.width) / 2), Math.max(0, proposed.pos.y + (proposed.dim.height - d.height) / 2)) } if (origin.x + d.width &gt; bounds.dim.width) origin.x = Math.max(0, bounds.dim.width - d.width) if (origin.y + d.height &gt; bounds.dim.height) origin.y = Math.max(0, bounds.dim.height - d.height) this.setBounds(new AWT.Rectangle(origin.x, origin.y, d.width, d.height)) // Build accessible components at the end of current tree window.setTimeout(() =&gt; this.buildAccessibleComponents(), 0) } /** * * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. */ buildAccessibleComponents() { // Clear existing elements if (this.accessibleCanvas &amp;&amp; this.$canvas &amp;&amp; this.$canvas.children().length &gt; 0) { this.$canvas.get(-1).getContext('2d').clearHitRegions() this.$canvas.empty() } // Create accessible elements in subclasses } /** * Forces the ending of the activity. */ forceFinishActivity() { // to be overrided by subclasses } /** * Ordinary ending of the activity, usually called form `processEvent` * @param {boolean} result - `true` if the activity was successfully completed, `false` otherwise */ finishActivity(result) { this.playing = false this.solved = result if (this.bc !== null) this.bc.end() if (result) { this.setAndPlayMsg('final', 'finishedOk') } else { this.setAndPlayMsg('finalError', 'finishedError') } this.ps.activityFinished(this.solved) this.ps.reportEndActivity(this.act, this.solved) } /** * Sets the message to be displayed in the skin message box and optionally plays a sound event. * @param {string} msgCode - Type of message (initial, final, finalError...) * @param {string=} eventSoundsCode - Optional name of the event sound to be played. */ setAndPlayMsg(msgCode, eventSoundsCode) { const msg = this.act.messages[msgCode] || null this.ps.setMsg(msg) if (msg === null || msg.mediaContent === null) this.playEvent(eventSoundsCode) } /** * Ends the activity */ end() { this.forceFinishActivity() if (this.playing) { if (this.bc !== null) this.bc.end() this.ps.reportEndActivity(this.act, this.solved) this.playing = false this.solved = false } this.clear() } /** * Miscellaneous cleaning operations */ clear() { // to be overridden by subclasses } /** * Enables or disables the three counters (time, score and actions) * @param {boolean} eTime - Whether to enable or disable the time counter * @param {boolean} eScore - Whether to enable or disable the score counter * @param {boolean} eActions - Whether to enable or disable the actions counter */ enableCounters(eTime, eScore, eActions) { if (typeof eTime === 'undefined') eTime = this.act.bTimeCounter if (typeof eScore === 'undefined') eScore = this.act.bScoreCounter if (typeof eActions === 'undefined') eActions = this.act.bActionsCounter this.ps.setCounterEnabled('time', eTime) if (this.act.countDownTime) this.ps.setCountDown('time', this.act.maxTime) this.ps.setCounterEnabled('score', eScore) this.ps.setCounterEnabled('actions', eActions) if (this.act.countDownActions) this.ps.setCountDown('actions', this.act.maxActions) } /** * Shuffles the contents of the activity * @param {ActiveBoxBag[]} bg - The sets of boxes to be shuffled * @param {boolean} visible - The shuffle process must be animated on the screen (not yet implemented!) * @param {boolean} fitInArea - Shuffled pieces cannot go out of the current area */ shuffle(bg, visible, fitInArea) { const steps = this.act.shuffles let i = steps while (i &gt; 0) { const k = i &gt; steps ? steps : i bg.forEach(abb =&gt; { if (abb) abb.scrambleCells(k, fitInArea) }) i -= steps } } } Object.assign(ActivityPanel.prototype, { /** * The Activity this panel is related to * @name ActivityPanel#act * @type {Activity} */ act: null, /** * The jQuery div element used by this panel * @name ActivityPanel#$div * @type {external:jQuery} */ $div: null, /** * The jQuery main canvas element used by this panel * @name ActivityPanel#$canvas * @type {external:jQuery} */ $canvas: null, /** * True when the navigator implements canvas hit regions * See: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility * @name ActivityPanel#accessibleCanvas * @type {boolean} */ accessibleCanvas: false, /** * The realized current {@link Skin} * @name ActivityPanel#skin * @type {Skin} */ skin: null, /** * Background element (currently a `span`) used to place animated GIFs when needed * @name ActivityPanel#$animatedBg * @type {external:jQuery} */ $animatedBg: null, /** * Additional background element for animated GIFs, used in associations * @name ActivityPanel#$animatedBgB * @type {external:jQuery} */ $animatedBgB: null, /** * `true` when the activity is solved, `false` otherwise * @name ActivityPanel#solved * @type {boolean} */ solved: false, /** * The realized image used as a background * @name ActivityPanel#bgImage * @type {external:HTMLImageElement} */ bgImage: null, /** * `true` while the activity is playing * @name ActivityPanel#playing * @type {boolean} */ playing: false, /** * `true` if the activity is running for first time (not due to a click on the `replay` button) * @name ActivityPanel#firstRun * @type {boolean} */ firstRun: true, /** * Currently selected item. Used in some types of activities. * @name ActivityPanel#currentItem * @type {number} */ currentItem: 0, /** * The object used to connect cells and other elements in some types of activity * @name ActivityPanel#bc * @type {BoxConnector} */ bc: null, /** * The PlayStation used to realize media objects and communicate with the player services * (usually a {@link JClicPlayer} * @name ActivityPanel#ps * @type {PlayStation} */ ps: null, /** * The minimum size of this kind of ActivityPanel * @name ActivityPanel#minimumSize * @type {AWT.Dimension} */ minimumSize: null, /** * The preferred size of this kind of ActivityPanel * @name ActivityPanel#preferredSize * @type {AWT.Dimension} */ preferredSize: null, /** * List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup', * 'keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter', * 'mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. * @name ActivityPanel#events * @type {string[]} */ events: ['click'], backgroundColor: null, backgroundTransparent: false, border: null, }) /** * The panel class associated to each type of activity * @type {ActivityPanel} */ Activity.Panel = ActivityPanel return Activity }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_ActivityReg.js.html":{"id":"report_ActivityReg.js.html","title":"Source: report/ActivityReg.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/ActivityReg.js /** * File : report/ActivityReg.js * Created : 17/05/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot;, &quot;./ActionReg&quot; ], function ($, Utils, ActionReg) { /** * This class stores miscellaneous data obtained by the current user playing an {@link Activity}. * @exports ActivityReg * @class */ class ActivityReg { /** * ActivityReg constructor * @param {Activity} act - The {@link Activity} referenced by this object. */ constructor(act) { this.name = act.name this.code = act.code this.actions = [] this.startTime = (new Date()).valueOf() this.minActions = act.getMinNumActions() this.reportActions = act.reportActions } /** * Provides the data associated with the current activity in an XML format suitable for a * {@link http://clic.xtec.cat/en/jclic/reports/|JClic Reports Server}. * @returns {external:jQuery} */ $getXML() { const attr = { start: this.startTime, time: this.totalTime, solved: this.solved, score: this.score, minActions: this.minActions, actions: this.numActions } if (this.name) attr.name = this.name if (this.code) attr.code = this.code if (!this.closed) attr.closed = false if (this.reportActions) attr.reportActions = true const $result = $('&lt;activity/&gt;', attr) this.actions.forEach(ac =&gt; { $result.append(ac.$getXML()) }) return $result } /** * Builds an object with relevant data about the results obtained by the current student in this activity * @returns {Object} - The results of this activity */ getData() { const result = { name: this.name, time: Math.round(this.totalTime / 10) / 100, solved: this.solved, score: this.score, minActions: this.minActions, actions: this.numActions, precision: this.getPrecision(), closed: this.closed } if (this.code) result.code = this.code return result } /** * Fills this ActivityReg with data provided in XML format * @param {external:jQuery} $xml -The XML element to be processed, already wrapped as jQuery object */ setProperties($xml) { Utils.attrForEach($xml.get(0).attributes, (name, value) =&gt; { switch (name) { case 'name': case 'code': this[name] = value break case 'start': case 'time': case 'score': case 'minActions': case 'actions': this[name] = Number(value) break case 'solved': case 'closed': case 'reportActions': this[name] = Utils.getBoolean(value, false) break } }) $xml.children('action').each((_n, child) =&gt; { const action = new ActionReg() action.setProperties($(child)) this.actions.push(action) }) } /** * Reports a new action done by the user while playing the current activity * @param {string} type - Type of action (`click`, `write`, `move`, `select`...) * @param {string}+ source - Description of the object on which the action is done. * @param {string}+ dest - Description of the object that acts as a target of the action (used in pairings) * @param {boolean} ok - `true` if the action was OK, `false`, `null` or `undefined` otherwise */ newAction(type, source, dest, ok) { if (!this.closed) { this.lastAction = new ActionReg(type, source, dest, ok) this.actions.push(this.lastAction) } } /** * Retrieves a specific {@link ActionReg} element from `actions` * @param {number} index - The nth action to be retrieved * @returns {ActionReg} */ getActionReg(index) { return index &gt;= this.actions.length ? null : this.actions[index] } /** * Closes the current activity, adjusting total time if needed */ closeActivity() { if (!this.closed) { if (this.lastAction) this.totalTime = this.lastAction.time - this.startTime else this.totalTime = (new Date()).valueOf() - this.startTime this.closed = true } } /** * calculates the final score obtained by the user in this activity. * The algorithm used takes in account the minimal number of actions needed, the actions * really done by the user, and if the activity was finally solved or not. * @returns {number} */ getPrecision() { let result = 0 if (this.closed &amp;&amp; this.minActions &gt; 0 &amp;&amp; this.numActions &gt; 0) { if (this.solved) { if (this.numActions &lt; this.minActions) result = 100 else result = Math.round(this.minActions * 100 / this.numActions) } else result = Math.round(100 * (this.score * this.score) / (this.minActions * this.numActions)) } return result } /** * This method should be called when the current activity finishes. Data about user's final results * on the activity will then be saved. * @param {number} score - The final score, usually in a 0-100 scale. * @param {number} numActions - The total number of actions done by the user to solve the activity * @param {boolean} solved - `true` if the activity was finally solved, `false` otherwise. */ endActivity(score, numActions, solved) { if (!this.closed) { this.solved = solved this.numActions = numActions this.score = score this.closeActivity() } } } Object.assign(ActivityReg.prototype, { /** * Name of the associated activity * @name ActivityReg#name * @type {string} */ name: '', /** * Optional code assigned to this activity, used for later filtering * @name ActivityReg#code * @type {string} */ code: '', /** * Timestamp when the user starts playing the activity * @name ActivityReg#startTime * @type {number} */ startTime: 0, /** * Total time spent by the user in the activity, measured in milliseconds * @name ActivityReg#totalTime * @type {number} */ totalTime: 0, /** * Collection of actions done by the user while playing the activity * @name ActivityReg#actions * @type {ActionReg[]} */ actions: [], /** * `true` only when the user has finished and solved the activity * @name ActivityReg#solved * @type {boolean} */ solved: false, /** * Last {@link ActionReg} performed by the user in this activity * @name ActivityReg#lastAction * @type {ActionReg} */ lastAction: null, /** * Final score obtained by the current user in this activity * @name ActivityReg#score * @type {number} */ score: 0, /** * Minimum number of actions needed to solve the activity * @name ActivityReg#minActions * @type {number} */ minActions: 0, /** * `true` when the activity has finished, `false` for the activity that is currently playing * @name ActivityReg#closed * @type {boolean} */ closed: false, /** * `true` when this type of activity should record specific actions done by the users * @name ActivityReg#reportActions * @type {boolean} */ reportActions: false, /** * Number of actions done by the user playing this activity * @name ActivityReg#numActions * @type {number} */ numActions: 0, }) return ActivityReg }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_ActivitySequence.js.html":{"id":"bags_ActivitySequence.js.html","title":"Source: bags/ActivitySequence.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/ActivitySequence.js /** * File : bags/ActivitySequence.js * Created : 05/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./JumpInfo&quot;, &quot;./ActivitySequenceElement&quot;, &quot;./ActivitySequenceJump&quot;, &quot;../Utils&quot; ], function ($, JumpInfo, ActivitySequenceElement, ActivitySequenceJump, Utils) { /** * This class stores the definition of the sequence to follow to show the activities of a * {@link JClicProject}. The sequence are formed by an ordered list of objects of type * {@link ActivitySequenceElement}. * It stores also a transient pointer to the current sequence element. * @exports ActivitySequence * @class */ class ActivitySequence { /** * ActivitySequence constructor * @param {JClicProject} project - The JClic project to which this ActivitySequence belongs */ constructor(project) { this.project = project; this.elements = []; } /** * Loads the object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { $xml.children('item').each((_i, data) =&gt; this.elements.push(new ActivitySequenceElement().setProperties($(data)))) return this } /** * Returns the index of the specified element in the sequence. * @param {ActivitySequenceElement} ase - The element to search. * @returns {number} - The requested index, or `null` if not found. */ getElementIndex(ase) { return ase === null ? -1 : this.elements.indexOf(ase) } /** * Returns the nth element of the sequence. * @param {number} n - Index of the requested element * @param {boolean} updateCurrentAct - when `true`, the `currentAct` index will be updated. * @returns {ActivitySequenceElement} - The requested element, or `null` if out of range. */ getElement(n, updateCurrentAct) { let result = null if (n &gt;= 0 &amp;&amp; n &lt; this.elements.length) { result = this.elements[n] if (updateCurrentAct) this.currentAct = n } return result } /** * Search into the sequence for a element with the provided tag * @param {string} tag - The tag to search * @param {boolean} updateCurrentAct - when `true`, the `currentAct` index will be updated. * @returns {ActivitySequenceElement} - The requested element, or `null` if not found. */ getElementByTag(tag, updateCurrentAct) { let result = null, resultIndex = -1 if (tag) { tag = Utils.nSlash(tag) this.elements.some((el, index) =&gt; { if (el.tag === tag) { result = el resultIndex = index } return resultIndex !== -1 }) if (resultIndex !== -1 &amp;&amp; updateCurrentAct) this.currentAct = resultIndex } return result } /** * Gets the sequence element pointed by the `currentAct` member. * @returns {ActivitySequenceElement} - The current sequence element, or `null` if not set. */ getCurrentAct() { return this.getElement(this.currentAct, false) } /** * Checks if it's possible to go forward from the current position in the sequence. * @param {boolean} hasReturn - Indicates whether the history of jumps done since the beginning * of the JClic session is empty or not. When not empty, a `RETURN` action is still possible. * @returns {boolean} - `true` when the user is allowed to go ahead to a next activity, * `false` otherwise. */ hasNextAct(hasReturn) { let result = false const ase = this.getCurrentAct() if (ase) { if (ase.fwdJump === null) result = true else switch (ase.fwdJump.action) { case 'STOP': break case 'RETURN': result = hasReturn break default: result = true } } return result } /** * Checks if it's possible to go back from the current position in the sequence. * @param {boolean} hasReturn - Indicates whether the history of jumps done since the beginning * of the JClic session is empty or not. When not empty, a `RETURN` action is still possible. * @returns {boolean} - `true` when the user is allowed to go back to a previous activity, * `false` otherwise. */ hasPrevAct(hasReturn) { let result = false const ase = this.getCurrentAct() if (ase) { if (ase.backJump === null) result = true else switch (ase.backJump.action) { case 'STOP': break case 'RETURN': result = hasReturn break default: result = true } } return result } /** * Gets the current state for the 'next' and 'prev' buttons. * @returns {string} - One of the possible values of {@link ActivitySequenceElement#navButtons}, * thus: `none`, `fwd`, `back` or `both` */ getNavButtonsFlag() { let flag = 'none' const ase = this.getCurrentAct() if (ase) flag = ase.navButtons return flag } /** * Computes the jump to perform from the current position on the sequence * @param {boolean} back - When `true`, the request is for the 'go back' button. Otherwise, is * for the 'next' one. * @param {Reporter} reporter - The reporting engine that will provide values about score average * and time spend on the activities, used only to compute conditional jumps. * @returns {JumpInfo} - The jump info if a valid jump is possible, `null` otherwise. */ getJump(back, reporter) { const ase = this.getCurrentAct() let result = null if (ase) { const asj = back ? ase.backJump : ase.fwdJump if (asj === null) { let i = this.currentAct + (back ? -1 : 1) if (i &gt;= this.elements.length || i &lt; 0) i = 0 result = new JumpInfo('JUMP', i) } else { let rating = -1, time = -1 if (reporter !== null) { const seqRegInfo = reporter.getCurrentSequenceInfo() if (seqRegInfo !== null) { rating = Math.round(seqRegInfo.tScore) time = Math.round(seqRegInfo.tTime / 1000) } } result = asj.resolveJump(rating, time) } } return result } /** * Finds the nearest sequence element with a valid 'tag', looking back in the `elements` list. * @param {number} num - The point of the sequence from which to start looking back. * @returns {string} - The nearest 'tag', or `null` if not found. */ getSequenceForElement(num) { let tag = null if (num &gt;= 0 &amp;&amp; num &lt; this.elements.length) for (let i = num; tag === null &amp;&amp; i &gt;= 0; i--) { tag = this.getElement(i, false).tag } return tag } /** * Gets the first {@link ActivitySequenceElement} in the `elements` list pointing to the * specified activity name. * The search is always case-insensitive. * @param {string} activityName - The activity to search. * @returns {ActivitySequenceElement} The requested element or `null` if not found. */ getElementByActivityName(activityName) { let result = null if (activityName !== null) { for (let i = 0; result === null &amp;&amp; i &lt; this.elements.length; i++) { const ase = this.getElement(i, false) if (ase.activityName.toLowerCase() === activityName.toLowerCase()) result = ase } } return result } /** * Utility function to check if the current sequence element corresponds to the specified * activity. If negative, the `currentAct` will be accordingly set. * @param {string} activityName - The activity to check */ checkCurrentActivity(activityName) { let ase = this.getCurrentAct() if (ase === null || ase.activityName.toUpperCase() !== activityName.toUpperCase()) { for (let i = 0; i &lt; this.elements.length; i++) { if (this.getElement(i, false).activityName.toUpperCase() === activityName.toUpperCase()) { this.currentAct = i return false } } ase = new ActivitySequenceElement() ase.activityName = activityName ase.fwdJump = new ActivitySequenceJump('STOP') ase.backJump = new ActivitySequenceJump('STOP') this.elements.push(ase) this.currentAct = this.elements.length - 1 return false } return true } } Object.assign(ActivitySequence.prototype, { /** * The ordered list of {@link ActivitySequenceElement} objects * @name ActivitySequence#elements * @type {ActivitySequenceElement[]} */ elements: null, /** * The JClic project to which this ActivitySequence belongs. * @name ActivitySequence#project * @type {JClicProject} */ project: null, /** * Pointer to the {@link ActivitySequenceElement} currently running (points inside * the `elements` array). * @name ActivitySequence#currentAct * @type {number} */ currentAct: -1, }) return ActivitySequence }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_ActivitySequenceElement.js.html":{"id":"bags_ActivitySequenceElement.js.html","title":"Source: bags/ActivitySequenceElement.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/ActivitySequenceElement.js /** * File : bags/ActivitySequenceElement.js * Created : 05/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./ActivitySequenceJump&quot;, &quot;../Utils&quot; ], function ($, ActivitySequenceJump, Utils) { /** * * This class is the basic component of {@link ActivitySequence} objects. It represents a specific * point in the project's sequence of JClic activities. * * For each point of the sequence, some options can be set: * - What activity must run at this point * - What to do or where to jump when the activity finishes * - The behavior of the &quot;next&quot; button * - The behavior of the &quot;prev&quot; button * * Sequence points can also have a &quot;tag&quot;, used to refer to them with a unique name. * @exports ActivitySequenceElement * @class */ class ActivitySequenceElement { constructor() { } /** * Loads the object settings from a specific JQuery XML element * @param {external:jQuery} $xml */ setProperties($xml) { // Iterate on all provided attributes Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'id': this['tag'] = Utils.nSlash(val) break case 'name': this['activityName'] = val break case 'description': // possible navButtons values are: `none`, `fwd`, `back` or `both` case 'navButtons': this[name] = val break case 'delay': this[name] = Number(val) break } }) // Iterate on 'jump' elements to load fwdJump and/or backJump $xml.children('jump').each((_n, data) =&gt; { const jmp = new ActivitySequenceJump().setProperties($(data)) if (jmp.id === 'forward') this.fwdJump = jmp else if (jmp.id === 'back') this.backJump = jmp }) return this } } Object.assign(ActivitySequenceElement.prototype, { /** * Optional unique identifier of this element in the {@link ActivitySequence}. * @name ActivitySequenceElement#tag * @type {string} */ tag: null, /** * Optional description of this sequence element. * @name ActivitySequenceElement#description * @type {string} */ description: null, /** * Name of the {@link Activity} pointed by this element. * @name ActivitySequenceElement#activityName * @type {string} */ activityName: '', /** * Jump to be processed by the 'next' button action * @name ActivitySequenceElement#fwdJump * @type {ActivitySequenceJump} */ fwdJump: null, /** * Jump to be processed by the 'prev' button action. * @name ActivitySequenceElement#backJump * @type {ActivitySequenceJump} */ backJump: null, /** * What buttons should be active at this point of the sequence. Valid values are: * - 'none' * - 'fwd' * - 'back' * - 'both' * @name ActivitySequenceElement#navButtons * @type {string} */ navButtons: 'both', /** * Time delay (in seconds) before passing to the next/prev activity * @name ActivitySequenceElement#delay * @type {number} */ delay: 0, }) return ActivitySequenceElement }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_ActivitySequenceJump.js.html":{"id":"bags_ActivitySequenceJump.js.html","title":"Source: bags/ActivitySequenceJump.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/ActivitySequenceJump.js /** * File : bags/ActivitySequenceJump.js * Created : 05/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./JumpInfo&quot;, &quot;./ConditionalJumpInfo&quot; ], function ($, JumpInfo, ConditionalJumpInfo) { /** * This is a special case of {@link JumpInfo}, used only in {@link ActivitySequenceElement} objects. * Sequence elements can contain up to two ActivitySequenceJump objects: one to be processed * when the user clicks on the &quot;next&quot; button (or when the activity finishes, if in automatic mode), * and the other used with the &quot;prev&quot; button. ActivitySequenceJump objects define a default jump * or action to be performed, but can also have up to two {@link ConditionalJumpInfo} objects. These * define alternative jumps that are performed only when score or time are below or over a specific * threshold. * @exports ActivitySequenceJump * @class * @extends JumpInfo */ class ActivitySequenceJump extends JumpInfo { /** * ActivitySequenceJump constructor * @param {string} action - Must be one of the described actions. * @param {(number|string)=} sq - Can be the tag of the sequence element to jump to, or its * cardinal number in the list. */ constructor(action, sq) { super(action, sq) } /** * Loads the object settings from a specific JQuery XML element. * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { super.setProperties($xml) // Read conditional jumps $xml.children('jump').each((_n, child) =&gt; { const condJmp = new ConditionalJumpInfo().setProperties($(child)) if (condJmp.id === 'upper') this.upperJump = condJmp else if (condJmp.id === 'lower') this.lowerJump = condJmp }) return this } /** * Resolves what {@link JumpInfo} must be taken, based on a done time and average rating obtained * in activities. * @param {number} rating - Average rating obtained by the user in the activities done during the * last sequence stretch. * @param {number} time - Total time spend doing the activities. * @returns {JumpInfo} */ resolveJump(rating, time) { let result = this if (rating &gt;= 0 &amp;&amp; time &gt;= 0) { if (this.upperJump !== null &amp;&amp; rating &gt; this.upperJump.threshold &amp;&amp; (this.upperJump.time &lt;= 0 || time &lt; this.upperJump.time)) { result = this.upperJump } else if (this.lowerJump !== null &amp;&amp; (rating &lt; this.lowerJump.threshold || this.lowerJump.time &gt; 0 &amp;&amp; time &gt; this.lowerJump.time)) { result = this.lowerJump } } return result } } Object.assign(ActivitySequenceJump.prototype, { /** * Optional jump to be performed when the results (score and time) are above a specific threshold. * @name ActivitySequenceJump#upperJump * @type {ConditionalJumpInfo} */ upperJump: null, /** * Optional jump to be performed when the results (score or time) are below a specific threshold. * @name ActivitySequenceJump#lowerJump * @type {ConditionalJumpInfo} */ lowerJump: null, }) return ActivitySequenceJump }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_JumpInfo.js.html":{"id":"bags_JumpInfo.js.html","title":"Source: bags/JumpInfo.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/JumpInfo.js /** * File : bags/JumpInfo.js * Created : 05/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([&quot;../Utils&quot;], function (Utils) { /** * This class contains information about what things JClic sequence manager has to do in certain * circumstances, such as: * - an activity finishes * - the user clicks on the &quot;next&quot; or &quot;prev&quot; buttons * - the user clicks or a cell with special &quot;active content&quot; * * Different kinds of actions are possible for each of these events: * - RETURN: to go back to a previous point in the sequence. * - EXIT: to exit the program (thus navigating to another URL) * - STOP: to do nothing. * - JUMP: to jump to a specific point in the sequence of activities, or to another JClic project. * @exports JumpInfo * @class * @see {@link ActivitySequenceJump} * @see {@link ConditionalJumpInfo} */ class JumpInfo { /** * JumpInfo constructor * @param {string} action - Must be one of the described actions. * @param {(number|string)=} sq - Can be the tag of the sequence element to jump to, or its * cardinal number in the list. */ constructor(action, sq) { this.action = action switch (typeof sq) { case 'string': this.sequence = sq break case 'number': this.actNum = sq break } } /** * Loads the object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { this.id = $xml.attr('id') this.action = $xml.attr('action') || 'JUMP' this.sequence = Utils.nSlash($xml.attr('tag')) this.projectPath = Utils.nSlash($xml.attr('project')) return this } } Object.assign(JumpInfo.prototype, { /** * The JumpInfo identifier * - For regular jumps: 'forward', 'back' * - For conditional jumps: 'upper', 'lower' * @name JumpInfo#id * @type {string} */ id: null, /** * The current action. * Possible values are: `JUMP`, `STOP`, `RETURN` and `EXIT`. * @name JumpInfo#action * @type {string} */ action: undefined, /** * Activity number in the sequence list * @name JumpInfo#actNum * @type {number} */ actNum: -1, /** * Current sequence tag * @name JumpInfo#sequence * @type {string} */ sequence: undefined, /** * Path of another JClic project to jump to * @name JumpInfo#projectPath * @type {string} */ projectPath: undefined, }) return JumpInfo }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"automation_arith_Arith.js.html":{"id":"automation_arith_Arith.js.html","title":"Source: automation/arith/Arith.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: automation/arith/Arith.js /** * File : automation/arith/Arith.js * Created : 28/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../AutoContentProvider&quot;, &quot;../../Utils&quot; ], function ($, AutoContentProvider, Utils) { // // Miscellaneous constants used by Arith: const NMAXLOOPS = 60, OPSTR = ['+', '-', String.fromCharCode(215), ':'], RES = -12345, // Special blank space S = String.fromCharCode(160) /** * Arith provides randomly generated mental arithmetics operations, ready to be used in JClic activities. * * The operations can be additions, subtractions, multiplications or divides. The unknown of these * operations can be the result of the operation (`A op B = ?`), any of the two operators * (`A op ? = C` or `? op B = C`) or also the operator itself (`A ? B = C`). * @exports Arith * @class * @extends AutoContentProvider */ class Arith extends AutoContentProvider { /** * Arith constructor * @param {JClicProject} project - The JClic project to which this provider is related */ constructor(project) { super(project) this.opA = new Arith.Operator() this.opB = new Arith.Operator() } /** * Formats the number with a fixed number of decimals, optionally filling the result with leading * zeroes to have a fixed number of digits. * @param {number} val - The value to format * @param {number} dec - Number of decimals * @param {number} pre - Minimal number of digits before dot. * @returns {String} */ static DecFormat(val, dec, pre) { let result = val.toFixed(dec) if (pre) { let n = result.indexOf('.') if (n &lt; 0) n = result.length for (; n &lt; pre; n++) result = `0${result}` } return result } /** * Loads the object settings from a specific JQuery XML element * @override * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { $xml.children().each((_n, child) =&gt; { const $node = $(child) let xNum = '' switch (child.nodeName) { case 'operand': switch ($node.attr('id')) { case 'A': this.opA.setProperties($node) break case 'B': this.opB.setProperties($node) break } break case 'operations': this.use_add = Utils.getBoolean($node.attr('plus')) this.use_subst = Utils.getBoolean($node.attr('minus')) this.use_mult = Utils.getBoolean($node.attr('multiply')) this.use_div = Utils.getBoolean($node.attr('divide')) break case 'unknown': this.exp_abx = Utils.getBoolean($node.attr('result')) this.exp_xbc = Utils.getBoolean($node.attr('first')) this.exp_axc = Utils.getBoolean($node.attr('last')) this.exp_axbc = Utils.getBoolean($node.attr('operand')) this.exp_caxb = Utils.getBoolean($node.attr('inverse')) break case 'result': xNum = $node.attr('from') this.resultLimInf = Utils.getNumber(xNum === 'x' ? 0 : xNum, this.resultLimInf) xNum = $node.attr('to') this.resultLimSup = Utils.getNumber(xNum === 'x' ? 0 : xNum, this.resultLimSup) this.resultCarry = Utils.getBoolean($node.attr('notCarry'), this.resultCarry) this.resultNoDup = !Utils.getBoolean($node.attr('duplicates'), !this.resultNoDup) let s = $node.attr('order') this.resultOrder = s === 'ascending' ? 'SORTASC' : s === 'descending' ? 'SORTDESC' : 'NOSORT' s = $node.attr('condition') this.opCond = s === 'firstBig' ? 'AGB' : s === 'lastBig' ? 'BGA' : 'INDIF' break } }) return this } /** * Fills the `n` parameter (an {@link Arith.Num}) with a value in accordance with the * specifications of `op` (an {@link Arith.Operand}), between two limits. * @param {Arith.Num} n - The number * @param {Arith.Operator} op - The operator * @param {number} limInf2 - Lower limit * @param {number} limSup2 - Upper limit * @returns {boolean} - `true` if all was OK */ genNum(n, op, limInf2, limSup2) { let solved = false n.c = op.numDec const exp = n.c === 0 ? 1 : n.c === 1 ? 10 : 100 let ls = op.limSup if (limSup2 !== RES &amp;&amp; limSup2 &lt; ls) ls = limSup2 let li = op.limInf if (limInf2 !== RES &amp;&amp; limInf2 &gt; li) li = limInf2 if (op.fromList &gt; 0) { n.vf = op.lst[Math.floor(Math.random() * op.fromList)] solved = true } if (!solved) { const r = Math.floor(Math.random() * 100) if (op.wZero &amp;&amp; r &lt;= 10) { n.vf = 0 solved = true } else if (op.wOne &amp;&amp; r &gt; 10 &amp;&amp; r &lt;= 20) { n.vf = 1 solved = true } else if (op.wMinusOne &amp;&amp; r &gt; 20 &amp;&amp; r &lt;= 30) { n.vf = -1 solved = true } } if (!solved) { if (li &gt; ls) { const k = li li = ls ls = k } let rang = Math.floor(ls - li + 1) if (rang &lt; 0) rang = 1 let v = (Math.floor(Math.random() * rang) + li) * exp if (exp &gt; 1) v += Math.floor(Math.random() * exp) n.vf = v / exp } return true } /** * Fills the provided {@link Arith.Operator} with real values * @param {Arith.Operator} o - The operator to use to generate the operation * @returns {boolean} - `true` if all was OK */ genOp(o) { let i, ri2, rs2, q, va, vb, bufa, bufb const ops = [], rlinf = this.resultLimInf, rlsup = this.resultLimSup let nops = 0 if (this.use_add) ops[nops++] = 'SUM' if (this.use_subst) ops[nops++] = 'REST' if (this.use_mult) ops[nops++] = 'MULT' if (this.use_div) ops[nops++] = 'DIV' const op = ops[Math.floor(Math.random() * nops)] switch (op) { case 'SUM': for (i = 0; i &lt; NMAXLOOPS; i++) { this.genNum(o.numA, this.opA, this.RES, rlsup) ri2 = o.numA.vf &lt; rlinf ? rlinf - Math.floor(o.numA.vf) : this.RES rs2 = rlsup - Math.floor(o.numA.vf) switch (this.opCond) { case 'AGB': if (rs2 === this.RES || rs2 &gt; o.numA.vf) rs2 = Math.floor(o.numA.vf) break case 'BGA': if (ri2 === this.RES || ri2 &lt; o.numA.vf) ri2 = Math.floor(o.numA.vf) break } this.genNum(o.numB, this.opB, ri2, rs2) o.numR.vf = o.numA.vf + o.numB.vf if (o.numR.vf &gt;= rlinf &amp;&amp; o.numR.vf &lt;= rlsup) break } o.numR.c = o.numA.c &gt; o.numB.c ? o.numA.c : o.numB.c o.op = 0 if (this.resultCarry &amp;&amp; o.numA.vf &gt; 0 &amp;&amp; o.numB.vf &gt; 0) { q = o.numR.c === 2 ? 100 : o.numR.c === 1 ? 10 : 1 bufa = Arith.DecFormat(Math.floor(o.numA.vf * q + 0.5), 0, 10).split('') bufb = Arith.DecFormat(Math.floor(o.numB.vf * q + 0.5), 0, 10).split('') for (i = 0; i &lt; 10; i++) if (bufa[i] !== '0' || bufb[i] !== '0') break for (; i &lt; 10; i++) { va = parseInt(bufa[i]) vb = parseInt(bufb[i]) if (va + vb &lt; 10) continue while (va + vb &gt; 9) { if (va &gt; vb) va = va &gt; 0 ? Math.floor(Math.random() * va) : 0 else vb = vb &gt; 0 ? Math.floor(Math.random() * vb) : 0 } bufa[i] = va.toFixed(0) bufb[i] = vb.toFixed(0) } o.numA.vf = parseInt(bufa.join('')) / q o.numB.vf = parseInt(bufb.join('')) / q o.numR.vf = Math.floor(o.numA.vf + o.numB.vf + 0.5) / q } break case 'REST': for (i = 0; i &lt; NMAXLOOPS; i++) { this.genNum(o.numA, this.opA, rlinf, this.RES) ri2 = o.numA.vf &gt; rlsup ? Math.floor(o.numA.vf - rlsup) : this.RES rs2 = Math.floor(o.numA.vf - rlinf) switch (this.opCond) { case 'AGB': if (rs2 === this.RES || rs2 &gt; o.numA.vf) rs2 = Math.floor(o.numA.vf) break case 'BGA': if (ri2 === this.RES || ri2 &lt; o.numA.vf) ri2 = Math.floor(o.numA.vf) break } this.genNum(o.numB, this.opB, ri2, rs2) o.numR.vf = o.numA.vf - o.numB.vf if (o.numR.vf &gt;= rlinf &amp;&amp; o.numR.vf &lt;= rlsup) break } o.numR.c = o.numA.c &gt; o.numB.c ? o.numA.c : o.numB.c o.op = 1 if (this.resultCarry &amp;&amp; o.numA.vf &gt; 0 &amp;&amp; o.numB.vf &gt; 0 &amp;&amp; o.numA.vf &gt;= o.numB.vf) { q = o.numR.c === 2 ? 100 : o.numR.c === 1 ? 10 : 1 bufa = Arith.DecFormat(Math.floor(o.numA.vf * q + 0.5), 0, 10).split('') bufb = Arith.DecFormat(Math.floor(o.numB.vf * q + 0.5), 0, 10).split('') for (i = 0; i &lt; 10; i++) if (bufb[i] !== '0') break for (; i &lt; 10; i++) { va = parseInt(bufa[i]) vb = parseInt(bufb[i]) if (va &gt;= vb) continue vb = va &gt; 0 ? Math.floor(Math.random() * va) : 0 bufb[i] = vb.toFixed(0) } o.numA.vf = parseInt(bufa.join('')) / q o.numB.vf = parseInt(bufb.join('')) / q o.numR.vf = Math.floor(o.numA.vf - o.numB.vf + 0.5) / q } break case 'MULT': for (i = 0; i &lt; NMAXLOOPS; i++) { this.genNum(o.numA, this.opA, this.RES, this.RES) ri2 = this.opB.limInf rs2 = this.opB.limSup switch (this.opCond) { case 'AGB': if (rs2 &gt; o.numA.vf) rs2 = Math.floor(o.numA.vf) break case 'BGA': if (ri2 &lt; o.numA.vf) ri2 = Math.floor(o.numA.vf) break } this.genNum(o.numB, this.opB, ri2, rs2) o.numR.vf = o.numA.vf * o.numB.vf if (o.numR.vf &gt;= rlinf &amp;&amp; o.numR.vf &lt;= rlsup) break } o.numR.c = o.numA.c + o.numB.c o.op = 2 break case 'DIV': for (i = 0; i &lt; NMAXLOOPS; i++) { this.genNum(o.numA, this.opA, this.RES, this.RES) ri2 = this.opB.limInf rs2 = this.opB.limSup switch (this.opCond) { case 'AGB': if (rs2 &gt; o.numA.vf) rs2 = Math.floor(o.numA.vf) break case 'BGA': if (ri2 &lt; o.numA.vf) ri2 = Math.floor(o.numA.vf) break } this.genNum(o.numB, this.opB, ri2, rs2) if (o.numB.vf !== 0 &amp;&amp; Math.abs(o.numA.vf) &gt;= Math.abs(o.numB.vf) &amp;&amp; (o.numR.vf = o.numA.vf / o.numB.vf) &gt;= rlinf &amp;&amp; o.numR.vf &lt;= rlsup) break } if (o.numB.vf === 0) o.numB.vf = 1 o.numR.vf = o.numA.vf / o.numB.vf i = o.numA.c - o.numB.c q = Math.pow(10, i) o.numA.vf *= q o.numR.vf *= q o.numR.vf = Math.floor(o.numR.vf) o.numA.vf = o.numR.vf * o.numB.vf o.numA.vf /= q o.numR.vf /= q o.numR.c = i &gt; 0 ? i : 0 o.op = 3 break default: return false } return true } /** * Fills the provided ActiveBagContentKit with randomly generated operations * @override * @param {AutoContentProvider.ActiveBagContentKit} kit - The composite object to be filled with data. * @returns {boolean} - `true` if all was OK */ process(kit) { let nRows = kit.nRows, nCols = kit.nCols, content = kit.content, //Array of ActiveBagContent useIds = kit.useIds, i, j, k, o, op = [], // Array of Arith.Operacio tipus = [], numTipus, tipX, tipInv = this.exp_caxb, va = '', vb = '', vc = '', operator = '', stra = [], strb = [], strc = [], nColsB = nCols, nRowsB = nRows, nCells = nRows * nCols, ass = null if (nRows &lt;= 0 || nCols &lt;= 0 || content === null || content.length &lt; 1 || content[0] === null) return false if (nCells &lt; 2) return false numTipus = 0 if (this.exp_abx) tipus[numTipus++] = 'ABX' if (this.exp_axc) tipus[numTipus++] = 'AXC' if (this.exp_xbc) tipus[numTipus++] = 'XBC' if (this.exp_axbc) tipus[numTipus++] = 'AXBC' if (numTipus === 0) return false for (i = 0; i &lt; nCells; i++) { o = new Arith.Operacio() for (j = 0; j &lt; NMAXLOOPS; j++) { this.genOp(o) if (this.resultNoDup) { for (k = 0; k &lt; i; k++) { if (o.numR.vf === op[k].numR.vf) break } if (k === i) break } else break } op[i] = o } if (this.resultOrder !== 0) { for (i = nCells - 1; i &gt; 0; i--) { for (j = 0; j &lt; i; j++) { if (this.resultOrder === 'SORTASC' &amp;&amp; op[j].numR.vf &gt; op[j + 1].numR.vf || this.resultOrder === 'SORTDESC' &amp;&amp; op[j].numR.vf &lt; op[j + 1].numR.vf) { // Switch values o = op[j] op[j] = op[j + 1] op[j + 1] = o } } } } for (i = 0; i &lt; nCells; i++) { tipX = tipus[Math.floor(Math.random() * numTipus)] va = Arith.DecFormat(op[i].numA.vf, op[0].numA.c) vb = Arith.DecFormat(op[i].numB.vf, op[0].numB.c) vc = Arith.DecFormat(op[i].numR.vf, op[0].numR.c) operator = OPSTR[op[i].op] if (tipInv) strc[i] = vc + S + &quot;=&quot; + S + va + S + operator + S + vb else strc[i] = va + S + operator + S + vb + S + &quot;=&quot; + S + vc switch (tipX) { case 'AXC': strb[i] = vb stra[i] = tipInv ? `${vc}${S}=${S}${va}${S}${operator}${S}?` : `${va}${S}${operator}${S}?${S}=${S}${vc}` break case 'XBC': strb[i] = va stra[i] = tipInv ? `${vc}${S}=${S}?${S}${operator}${S}${vb}` : `?${S}${operator}${S}${vb}${S}=${S}${vc}` break case 'AXBC': strb[i] = operator stra[i] = tipInv ? `${vc}${S}=${S}${va}${S}?${S}${vb}` : `${va}${S}?${S}${vb}${S}=${S}${vc}` break default: strb[i] = vc stra[i] = tipInv ? `?${S}=${S}${va}${S}${operator}${S}${vb}` : `${va}${S}${operator}${S}${vb}${S}=` break } } if (useIds) { ass = [] let strbx = [] k = 0 for (i = 0; i &lt; nCells; i++) { for (j = 0; j &lt; k; j++) if (strb[i] === strbx[j]) break if (j === k) { strbx[k] = strb[i] ass[i] = k k++ } else ass[i] = j } strb = [] for (i = 0; i &lt; k; i++) strb[i] = strbx[i] if (nRowsB * nColsB !== k) { let distH = false switch (k) { case 6: nRowsB = distH ? 2 : 3 nColsB = distH ? 3 : 2 break case 8: nRowsB = distH ? 2 : 4 nColsB = distH ? 4 : 2 break case 9: nRowsB = 3 nColsB = 3 break case 10: nRowsB = distH ? 2 : 5 nColsB = distH ? 5 : 2 break case 12: nRowsB = distH ? 3 : 4 nColsB = distH ? 4 : 3 break case 14: nRowsB = distH ? 2 : 7 nColsB = distH ? 7 : 2 break case 15: nRowsB = distH ? 3 : 5 nColsB = distH ? 3 : 5 break case 16: nRowsB = 4 nColsB = 4 break case 18: nRowsB = distH ? 6 : 3 nColsB = distH ? 3 : 6 break case 20: nRowsB = distH ? 4 : 5 nColsB = distH ? 5 : 4 break default: nRowsB = distH ? 1 : k nColsB = distH ? k : 1 break } } } content[0].setTextContent(stra, nCols, nRows) if (ass !== null) content[0].setIds(ass) if (content.length &gt; 1 &amp;&amp; content[1] !== null) { content[1].setTextContent(strb, nColsB, nRowsB) content[1].getShaper().reset(nColsB, nRowsB) } if (content.length &gt; 2 &amp;&amp; content[2] !== null) content[2].setTextContent(strc, nCols, nRows) return true } } Object.assign(Arith.prototype, { // // Operations use two operators: /** * First operator * @name Arith#opA * @type {Arith.Operator} */ opA: null, /** * Second operator * @name Arith#opB * @type {Arith.Operator} */ opB: null, /** * Allow additions * @name Arith#use_add * @type {boolean} */ use_add: true, /** * Allow subtractions * @name Arith#use_subst * @type {boolean} */ use_subst: false, /** * Allow multiplications * @name Arith#use_mult * @type {boolean} */ use_mult: false, /** * Allow divides * @name Arith#use_div * @type {boolean} */ use_div: false, /** * Allow expressions of type `A op B = X` * @name Arith#exp_abx * @type {boolean} */ exp_abx: true, /** * Allow expressions of type `A op X = C` * @name Arith#exp_axc * @type {boolean} */ exp_axc: false, /** * Allow expressions of type `X op B = C` * @name Arith#exp_xbc * @type {boolean} */ exp_xbc: false, /** * Allow expressions of type `A x B = C` * @name Arith#exp_axbc * @type {boolean} */ exp_axbc: false, /** * Allow inverse expressions, like `C = A op B` * @name Arith#exp_caxb * @type {boolean} */ exp_caxb: false, /** * Lower limit of the result * @name Arith#resultLimInf * @type {number} */ resultLimInf: 0, /** * Upper limit of the result * @name Arith#resultLimSup * @type {number} */ resultLimSup: 9999, /** * Allow carry operations * @see {@link https://en.wikipedia.org/wiki/Carry_(arithmetic)} * @name Arith#resultCarry * @type {boolean} */ resultCarry: false, /** * Avoid operations with the same result * @name Arith#resultNoDup * @type {boolean} */ resultNoDup: false, /** * Type of sorting of results. Possible values are: 'NOSORT', 'SORTASC' and 'SORTDESC' * @name Arith#resultOrder * @type {string} */ resultOrder: 'NOSORT', /** * Sorting of the operands in commutative operations. Possible values are: 'AGB' (_A greater than B_), * 'BGA' (_B greater tan A_) and 'INDIF' (default) * @name Arith#opCond * @type {string} */ opCond: 'INDIF', }) /** * Operator is an Utility class used by Arith to encapsulate the properties and methods related * to the members of the operations. * @class */ Arith.Operator = class { constructor() { this.limInf = 13 this.limSup = 17 this.lst = [] } /** * Loads Arith.Operator settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { // Read attributes Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'decimals': this.numDec = Number(val) break case 'values': const values = val.split(' ') for (let i = 0; i &lt; values.length; i++) this.lst[i] = Number(values[i]) this.fromList = this.lst.length break case 'from': this.limInf = Number(val === 'x' ? 0 : val) break case 'to': this.limSup = Number(val === 'x' ? 0 : val) break } $xml.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'include': this.wZero = Utils.getBoolean($node.attr('zero')) this.wOne = Utils.getBoolean($node.attr('one')) this.wMinusOne = Utils.getBoolean($node.attr('minusOne')) break } }) }) return this } } Object.assign(Arith.Operator.prototype, { /** * Lower limit * @name Arith.Operator#limInf * @type {number} */ limInf: 0, /** * Upper limit * @name Arith.Operator#limSup * @type {number} */ limSup: 10, /** * Number of decimal places * @name Arith.Operator#numDec * @type {number} */ numDec: 0, /** * Including 0 * @name Arith.Operator#wZero * @type {boolean} */ wZero: false, /** * Including 1 * @name Arith.Operator#wOne * @type {boolean} */ wOne: false, /** * Including -1 * @name Arith.Operator#wMinusOne * @type {boolean} */ wMinusOne: false, /** * Take values from list. This member stores the list length. * @name Arith.Operator#fromList * @type {number} */ fromList: 0, /** * The list of possible values * @name Arith.Operator#lst * @type {number[]} */ lst: [], }) Arith.Num = class { constructor() { this.vf = 0.0 // The number value this.c = 0 // Number of decimals to be used when representing the number } format() { return Arith.DecFormat(this.vf, this.c) } } Arith.Operacio = class { constructor() { this.numA = new Arith.Num() this.numB = new Arith.Num() this.numR = new Arith.Num() this.op = 0 } } // Register class in AutoContentProvider.CLASSES AutoContentProvider.CLASSES['@arith.Arith'] = Arith return Arith }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"automation_AutoContentProvider.js.html":{"id":"automation_AutoContentProvider.js.html","title":"Source: automation/AutoContentProvider.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: automation/AutoContentProvider.js /** * File : automation/AutoContentProvider.js * Created : 13/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;../Utils&quot; ], function (Utils) { /** * This abstract class is the base for classes that create on-time automatic content for JClic * activities, usually using random parameters to assure different content in each session. * * Activities with `AutoContentProvider` objects rely on them to build new content on every start. * @exports AutoContentProvider * @class */ class AutoContentProvider { /** * AutoContentProvider constructor * @param {JClicProject} project - The JClic project to which this content provider belongs. */ constructor(project) { this.project = project } /** * Dynamic constructor that returns a specific type of AutoContentProvider based on the `class` * attribute declared on an $xml element. * It should be called only from {@link Activity#setproperties} * @param {external.jQuery} $xml - The XML element to parse * @param {JClicProject} project - The JClic project to which this object will be related * @returns {AutoContentProvider} */ static getProvider($xml, project) { let automation = null if ($xml &amp;&amp; project) { const className = ($xml.attr('class') || '').replace(/^edu\\.xtec\\.jclic\\.automation\\./, '@'), cl = AutoContentProvider.CLASSES[className] if (cl) { automation = new cl(project) automation.setProperties($xml) } else Utils.log('error', `Unknown AutoContentProvider class: ${className}`) } return automation } /** * Loads the object settings from a specific jQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { this.className = ($xml.attr('class') || '').replace(/^edu\\.xtec\\.jclic\\.automation\\./, '@') return this } /** * Initializes the content provider */ init() { // To be implemented in real content providers } /** * Builds an {@link AutoContentProvider.ActiveBagContentKit} and generates the automatized content. * @param {number} nRows - Number of rows to be processed * @param {number} nCols - Number of columns to be processed * @param {ActiveBagContent[]} content - Array with one or more containers of {@link ActiveBoxContent} * objects to be filled with new content. * @param {bolean} useIds - When `true`, the `id` field of {@link ActiveBoxContent} objects is significant * @returns {boolean} - `true` if the process was OK. `false` otherwise. */ generateContent(nRows, nCols, content, useIds) { return this.process(new AutoContentProvider.ActiveBagContentKit(nRows, nCols, content, useIds)) } /** * Generates the automatized content * @param {AutoContentProvider.ActiveBagContentKit} _kit - The objects to be filled with content * @returns {boolean} - `true` if the process was OK. `false` otherwise. */ process(_kit) { // To be implemented in subclasses return false } } Object.assign(AutoContentProvider.prototype, { /** * The JClic project to which AutoContentProvider belongs * @name AutoContentProvider#project * @type {JClicProject} */ project: null, }) /** * Utility class used to encapsulate multiple sets of box contents * @class * @param {number} nRows - Number of rows to be processed * @param {number} nCols - Number of columns to be processed * @param {ActiveBagContent[]} content - Array with one or more containers of {@link ActiveBoxContent} * objects to be filled with new content. * @param {bolean} useIds - `true` when the `id` field of {@link ActiveBoxContent} objects is significant. */ AutoContentProvider.ActiveBagContentKit = class { constructor(nRows, nCols, content, useIds) { this.nRows = nRows this.nCols = nCols this.content = content this.useIds = useIds } } /** * Contains the current list of classes derived from AutoContentProvider. * This object should be updated by real automation classes at declaration time. * Currently, only two types of &quot;AutoContentProvider&quot; are defined: {@link Arith} and TagReplace. * @type {object} */ AutoContentProvider.CLASSES = { // TODO: Implement TagReplace '@tagreplace.TagReplace': AutoContentProvider } return AutoContentProvider }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"media_AudioBuffer.js.html":{"id":"media_AudioBuffer.js.html","title":"Source: media/AudioBuffer.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: media/AudioBuffer.js /** * File : media/EventSoundsElement.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, MediaRecorder */ define([ &quot;../Utils&quot; ], function (Utils) { /** * The AudioBuffer object provides sound recording and replaying to activities. * @exports AudioBuffer * @class */ class AudioBuffer { /** * AudioBuffer constructor * @param {number=} seconds - The maximum amount of time allowed to be recorded by this AudioBuffer */ constructor(seconds) { if (seconds) this.seconds = seconds this.chunks = [] } /** * Starts playing the currently recorded audio, if any. */ play() { this.stop() if (this.mediaPlayer) { this.mediaPlayer.currentTime = 0 this.mediaPlayer.play() } else { this.playWhenFinished = true } } /** * Stops the current operation, either recording or playing audio */ stop() { if (this.mediaRecorder &amp;&amp; this.mediaRecorder.state === 'recording') this.mediaRecorder.stop() else if (this.mediaPlayer &amp;&amp; !this.mediaPlayer.paused) this.mediaPlayer.pause() } /** * Starts recording audio, or stops the recording if already started. */ record() { if (this.mediaRecorder &amp;&amp; this.mediaRecorder.state === 'recording') this.mediaRecorder.stop() else { this.stop() this.mediaPlayer = null // TODO: update navigator.getUserMedia to navigator.mediaDevices.getUserMedia (with promises) // when supported in Chrome/Chromium // (in v. 49 this is supported only when &quot;experimental web extensions&quot; flag is enabled) // See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/getUserMedia navigator.getUserMedia( { audio: true }, stream =&gt; { this.mediaRecorder = new MediaRecorder(stream) this.mediaRecorder.ondataavailable = ev =&gt; this.chunks.push(ev.data) this.mediaRecorder.onerror = err =&gt; { Utils.log('error', `Error recording audio: ${err}`) this.mediaRecorder = null } this.mediaRecorder.onstart = () =&gt; Utils.log('debug', 'Recording audio started') this.mediaRecorder.onstop = () =&gt; { Utils.log('debug', 'Recording audio finished') if (this.timeoutID) { window.clearTimeout(this.timeoutID) this.timeoutID = null } const options = {} if (this.chunks.length &gt; 0 &amp;&amp; this.chunks[0].type) options.type = this.chunks[0].type const blob = new Blob(this.chunks, options) this.chunks = [] this.mediaPlayer = document.createElement('audio') this.mediaPlayer.src = URL.createObjectURL(blob) this.mediaPlayer.pause() this.mediaRecorder = null if (this.playWhenFinished) { this.playWhenFinished = false this.mediaPlayer.play() } } this.mediaRecorder.onwarning = ev =&gt; Utils.log('warn', `Warning recording audio: ${ev}`) this.playWhenFinished = false this.mediaRecorder.start() this.timeoutID = window.setTimeout(() =&gt; { if (this.mediaRecorder) this.mediaRecorder.stop() }, this.seconds * 1000) }, error =&gt; Utils.log('error', `Error recording audio: ${error}`) ) } } /** * Clears all data associated to this AudioBuffer */ clear() { this.stop() this.mediaPlayer = null } } /** * Maximum amount of time allowed for recordings (in seconds) * @type {number} */ AudioBuffer.MAX_RECORD_LENGTH = 180 Object.assign(AudioBuffer.prototype, { /** * Maximum length of recordings allowed to this AudioBuffer (in seconds) * @name AudioBuffer#seconds * @type {number} */ seconds: 20, /** * The object used to record audio data and convert it to a valid stream for the {@link mediaPlayer} * @name AudioBuffer#mediaRecorder * @type {external:MediaRecorder} */ mediaRecorder: null, /** * Array of data chunks collected during the recording * @name AudioBuffer#chunks * @type {Blob[]} */ chunks: null, /** * The HTML audio element used to play the recorded sound * @name AudioBuffer#mediaPlayer * @type {external:HTMLAudioElement} */ mediaPlayer: null, /** * The identifier of the timer launched to stop the recording when the maximum time is exceeded. * This member is `null` when no timeout function is associated to this AudioBuffer * @name AudioBuffer#timeoutID * @type {number} */ timeoutID: null, /** * Instructs this AudioBuffer recorder to start playing the collected audio at the end of the * current `mediaRecorder` task. * @name AudioBuffer#playWhenFinished * @type {boolean} */ playWhenFinished: false, }) return AudioBuffer }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_Evaluator.js.html":{"id":"activities_text_Evaluator.js.html","title":"Source: activities/text/Evaluator.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/Evaluator.js /** * File : activities/text/Evaluator.js * Created : 14/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Utils&quot; ], function ($, Utils) { /** * This class and its derivatives {@link BasicEvaluator} and * {@link ComplexEvaluator} are used to evaluate the answers written by the final users * in text activities. * @exports Evaluator * @class */ class Evaluator { /** * Evaluator constructor * @param {string} className - The class name of this evaluator. */ constructor(className) { this.className = className this.collator = (window.Intl &amp;&amp; window.Intl.Collator) ? new window.Intl.Collator() : { compare: (a, b) =&gt; this.checkCase ? a === b : a.toUpperCase() === b.toUpperCase() } } /** * Factory constructor that returns a specific type of {@link Evaluator} based on the `class` * attribute declared in the $xml element. * @param {external:jQuery} $xml - The XML element to be parsed. * @returns {Evaluator} */ static getEvaluator($xml) { let ev = null if ($xml) { const className = $xml.attr('class') const cl = Evaluator.CLASSES[className] if (cl) { ev = new cl(className) ev.setProperties($xml) } else Utils.log('error', `Unknown evaluator class: &quot;${className}&quot;`) } return ev } /** * Loads the object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The jQuery XML element to parse */ setProperties($xml) { Utils.attrForEach($xml.get(0).attributes, (name, value) =&gt; { switch (name) { case 'class': this.className = value break case 'checkCase': case 'checkAccents': case 'checkPunctuation': case 'checkDoubleSpaces': case 'detail': this[name] = Utils.getBoolean(value) break case 'checkSteps': case 'checkScope': this[name] = Number(value) break } }) return this } /** * Initializes this evaluator * @param {string[]} _locales - An array of valid locales, to be used by Intl.Collator */ init(_locales) { this.initiated = true } /** * Checks the given text against a set of valid matches * @param {string} text - The text to be checked * @param {(string|string[])} match - The valid expression or expressions with which to compare. * @returns {boolean} - `true` if the checked expression is valid, `false` otherwise. */ checkText(text, match) { if (match instanceof Array) return match.some(m =&gt; this._checkText(text, m)) else if (match) return this._checkText(text, match) else return false } /** * Abstract method to be implemented in subclasses. * Performs the validation of a string against a single match. * @param {string} _text - The text to be checked * @param {string} _match - A valid expression with which to compare. * @returns {boolean} - `true` when the two expressions can be considered equivalent. */ _checkText(_text, _match) { return false } /** * Evaluates the given text against a set of valid matches, returning an array of flags useful * to indicate where the mistakes are located. * @param {string} text - The text to be checked * @param {(string|string[])} match - The valid expression or expressions with which to compare. * @returns {number[]} - An array of flags (one number for character) indicating whether each * position is erroneous or ok. */ evalText(text, match) { if (!(match instanceof Array)) match = [match] return this._evalText(text, match) } /** * Abstract method to be implemented in subclasses. * Performs the evaluation of a string against an array of valid matches, returning an array of * flags useful to indicate where the mistakes are located. * @param {string} _text - The text to be checked * @param {string} _match - A valid expression with which to compare. * @returns {number[]} - An array of flags (one number for character) indicating whether each * position is erroneous or OK. */ _evalText(_text, _match) { return [] } /** * Checks if the given array of flags (usually returned by `evalText`) can be considered as a * valid or erroneous answer. * @param {number[]} flags * @returns {boolean} - `true` when there is at least one flag and all flags are 0 (meaning no error). */ isOk(flags) { return flags &amp;&amp; flags.length &gt; 0 &amp;&amp; !flags.some(f =&gt; f !== 0) } } Object.assign(Evaluator.prototype, { /** * The type of evaluator. * @name Evaluator#className * @type {string} */ className: null, /** * Whether this evaluator has been initialized or not. * @name Evaluator#initiated * @type {boolean} */ initiated: false, /** * The Intl.Collator object used to compare strings, when available. * @name Evaluator#collator * @type {external:Collator} */ collator: null, /** * Whether uppercase and lowercase expressions must be considered equivalent or not. * @name Evaluator#checkcase * @type {boolean} */ checkCase: false, }) /** * A basic evaluator that just compares texts, without looking for possible coincidences of text * fragments once erroneous characters removed. * @class * @extends Evaluator */ class BasicEvaluator extends Evaluator { /** * BasicEvaluator constructor * @param {string} className - The class name of this evaluator. */ constructor(className) { super(className) } /** * Initializes the {@link Evaluator#collator}. * @override * @param {string[]} locales - An array of valid locales to be used by the Inlt.Collator object */ init(locales) { // Call `init` method on ancestor super.init([locales]) // Get canonical locales if (window.Intl &amp;&amp; window.Intl.Collator) { this.collator = new window.Intl.Collator(locales, { sensitivity: this.checkAccents ? this.checkCase ? 'case' : 'accent' : 'base', ignorePunctuation: !this.checkPunctuation }) } } /** * Performs the validation of a string against a single match. * @override * @param {string} text - The text to be checked * @param {string} match - A valid expression with which to compare. * @returns {boolean} - `true` when the two expressions can be considered equivalent. */ _checkText(text, match) { return this.collator.compare(this.getClearedText(text), this.getClearedText(match)) === 0 } /** * Performs the evaluation of a string against an array of valid matches, returning an array of * flags useful to indicate where the mistakes are located. * In BasicEvaluator, all characters are just marked as 1 (error) or 0 (OK). See * {@link ComplexEvaluator} for more detailed analysis of answers. * @override * @param {string} text - The text to be checked * @param {string} match - A valid expression with which to compare. * @returns {number[]} - An array of flags (one number for character) indicating whether each * position is erroneous or OK. */ _evalText(text, match) { return Array(text.length).fill(this._checkText(text, match[0]) ? 0 : 1) } /** * Removes double spaces and erroneous characters from a given text expression. * @param {string} src - The text to be processed. * @param {boolean[]} skipped - An array of boolean indicating which characters should be removed * from the string. * @returns {string} */ getClearedText(src, skipped) { if (this.checkPunctuation &amp;&amp; this.checkDoubleSpaces) return src if (!skipped) skipped = Array(src.length).fill(false) let sb = '' for (let i = 0, wasSpace = false; i &lt; src.length; i++) { const ch = src.charAt(i) if (this.PUNCTUATION.indexOf(ch) &gt;= 0 &amp;&amp; !this.checkPunctuation) { if (!wasSpace) sb += ' ' else skipped[i] = true wasSpace = true } else if (ch === ' ') { if (this.checkDoubleSpaces || !wasSpace) sb += ch else skipped[i] = true wasSpace = true } else { wasSpace = false sb += ch } } return sb } } Object.assign(BasicEvaluator.prototype, { /** * Whether accented letters must be considered equivalent or not. * @name BasicEvaluator#checkAccents * @type {boolean} */ checkAccents: true, /** * Whether to check or not dots, commas and other punctuation marks when comparing texts. * @name BasicEvaluator#checkPunctuation * @type {boolean} */ checkPunctuation: true, /** * Whether to check or not the extra spaces added between words. * @name BasicEvaluator#checkDoubleSpaces * @type {boolean} */ checkDoubleSpaces: false, /** * String containing all the characters considered as punctuation marks (currently &quot;.,;:&quot;) * @name BasicEvaluator#PUNCTUATION * @type {string} */ PUNCTUATION: '.,;:', }) /** * ComplexEvaluator acts like {@link BasicEvaluator}, but providing feedback about * the location of mistakes on the user's answer. * @class * @extends BasicEvaluator */ class ComplexEvaluator extends BasicEvaluator { /** * ComplexEvaluator constructor * @param {string} className - The class name of this evaluator. */ constructor(className) { super(className) } /** * Performs the evaluation of a string against an array of valid matches, returning an array of * flags useful to indicate where the mistakes are located. * In BasicEvaluator, all characters are just marked as 1 (error) or 0 (OK). See * {@link ComplexEvaluator} for more detailed analysis of answers. * @override * @param {string} text - The text to be checked * @param {string} match - A valid expression with which to compare. * @returns {number[]} - An array of flags (one number for character) indicating whether each * position is erroneous or OK. */ _evalText(text, match) { if (!this.detail) return super._evalText(text, match) const skipped = Array(text.length).fill(false), sText = this.getClearedText(text, skipped), numChecks = Array(match.length), flags = Array(match.length), returnFlags = Array(text.length) let maxCheck = -1, maxCheckIndex = -1 for (let i = 0; i &lt; match.length; i++) { flags[i] = Array(text.length).fill(0) const ok = this.compareSegment(sText, sText.length, match[i], match[i].length, flags[i], false) numChecks[i] = this.countFlagsOk(flags[i]) if (ok) { maxCheckIndex = i maxCheck = numChecks[i] } } if (maxCheckIndex === -1) { for (let i = 0; i &lt; match.length; i++) { if (numChecks[i] &gt; maxCheck) { maxCheck = numChecks[i] maxCheckIndex = i } } } for (let i = 0, k = 0; i &lt; text.length; i++) returnFlags[i] = skipped[i] ? 0 : flags[maxCheckIndex][k++] return returnFlags } /** * Counts the number of flags on the provided array that are zero. * @param {number[]} flags * @returns {number} */ countFlagsOk(flags) { return flags.reduce((n, v) =&gt; v == 0 ? ++n : n, 0) } /** * Compares two segments of text. * This function should make recursive calls. * @param {string} src - Text to be compared * @param {number} ls - Offset in `src` where to start the comparison * @param {string} ok - Text to match against. * @param {number} lok - Offset in `ok` where to start the comparison. * @param {number[]} attr - Array of integers that will be filled with information about the * validity or error of each character in `src`. * @param {boolean} iterate - When `true`, the segment will be iterated looking for other * coincident fragments. * @returns {boolean} - `true` if the comparison was valid. */ compareSegment(src, ls, ok, lok, attr, iterate) { let is = 0, iok = 0, lastIs = 0, lastiok = true, result = true, chs = '', chok = '' if (ls === 0 || lok === 0 || src === null || ok === null) return false for (; is &lt; ls; is++ , iok++) { chs = src.charAt(is) lastIs = is if (iok &gt;= 0 &amp;&amp; iok &lt; lok) chok = ok.charAt(iok) else chok = 0 if (this.collator.compare(chs, chok) === 0) { attr[is] = 0 lastiok = true } else { result = false attr[is] = 1 if (!iterate &amp;&amp; lastiok &amp;&amp; chok !== 0 &amp;&amp; this.checkSteps &gt; 0 &amp;&amp; this.checkScope &gt; 0) { const lbloc = 2 * this.checkSteps + 1, itcoinc = [] let i = 0, j = 0 for (; j &lt; lbloc; j++) { itcoinc[j] = 0 i = iok + Math.floor((j + 1) / 2) * ((j &amp; 1) !== 0 ? 1 : -1) if (i &gt;= lok) continue const is2 = i &lt; 0 ? is - i : is if (is2 &gt;= ls) continue const ls2 = Math.min(ls - is2, this.checkScope), iok2 = i &lt; 0 ? 0 : i, lok2 = Math.min(lok - iok2, this.checkScope), flags2 = Array(src.length - is2).fill(0), result2 = this.compareSegment(src.substring(is2), ls2, ok.substring(iok2), lok2, flags2, true) itcoinc[j] = this.countFlagsOk(flags2) if (result2) break } if (j === lbloc) { let jmax = this.checkSteps for (j = 0; j &lt; lbloc; j++) if (itcoinc[j] &gt; itcoinc[jmax]) jmax = j i = iok + Math.floor((jmax + 1) / 2) * ((jmax &amp; 1) !== 0 ? 1 : -1) } iok = i lastiok = false } } } if (iok !== lok) { result = false attr[lastIs] = 1 } return result } } Object.assign(ComplexEvaluator.prototype, { /** * Whether to detail or not the location of errors found on the analyzed text. * @name ComplexEvaluator#detail * @type {boolean} */ detail: true, /** * Number of times to repeat the evaluation process if an error is found, eliminating in each * cycle the extra characters that caused the error. * @name ComplexEvaluator#checkSteps * @type {number} */ checkSteps: 3, /** * When an eror is detected in the analyzed expression, this variable indicates the number of * characters the checking pointer will be moved forward and back looking for a coincident * expression. * * For example, comparing the answer &quot;_one lardzy dog_&quot; with the correct answer &quot;_one lazy dog_&quot; * will detect an error at position 6 (an &quot;r&quot; instead of &quot;z&quot;). If `checkSteps` is set to 2 or * greater, the &quot;_zy dog_&quot; expression at position 8 will be found and evaluated as valid, while * a value of 1 or less will not found any coincident expression beyond the error position, thus * evaluating all the remaining sentence as erroneous. * @name ComplexEvaluator#checkScope * @type {number} */ checkScope: 6, }) // List of known Evaluator classes Evaluator.CLASSES = { '@BasicEvaluator': BasicEvaluator, '@ComplexEvaluator': ComplexEvaluator } return Evaluator }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_BlueSkin.js.html":{"id":"skins_BlueSkin.js.html","title":"Source: skins/BlueSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/BlueSkin.js /** * File : skins/BlueSkin.js * Created : 04/07/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot;, &quot;./DefaultSkin&quot; ], function ($, Skin, DefaultSkin) { /** * This is a variant of the default {@link Skin} used by JClic.js * It differs from {@link DefaultSkin} only in some colors * @exports BlueSkin * @class * @extends DefaultSkin */ class BlueSkin extends DefaultSkin { /** * BlueSkin constructor * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects needed to build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // BlueSkin extends [DefaultSkin](DefaultSkin.html) super(ps, name, options) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return super._getStyleSheets(media) + (media === 'default' ? this.skinCSS : '') } } Object.assign(BlueSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name BlueSkin#skinId * @override * @type {string} */ skinId: 'JClicBlueSkin', /** * Styles used in this skin * @name BlueSkin#skinCSS * @type {string} */ skinCSS: '.ID {background-color:#1990FF;}' }) // Register this class in the list of available skins Skin.CLASSES['blue'] = BlueSkin return BlueSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_DefaultSkin.js.html":{"id":"skins_DefaultSkin.js.html","title":"Source: skins/DefaultSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/DefaultSkin.js /** * File : skins/DefaultSkin.js * Created : 12/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;screenfull&quot;, &quot;../AWT&quot;, &quot;./Skin&quot;, &quot;../boxes/ActiveBox&quot;, &quot;./Counter&quot;, &quot;../Utils&quot; ], function ($, screenfull, AWT, Skin, ActiveBox, Counter, Utils) { // In some cases, require.js does not return a valid value for screenfull. Check it: if (!screenfull) screenfull = window.screenfull /** * This is the default {@link Skin} used by JClic.js * @exports DefaultSkin * @class * @extends Skin */ class DefaultSkin extends Skin { /** * DefaultSkin constructor * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects needed tot build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options, used by subclasses * this skin. When `null` or `undefined`, a new one will be created. */ constructor(ps, name = null, options = {}) { // DefaultSkin extends [Skin](Skin.html) super(ps, name, options) let msg = '' AWT.Font.loadGoogleFonts(this.cssFonts) // Create the main container for buttons, counters and message box this.$ctrlCnt = $('&lt;div/&gt;', { class: 'JClicCtrlCnt unselectableText', role: 'navigation' }) this.$div.append(this.$ctrlCnt) // Add `prev` button msg = ps.getMsg('Previous activity') this.buttons.prev = $('&lt;button/&gt;', { class: 'JClicBtn', title: msg, 'aria-label': msg }) .append($(Utils.getSvg(this.prevIcon, this.iconWidth, this.iconHeight, this.iconFill))) .on('click', evt =&gt; { if (this.ps) this.ps.actions.prev.processEvent(evt) }) this.$ctrlCnt.append(this.buttons.prev) // Add message box this.msgBox = new ActiveBox() this.msgBox.role = 'message' this.$msgBoxDiv = $('&lt;div/&gt;', { class: 'JClicMsgBox' }) .click(() =&gt; { this.msgBox.playMedia(ps) return false }) this.$ctrlCnt.append(this.$msgBoxDiv) // Add `next` button msg = ps.getMsg('Next activity') this.buttons.next = $('&lt;button/&gt;', { class: 'JClicBtn', title: msg, 'aria-label': msg }) .append($(Utils.getSvg(this.nextIcon, this.iconWidth, this.iconHeight, this.iconFill))) .on('click', evt =&gt; { if (this.ps) this.ps.actions.next.processEvent(evt) }) this.$ctrlCnt.append(this.buttons.next) // Add counters if (false !== this.ps.options.counters &amp;&amp; false !== options.counters) { // Create counters msg = ps.getMsg('Reports') const $countCnt = $('&lt;button/&gt;', { class: 'JClicCountCnt', 'aria-label': msg }) .on('click', evt =&gt; { if (this.ps) this.ps.actions.reports.processEvent(evt) }) $.each(Skin.prototype.counters, (name, _val) =&gt; { msg = ps.getMsg(name) this.counters[name] = new Counter(name, $('&lt;div/&gt;', { class: 'JClicCounter', title: msg, 'aria-label': msg }) .css({ 'background-image': `url(${Utils.svgToURI(this[name + 'Icon'], this.counterIconWidth, this.counterIconHeight, this.counterIconFill)})`, color: this.counterIconFill }) .html('000') .appendTo($countCnt)) }) this.$ctrlCnt.append($countCnt) } // Add info button if (true === this.ps.options.info || true === options.info) { msg = ps.getMsg('Information') this.buttons.info = $('&lt;button/&gt;', { class: 'JClicBtn', title: msg, 'aria-label': msg }) .append($(Utils.getSvg(this.infoIcon, this.iconWidth, this.iconHeight, this.iconFill))) .on('click', evt =&gt; { if (this.ps) this.ps.actions.info.processEvent(evt) }) this.$ctrlCnt.append(this.buttons.info) } // Add reports button if (true === this.ps.options.reportsBtn || true === options.reportsBtn) { msg = ps.getMsg('Reports') this.buttons.about = $('&lt;button/&gt;', { class: 'JClicBtn', title: msg, 'aria-label': msg }) .append($(Utils.getSvg(this.reportsIcon, this.iconWidth, this.iconHeight, this.iconFill))) .on('click', evt =&gt; { if (this.ps) this.ps.actions.reports.processEvent(evt) }) this.$ctrlCnt.append(this.buttons.about) } // Add `full screen` button if (screenfull &amp;&amp; screenfull.enabled) { msg = ps.getMsg('Toggle full screen') this.buttons.fullscreen = $('&lt;button/&gt;', { class: 'JClicBtn', title: msg, 'aria-label': msg }) .append($('&lt;img/&gt;', { src: Utils.svgToURI(this.fullScreenIcon, this.iconWidth, this.iconHeight, this.iconFill) })) .on('click', () =&gt; { this.setScreenFull(null) }) this.$ctrlCnt.append(this.buttons.fullscreen) } // Add `close` button if (typeof this.ps.options.closeFn === 'function') { msg = ps.getMsg('Close') const closeFn = this.ps.options.closeFn this.buttons.close = $('&lt;button/&gt;', { class: 'JClicBtn', title: msg, 'aria-label': msg }) .append($(Utils.getSvg(this.closeIcon, this.iconWidth, this.iconHeight, this.iconFill))) .on('click', () =&gt; { Utils.log('info', 'Closing the player') closeFn() }) this.$ctrlCnt.append(this.buttons.close) } // Workaround for a bug in Edge and Explorer: SVG objects not implementing `blur` and `focus` methods // See: [https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8479637/] // This affects Polymer `iron-overlay-behavior`. See: [https://github.com/PolymerElements/iron-overlay-behavior/pull/211] let nilFunc = null $.each(this.buttons, (_key, value) =&gt; { if (value &amp;&amp; (typeof value[0].focus !== 'function' || typeof value[0].blur !== 'function')) { if (nilFunc === null) nilFunc = () =&gt; Utils.log('error', '&quot;blur&quot; and &quot;focus&quot; not defined for SVG objects in Explorer/Edge') value[0].focus = value[0].blur = nilFunc } }) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return `${super._getStyleSheets(media)}${media === 'default' ? this.mainCSS : media === 'half' ? this.mainCSSHalf : media === 'twoThirds' ? this.mainCSSTwoThirds : ''}` } /** * Main method used to build the content of the skin. Resizes and places internal objects. * @override */ doLayout() { // Call method on ancestor super.doLayout() // Set the fullScreen icon if (this.buttons.fullscreen) this.buttons.fullscreen.find('img').get(-1).src = Utils.svgToURI( this[screenfull.isFullscreen ? 'fullScreenExitIcon' : 'fullScreenIcon'], this.iconWidth, this.iconHeight, this.iconFill) } /** * Gets the {@link ActiveBox} used to display the main messages of activities * @returns {ActiveBox} */ getMsgBox() { return this.msgBox } /** * Enables or disables the `tabindex` attribute of the main buttons. Useful when a modal dialog * overlay is active, to avoid direct access to controls not related with the dialog. * @param {boolean} status - `true` to make main controls navigable, `false` otherwise */ enableMainButtons(status) { this.$ctrlCnt.find('.JClicBtn,.JClicCountCnt').attr('tabindex', status ? '0' : '-1') } } Object.assign(DefaultSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name DefaultSkin#skinId * @override * @type {string} */ skinId: 'JClicDefaultSkin', /** * The HTML div where buttons, counters and message box are placed * @name DefaultSkin#$ctrlCnt * @type {external:jQuery} */ $ctrlCnt: null, /** * Space (pixels) between the components of this {@link Skin} * @name DefaultSkin#margin * @type {number} */ margin: 18, /** * Height of {@link DefaultSkin#msgBox} * @name DefaultSkin#msgBoxHeight * @type {number} */ msgBoxHeight: 60, /** * Width of counters, in pixels * @name DefaultSkin#countersWidth * @type {number} */ countersWidth: 60, /** * Height of counters, in pixels * @name DefaultSkin#countersHeight * @type {number} */ countersHeight: 20, // //Buttons and other graphical resources used by this skin. // /** * Styles used in this skin * @name DefaultSkin#mainCSS * @type {string} */ mainCSS: '\\ .ID .JClicCtrlCnt {margin:0 9px 18px 9px; display:-webkit-flex; display:flex; -webkit-flex-direction:row; flex-direction:row; -webkit-align-items:center; align-items:center;}\\ .ID .JClicCountCnt {display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}\\ .ID .JClicMsgBox {height:60px; -webkit-flex-grow:1; flex-grow:1; background-color:lightblue;}\\ .ID .JClicBtn {cursor:pointer; line-height:0;}\\ .ID .JClicBtn:disabled {cursor:inherit; opacity:0.3;}\\ .ID .JClicCounter {width:40px; height:20px; padding-left:20px; color:white; cursor:pointer; font-family:Roboto,Sans-serif; font-size:18px; text-align:center; background-repeat:no-repeat; background-position:left}', /** * Styles used in this skin, sized to half its regular size * @name DefaultSkin#mainCSSHalf * @type {string} */ mainCSSHalf: '\\ .ID .JClicPlayerCnt {margin:9px;}\\ .ID .JClicCtrlCnt {margin:0 4px 9px 4px;}\\ .ID .JClicCtrlCnt button svg,img {width:18px; height:18px;}\\ .ID .JClicMsgBox {height:30px;}\\ .ID .JClicCounter {width:20px; height:10px; margin-left:-15px; transform:scale(0.5);}', /** * Styles used in this skin, sized to two thirds of its regular size * @name DefaultSkin#mainCSSTwoThirds * @type {string} */ mainCSSTwoThirds: '\\ .ID .JClicPlayerCnt {margin:12px;}\\ .ID .JClicCtrlCnt {margin: 0 6px 12px 6px;}\\ .ID .JClicCtrlCnt button svg,img {width:24px; height:24px;}\\ .ID .JClicMsgBox {height:40px;}\\ .ID .JClicCounter {width:27px; height:13px; margin-left:-10px; transform:scale(0.666);}', /** * Fonts used in this skin * @name DefaultSkin#cssFonts * @type {string[]} */ cssFonts: ['Roboto'], // // Default settings for icons (can be overridden in subclasses): /** * Icon width * @name DefaultSkin#iconWidth * @type {number} */ iconWidth: 36, /** * Icon height * @name DefaultSkin#iconHeight * @type {number} */ iconHeight: 36, /** * Fill color for icons * @name DefaultSkin#iconFill * @type {string} */ iconFill: '#FFFFFF', // // SVG images for action buttons // Based on [Google Material design Icons](https://google.github.io/material-design-icons/) // /** * Icon for 'previous activity' button * @name DefaultSkin#prevIcon * @type {string} */ prevIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z&quot;/&gt;\\ &lt;/svg&gt;', /** * Icon for 'next activity' button * @name DefaultSkin#nextIcon * @type {string} */ nextIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z&quot;/&gt;\\ &lt;/svg&gt;', /** * Full screen on icon * @name DefaultSkin#fullScreenIcon * @type {string} */ fullScreenIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z&quot;/&gt;\\ &lt;/svg&gt;', /** * Full screen off icon * @name DefaultSkin#fullScreenExitIcon * @type {string} */ fullScreenExitIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z&quot;/&gt;\\ &lt;/svg&gt;', /** * Close button * @name DefaultSkin#closeIcon * @type {string} */ closeIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z&quot;/&gt;\\ &lt;/svg&gt;', /** * Info button * @name DefaultSkin#infoIcon * @type {string} */ infoIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z&quot;/&gt;\\ &lt;/svg&gt;', /** * Reports button * @name DefaultSkin#reportsIcon * @type {string} */ reportsIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z&quot;/&gt;\\ &lt;/svg&gt;', // // Settings for counters: /** * Counter icon width * @name DefaultSkin#counterIconWidth * @type {number} */ counterIconWidth: 18, /** * Counter icon height * @name DefaultSkin#counterIconHeight * @type {number} */ counterIconHeight: 18, /** * Counter icon fill color * @name DefaultSkin#counterIconFill * @type {string} */ counterIconFill: '#FFFFFF', // Counters: /** * Time icon * @name DefaultSkin#timeIcon * @type {string} */ timeIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z&quot;/&gt;\\ &lt;path d=&quot;M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z&quot;/&gt;\\ &lt;/svg&gt;', /** * Score icon * @name DefaultSkin#scoreIcon * @type {string} */ scoreIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z&quot;/&gt;\\ &lt;/svg&gt;', /** * Actions icon * @name DefaultSkin#actionsIcon * @type {string} */ actionsIcon: '&lt;svg fill=&quot;#FFFFFF&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z&quot;/&gt;\\ &lt;/svg&gt;', }) // Register this class in the list of available skins Skin.CLASSES['default'] = DefaultSkin return DefaultSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_Skin.js.html":{"id":"skins_Skin.js.html","title":"Source: skins/Skin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/Skin.js /** * File : skins/Skin.js * Created : 29/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;screenfull&quot;, &quot;clipboard-js&quot;, &quot;../Utils&quot;, &quot;../AWT&quot; ], function ($, screenfull, clipboard, Utils, AWT) { // In some cases, require.js does not return a valid value for screenfull. Check it: if (!screenfull) screenfull = window.screenfull /** * This abstract class manages the layout, position ans size of the visual components of JClic: * player window, message box, counters, buttons, status... and also the appearance of the main * container. * The basic implementation of Skin is {@link DefaultSkin}. * @exports Skin * @class * @abstract * @extends AWT.Container */ class Skin extends AWT.Container { /** * Skin constructor * @param {PlayStation} ps - The `PlayStation` (currently a {@link JClicPlayer}) used to load and * realize the media objects needed tot build the Skin. * @param {string=} name - The skin name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // Skin extends [AWT.Container](AWT.html) super() // Save parameters for later use this.ps = ps if (name !== null) this.name = name this.options = options if(this.options.skinId) this.skinId = this.options.skinId; if (!Skin.registerStyleSheet(this.skinId, ps)) { let css = this._getStyleSheets('default') let twoThirds = this._getStyleSheets('twoThirds') if (twoThirds.length &gt; 0) css += ` @media (max-width:${this.twoThirdsMedia.width}px),(max-height:${this.twoThirdsMedia.height}px){${twoThirds}}` let half = this._getStyleSheets('half') if (half.length &gt; 0) css += ` @media (max-width:${this.halfMedia.width}px),(max-height:${this.halfMedia.height}px){${half}}` Utils.appendStyleAtHead(css.replace(/\\.ID/g, `.${this.skinId}`), ps) } let msg = '' this.$div = $('&lt;div/&gt;', { class: this.skinId }) this.$playerCnt = $('&lt;div/&gt;', { class: 'JClicPlayerCnt' }) // Add waiting panel and progress bar this.$progress = $('&lt;progress/&gt;', { class: 'progressBar' }) .css({ display: 'none' }) this.$waitPanel = $('&lt;div/&gt;') .css({ display: 'none', 'background-color': 'rgba(255, 255, 255, .60)', 'z-index': 99 }) .append($('&lt;div/&gt;', { class: 'waitPanel' }).css({ display: 'flex', 'flex-direction': 'column' }) .append($('&lt;div/&gt;', { class: 'animImgBox' }) .append($(this.waitImgBig), $(this.waitImgSmall))) .append(this.$progress)) this.$playerCnt.append(this.$waitPanel) this.buttons = Utils.cloneObject(Skin.prototype.buttons) this.counters = Utils.cloneObject(Skin.prototype.counters) this.msgArea = Utils.cloneObject(Skin.prototype.msgArea) // Create dialog overlay and panel this.$dlgOverlay = $('&lt;div/&gt;', { class: 'dlgOverlay' }).css({ 'z-index': 98, position: 'fixed', left: 0, top: 0, width: '100%', height: '100%', display: 'none', 'background-color': 'rgba(30,30,30,0.7)' }).on('click', () =&gt; { if (!this._isModalDlg) // Non-modal dialogs are closed on click outside the main area this._closeDlg(true) return false }) const $dlgDiv = $('&lt;div/&gt;', { class: 'dlgDiv', role: 'dialog', 'aria-labelledby': ps.getUniqueId('ReportsLb'), 'aria-describedby': ps.getUniqueId('ReportsCnt') }).css({ display: 'inline-block', position: 'relative', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }).on('click', () =&gt; { // Clicks not passed to parent return false }) this.$dlgMainPanel = $('&lt;div/&gt;', { class: 'dlgMainPanel', id: ps.getUniqueId('ReportsCnt') }) this.$dlgBottomPanel = $('&lt;div/&gt;', { class: 'dlgBottomPanel', role: 'navigation' }) // Basic dialog structure: this.$div.append( this.$playerCnt, this.$dlgOverlay.append( $dlgDiv.append( this.$dlgMainPanel, this.$dlgBottomPanel))) msg = ps.getMsg('JClic logo') this.$infoHead = $('&lt;div/&gt;', { class: 'infoHead' }) .append($('&lt;div/&gt;', { class: 'headTitle unselectableText' }) .append($(this.appLogo, { 'aria-label': msg }).css({ width: '1.5em', height: '1.5em', 'vertical-align': 'bottom' }) .dblclick(() =&gt; { // Double click on JClic logo is a hidden method to increase verbosity on Javascript console Utils.setLogLevel('all') Utils.log('trace', 'Log level set to &quot;trace&quot;') })) .append($('&lt;span/&gt;').html('JClic.js'))) .append($('&lt;p/&gt;').css({ 'margin-top': 0, 'margin-left': '3.5em' }) .append($('&lt;a/&gt;', { href: 'http://clic.xtec.cat/repo/index.html?page=info' }).html('http://clic.xtec.cat')) .append($('&lt;br&gt;')) .append($('&lt;span/&gt;').html(ps.getMsg('Version') + ' ' + this.ps.JClicVersion))) this.$reportsPanel = $('&lt;div/&gt;', { class: 'reportsPanel', role: 'document' }) msg = ps.getMsg('Copy data to clipboard') this.$copyBtn = $('&lt;button/&gt;', { title: msg, 'aria-label': msg }) .append($(this.copyIcon).css({ width: '26px', height: '26px' })) .on('click', () =&gt; { clipboard.copy({ 'text/plain': `===&gt; ${ps.getMsg('The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor')} &lt;===`, 'text/html': this.$reportsPanel.html() }) this.$copyBtn.parent().append( $('&lt;div/&gt;', { class: 'smallPopup' }) .html(ps.getMsg('The data has been copied to clipboard')) .fadeIn() .delay(3000) .fadeOut(function () { $(this).remove() })) }) msg = ps.getMsg('Close') this.$closeDlgBtn = $('&lt;button/&gt;', { title: msg, 'aria-label': msg }) .append($(this.closeDialogIcon).css({ width: '26px', height: '26px' })) .on('click', () =&gt; this._closeDlg(true)) msg = ps.getMsg('OK') this.$okDlgBtn = $('&lt;button/&gt;', { title: msg, 'aria-label': msg }) .append($(this.okDialogIcon).css({ width: '26px', height: '26px' })) .on('click', () =&gt; this._closeDlg(true)) msg = ps.getMsg('Cancel') this.$cancelDlgBtn = $('&lt;button/&gt;', { title: msg, 'aria-label': msg }) .append($(this.closeDialogIcon).css({ width: '26px', height: '26px' })) .on('click', () =&gt; this._closeDlg(false)) // Registers this Skin in the list of realized Skin objects Skin.skinStack.push(this) } /** * Checks if the provided stylesheet ID is already registered in the root node where the current player is placed * @param {String} skinId - The unique identifier of the skin to check * @param {PlayStation=} ps - An optional `PlayStation` (currently a {@link JClicPlayer}) used as a base to find the root node * @returns {Boolean} - _true_ when the skin stylesheet is already defined in the current root node, _false_ otherwise */ static registerStyleSheet(skinId, ps) { let result = false const root = Utils.getRootHead(ps) if (!root['__JClicID']) root.__JClicID = `SK${Skin.lastId++}` let styles = Skin.rootStyles[root.__JClicID] if (!styles) { styles = [] Skin.rootStyles[root.__JClicID] = styles } if (styles.indexOf(skinId) &lt; 0) { Utils.log('trace', `Stylesheet &quot;${skinId}&quot; has been registered for root node labeled as &quot;${root.__JClicID}&quot;`) styles.push(skinId) } else result = true return result } /** * Gets the specified Skin from `skinStack`, or creates a new one if not found. * This function should be used only through `Skin.getSkin` * @param {string} skinName - The name of the searched skin * @param {PlayStation} ps - The PlayStation (usually a {@link JClicPlayer}) used to build the new skin. * @param {object=} options - Optional parameter with additional options * @returns {Skin} */ static getSkin(skinName = 'default', ps, options = {}) { skinName = skinName || 'default' // Correct old skin names if (skinName.charAt(0, 1) === '@' &amp;&amp; skinName.substr(-4) === '.xml') skinName = skinName.substr(1, skinName.length - 5) // look for the skin in the stack of realized skins if (skinName &amp;&amp; ps) { // TODO: Check also `options`! const sk = Skin.skinStack.find(s =&gt; s.name === skinName &amp;&amp; s.ps === ps) if (sk) return sk } // Locates the class of the requested Skin (or [DefaultSkin](DefaultSkin.html) // if not specified). When not found, a new one is created and registered in `skinStack` let cl = Skin.CLASSES[skinName] if (!cl) { // Process custom skin XML files const mbe = ps.project.mediaBag.getElement(skinName, false) if (mbe &amp;&amp; mbe.data) { options = Object.assign({}, options, mbe.data) options.skinId = `JClic-${skinName.replace('.xml', '')}`; } if (!ps.zip &amp;&amp; options.class === 'edu.xtec.jclic.skins.BasicSkin' &amp;&amp; options.image &amp;&amp; ps.project.mediaBag.getElement(options.image, false) &amp;&amp; ps.project.mediaBag.getElement(options.image, false).data) cl = Skin.CLASSES.custom else { Utils.log('warn', `Unknown skin class: ${skinName}`) cl = Skin.CLASSES.default } } // Build and return the requested skin return new cl(ps, skinName, options) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return media === 'default' ? (this.basicCSS + this.waitAnimCSS + this.reportsCSS) : '' } /** * Attaches a {@link JClicPlayer} object to this Skin * @param {JClicPlayer} player */ attach(player) { this.detach() if (player !== null &amp;&amp; player.skin !== null) player.skin.detach() this.player = player this.$playerCnt.prepend(player.$div) this.setSkinSizes() player.$mainContainer.append(this.$div) } /** * Sets the 'size' CSS values (max, min and compulsory) to the main `div` of this skin * @param {boolean} full - `true` when the skin is in full screen mode */ setSkinSizes(full) { const css = {}, topHeight = this.player.$topDiv.height(), nilValue = this.player.fullScreenChecked ? 'inherit' : null // When `full` no set, detect the current status with screenfull if (typeof full === 'undefined') full = screenfull &amp;&amp; screenfull.enabled &amp;&amp; screenfull.isFullscreen Utils.toCssSize(full ? '100vw' : this.ps.options.minWidth, css, 'min-width', nilValue) Utils.toCssSize(full ? '100vh' : this.ps.options.minHeight, css, 'min-height', nilValue) Utils.toCssSize(full ? '100vw' : this.ps.options.maxWidth, css, 'max-width', nilValue) Utils.toCssSize(full ? '100vh' : this.ps.options.maxHeight, css, 'max-height', nilValue) Utils.toCssSize(full ? '100vw' : this.ps.options.width, css, 'width', '100%') Utils.toCssSize(full ? '100vh' : this.ps.options.height, css, 'height', topHeight &gt; 0 ? '100%' : '100vh') this.$div.css(css) } /** * Detaches the `player` element from this Skin */ detach() { if (this.player !== null) { this.player.$div.remove() this.$div.detach() this.player = null } } /** * Updates the graphic contents of this skin. * This method should be called from {@link Skin#update} * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, it's the * whole panel. */ updateContent(dirtyRegion) { if (this.$msgBoxDivCanvas) { const ctx = this.$msgBoxDivCanvas.get(-1).getContext('2d') ctx.clearRect(0, 0, ctx.canvas.clientWidth, ctx.canvas.clientHeight) this.msgBox.update(ctx, dirtyRegion) } return super.updateContent() } /** * Resets all counters * @param {boolean} bEnabled - Leave it enabled/disabled */ resetAllCounters(bEnabled) { $.each(this.counters, (_name, counter) =&gt; { if (counter !== null) { counter.value = 0 counter.countDown = 0 counter.enabled = bEnabled counter.refreshDisplay() } }) } /** * Sets/unsets the 'wait' state * @param {boolean} status - Whether to set or unset the wait status. When `undefined`, the * `waitCursorCount` member is evaluated to decide if the wait state should be activated or deactivated. */ setWaitCursor(status) { if (typeof status === 'undefined') { if (this.$waitPanel) this.$waitPanel.css({ display: this.waitCursorCount &gt; 0 ? 'initial' : 'none' }) } else { switch (status) { case true: this.waitCursorCount++ break case false: if (--this.waitCursorCount &lt; 0) this.waitCursorCount = 0 break case 'reset': this.waitCursorCount = 0 break } this.setWaitCursor() } } /** * Sets the current value of the progress bar * @param {number} val - The current value. Should be less or equal than `max`. When -1, the progress bar will be hidden. * @param {number=} max - Optional parameter representing the maximum value. When passed, the progress bar will be displayed. */ setProgress(val, max) { if (this.$progress) { this.currentProgress = val if (val &lt; 0) this.$progress.css({ display: 'none' }) else { if (max) { this.maxProgress = max this.$progress.attr('max', max).css({ display: 'initial' }) } this.$progress.attr('value', val) } Utils.log('trace', `Progress: ${this.currentProgress}/${this.maxProgress}`) } } /** * Increments the progress bar value by the specified amount, only when the progress bar is running. * @param {number=} val - The amount to increment. When not defined, it's 1. */ incProgress(val) { if (this.currentProgress &gt;= 0) this.setProgress(this.currentProgress + (val || 1)) } /** * Shows a window with clues or help for the current activity * @param {external:jQuery} _$hlpComponent - A JQuery DOM element with the information to be shown. * It can be a string or number. When `null`, the help window (if any) must be closed. */ showHelp(_$hlpComponent) { // TODO: Implement HelpWindow } /** * Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users * @param {boolean} modal - When `true`, the dialog should be closed by any click outside the main panel * @param {object} options - This object should have two components: `main` and `bottom`, both * containing a jQuery HTML element (or array of elements) to be placed on the main and bottom panels * of the dialog. * @returns {Promise} - A Promise that will be fulfilled when the dialog is closed. */ showDlg(modal, options) { return new Promise((resolve, reject) =&gt; { this._dlgOkValue = 'ok' this._dlgCancelValue = 'cancelled' this._isModalDlg = modal this.$dlgMainPanel.children().detach() this.$dlgBottomPanel.children().detach() if (options.main) this.$dlgMainPanel.append(options.main) if (options.bottom) this.$dlgBottomPanel.append(options.bottom) this._closeDlg = resolved =&gt; { if (resolved &amp;&amp; resolve) resolve(this._dlgOkValue) else if (!resolved &amp;&amp; reject) reject(this._dlgCancelValue) this.$dlgOverlay.css({ display: 'none' }) this.enableMainButtons(true) this._closeDlg = Skin.prototype._closeDlg } this.enableMainButtons(false) this.$dlgOverlay.css({ display: 'initial' }) }) } /** * Enables or disables the `tabindex` attribute of the main buttons. Useful when a modal dialog * overlay is active, to avoid direct access to controls not related with the dialog. * @param {boolean} status - `true` to make main controls navigable, `false` otherwise */ enableMainButtons(status) { this.$playerCnt.find('button').attr('tabindex', status ? '0' : '-1') } /** * Called when the dialog must be closed, usually only by Skin members. * This method is re-defined on each call to `showDlg`, so the `resolve` and `reject` * functions can be safely called. */ _closeDlg() { // Do nothing } /** * Displays a dialog with a report of the current results achieved by the user. * @param {Reporter} reporter - The reporter system currently in use * @returns {Promise} - The Promise returned by {@link Skin.showDlg}. */ showReports(reporter) { this.$reportsPanel.html(this.$printReport(reporter)) return this.showDlg(false, { main: [this.$infoHead, this.$reportsPanel], bottom: [this.$copyBtn, this.$closeDlgBtn] }) } /** * Formats the current report in a DOM tree, ready to be placed in `$reportsPanel` * @param {Reporter} reporter - The reporter system currently in use * @returns {external:jQuery[]} - An array of jQuery objects containing the full report */ $printReport(reporter) { let result = [] if (reporter) { const $html = Utils.$HTML, report = reporter.getData(), started = new Date(report.started) result.push($('&lt;div/&gt;', { class: 'subTitle', id: this.ps.getUniqueId('ReportsLb') }).html(this.ps.getMsg('Current results'))) const $t = $('&lt;table/&gt;', { class: 'JCGlobalResults' }) $t.append( $html.doubleCell( this.ps.getMsg('Session started:'), `${started.toLocaleDateString()} ${started.toLocaleTimeString()}`), $html.doubleCell( this.ps.getMsg('Reports system:'), `${this.ps.getMsg(report.descriptionKey)} ${report.descriptionDetail}`)) if (report.userId) $t.append($html.doubleCell( this.ps.getMsg('User:'), report.userId)) else if (report.user) // SCORM user $t.append($html.doubleCell( this.ps.getMsg('User:'), report.user)) if (report.sequences &gt; 0) { if (report.sessions.length &gt; 1) $t.append($html.doubleCell( this.ps.getMsg('Projects:'), report.sessions.length)) $t.append( $html.doubleCell( this.ps.getMsg('Sequences:'), report.sequences), $html.doubleCell( this.ps.getMsg('Activities done:'), report.activitiesDone), $html.doubleCell( this.ps.getMsg('Activities played at least once:'), `${report.playedOnce}/${report.reportable} (${Utils.getPercent(report.ratioPlayed / 100)})`)) if (report.activitiesDone &gt; 0) { $t.append($html.doubleCell( this.ps.getMsg('Activities solved:'), `${report.activitiesSolved} (${Utils.getPercent(report.ratioSolved / 100)})`)) if (report.actScore &gt; 0) $t.append( $html.doubleCell( this.ps.getMsg('Partial score:'), `${Utils.getPercent(report.partialScore / 100)} ${this.ps.getMsg('(out of played activities)')}`), $html.doubleCell( this.ps.getMsg('Global score:'), `${Utils.getPercent(report.globalScore / 100)} ${this.ps.getMsg('(out of all project activities)')}`)) $t.append( $html.doubleCell( this.ps.getMsg('Total time in activities:'), Utils.getHMStime(report.time * 1000)), $html.doubleCell( this.ps.getMsg('Actions done:'), report.actions)) } result.push($t) report.sessions.forEach(sr =&gt; { if (sr.sequences.length &gt; 0) { const $t = $('&lt;table/&gt;', { class: 'JCDetailed' }) result.push($('&lt;p/&gt;').html(report.sessions.length &gt; 1 ? `${this.ps.getMsg('Project')} ${sr.projectName}` : '')) $t.append($('&lt;thead/&gt;').append($('&lt;tr/&gt;').append( $html.th(this.ps.getMsg('sequence')), $html.th(this.ps.getMsg('activity')), $html.th(this.ps.getMsg('OK')), $html.th(this.ps.getMsg('actions')), $html.th(this.ps.getMsg('score')), $html.th(this.ps.getMsg('time'))))) sr.sequences.forEach(seq =&gt; { let $tr = $('&lt;tr/&gt;').append($('&lt;td/&gt;', { rowspan: seq.activities.length }).html(seq.sequence)) seq.activities.forEach(act =&gt; { if (act.closed) { $tr.append($html.td(act.name)) $tr.append(act.solved ? $html.td(this.ps.getMsg('YES'), 'ok') : $html.td(this.ps.getMsg('NO'), 'no')) $tr.append($html.td(act.actions)) $tr.append($html.td(Utils.getPercent(act.precision / 100))) $tr.append($html.td(Utils.getHMStime(act.time * 1000))) } else { $tr.append($html.td(act.name, 'incomplete')) for (let r = 0; r &lt; 4; r++) $tr.append($html.td('-', 'incomplete')) } $t.append($tr) $tr = $('&lt;tr/&gt;') }) }) $t.append($('&lt;tr/&gt;').append( $html.td(this.ps.getMsg('Total:')), $html.td(`${sr.played} (${Utils.getPercent(sr.ratioPlayed / 100)})`), $html.td(`${sr.solved} (${Utils.getPercent(sr.ratioSolved / 100)})`), $html.td(sr.actions), $html.td(Utils.getPercent(sr.score / 100)), $html.td(Utils.getHMStime(sr.time * 1000)))) result.push($t) } }, this) } else result.push($('&lt;p/&gt;').html(this.ps.getMsg('No activities done!'))) } return result } /** * Enables or disables a specific counter * @param {string} counter - Which counter * @param {boolean} bEnabled - When `true`, the counter will be enabled. */ enableCounter(counter, bEnabled) { if (this.counters[counter]) this.counters[counter].setEnabled(bEnabled) } /** * Main method used to build the content of the skin. Resizes and places internal objects. */ doLayout() { // Resize player this.player.doLayout() // Build ths canvas at the end of current thread, thus avoiding // invalid sizes due to incomplete layout of DOM objects if (this.$msgBoxDiv) window.setTimeout(() =&gt; { // Temporary remove canvas to let div get its natural size: if (this.$msgBoxDivCanvas) this.$msgBoxDivCanvas.remove() // Get current size of message box div without canvas const msgWidth = this.$msgBoxDiv.outerWidth(), msgHeight = this.$msgBoxDiv.outerHeight() // Replace existing canvas if size has changed if (this.$msgBoxDivCanvas === null || this.msgBox.dim.widht !== msgWidth || this.msgBox.dim.height !== msgHeight) { this.$msgBoxDivCanvas = $(`&lt;canvas width=&quot;${msgWidth}&quot; height=&quot;${msgHeight}&quot;/&gt;`) this.msgBox.setBounds(new AWT.Rectangle(0, 0, msgWidth + 1, msgHeight)) this.msgBox.buildAccessibleElement(this.$msgBoxDivCanvas, this.$msgBoxDiv) } // restore canvas this.$msgBoxDiv.append(this.$msgBoxDivCanvas) this.updateContent() }, 0) } /** * adjusts the skin to the dimension of its `$div` container * @returns {AWT.Dimension} the new dimension of the skin */ fit() { this.doLayout() return new AWT.Dimension(this.$div.width(), this.$div.height()) } /** * Sets or unsets the player in fullscreen mode, when allowed, using the * {@link https://github.com/sindresorhus/screenfull.js|screenfull.js} library. * @param {boolean} status - Whether to set or unset the player in fullscreen mode. When `null` * or `undefined`, the status toggles between fullscreen and windowed modes. * @returns {boolean} `true` if the request was successful, `false` otherwise. */ setScreenFull(status) { if (screenfull &amp;&amp; screenfull.enabled &amp;&amp; ( status === true &amp;&amp; !screenfull.isFullscreen || status === false &amp;&amp; !screenfull.isFullScreen || status !== true &amp;&amp; status !== false)) { // Save current value of fullScreen for later use const full = screenfull.isFullscreen screenfull.toggle(this.player.$mainContainer.get(-1)) this.player.fullScreenChecked = true // Firefox don't updates `document.fullscreenElement` in real time, so use the saved value instead this.setSkinSizes(!full) } } /** * Method used to notify this skin that a specific action has changed its enabled/disabled status * @param {AWT.Action} _action - The action originating the change event */ actionStatusChanged(act) { if (act.name &amp;&amp; this.buttons[act.name]) this.setEnabled(this.buttons[act.name], act.enabled) } /** * Enables or disables an object * @param {external:jQuery} $object - A JQuery DOM element * @override * @param {boolean} enabled */ setEnabled($object, enabled) { if ($object &amp;&amp; enabled) $object.removeAttr('disabled') else if ($object) $object.attr('disabled', true) } /** * Compares two Skin objects * @param {Skin} skin - The Skin to compare against this * @returns {boolean} - `true` if both skins are equivalent. */ equals(skin) { return skin &amp;&amp; this.name === skin.name &amp;&amp; this.ps === skin.ps } /** * Gets the {@link ActiveBox} used to display the main messages of activities * @returns {ActiveBox} */ getMsgBox() { // Method to be implemented by subclasses return null } } /** * Collection of realized __Skin__ objects. * @type {Skin[]} */ Skin.skinStack = [] /** * Collection of skin style sheets already registered on the current document * @type {Object} */ Skin.rootStyles = {} /** * Counter used to label root nodes with unique IDs * @type {Number} */ Skin.lastId = 1 /** * List of classes derived from Skin. It should be filled by real skin classes at declaration time. * @type {object} */ Skin.CLASSES = {} Object.assign(Skin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name Skin#skinId * @type {string} */ skinId: 'JClicBasicSkin', /** * The HTML div object used by this Skin * @name Skin#$div * @type {external:jQuery} */ $div: null, /** * The HTML div where JClic Player will be placed * @name Skin#$playerCnt * @type {external:jQuery} */ $playerCnt: null, /** * Current name of the skin. * @name Skin#name * @type {string} */ name: 'default', /** * Specific options of this skin * @name Skin#options * @type {object} */ options: {}, /** * Name of the XML file used to retrieve the skin settings. * @name Skin#fileName * @type {string} */ fileName: '', /** * Waiting panel, displayed while loading resources. * @name Skin#$waitPanel * @type {external:jQuery} */ $waitPanel: null, /** * Graphic indicator of loading progress * @name Skin#$progress * @type {external:jQuery} */ $progress: null, /** * Current value of the progress bar * @name Skin#currentProgress * @type {number} */ currentProgress: -1, /** * Max value of the progress bar * @name Skin#maxProgress * @type {number} */ maxProgress: 0, /** * The box used to display the main messages of JClic activities * @name DefaultSkin#msgBox * @type {ActiveBox} */ msgBox: null, /** * The `div` DOM object where `msgBox` is located * @name DefaultSkin#$msgBoxDiv * @type {external:jQuery} */ $msgBoxDiv: null, /* * An HTML `canvas` object created in `$msgBoxDiv` * @name DefaultSkin#$msgBoxDivCanvas * @type {external:jQuery} */ $msgBoxDivCanvas: null, /** * Main panel used to display modal and non-modal dialogs * @name Skin#$dlgOverlay * @type {external:jQuery} */ $dlgOverlay: null, /** * Main panel of dialogs, where relevant information must be placed * @name Skin#$dlgMainPanel * @type {external:jQuery} */ $dlgMainPanel: null, /** * Bottom panel of dialogs, used for action buttons * @name Skin#$dlgBottomPanel * @type {external:jQuery} */ $dlgBottomPanel: null, /** * Element usually used as header in dialogs, with JClic logo, name and version * @name Skin#infoHead * @type {external:jQuery} */ $infoHead: null, /** * Iconic button used to copy content to clipboard * @name Skin#$copyBtn * @type {external:jQuery} */ $copyBtn: null, /** * Iconic button used to close the dialog * @name Skin#$closeDlgBtn * @type {external:jQuery} */ $closeDlgBtn: null, /** * OK dialog button * @name Skin#$okDlgBtn * @type {external:jQuery} */ $okDlgBtn: null, /** * Cancel dialog button * @name Skin#$cancelDlgBtn * @type {external:jQuery} */ $cancelDlgBtn: null, /** * Value to be returned by the dialog promise when the presented task is fulfilled * @name Skin#_dlgOkValue * @type {Object} */ _dlgOkValue: null, /** * Value to be returned in user-canceled dialogs * @name Skin#_dlgCancelValue * @type {Object} */ _dlgCancelValue: null, /** * Flag indicating if the current dialog is modal or not * @name Skin#_isModalDlg * @type {boolean} */ _isModalDlg: false, /** * Div inside {@link $dlgOverlay} where JClicPlayer will place the information to be shown * @name Skin#$reportsPanel * @type {external:jQuery} */ $reportsPanel: null, /** * The basic collection of buttons that most skins implement * @name Skin#buttons * @type {object} */ buttons: { 'prev': null, 'next': null, 'return': null, 'reset': null, 'info': null, 'help': null, 'audio': null, 'about': null, 'fullscreen': null, 'close': null }, /** * The collection of counters * @name Skin#counters * @type {object} */ counters: { 'actions': null, 'score': null, 'time': null }, /** * The collection of message areas * @name Skin#msgArea * @type {object} */ msgArea: { 'main': null, 'aux': null, 'mem': null }, /** * The {@link JClicPlayer} object associated to this skin * @name Skin#player * @type {JClicPlayer} */ player: null, /** * The {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html|PlayStation} * used by this Skin. Usually, the same as `player` * @name Skin#ps * @type {PlayStation} */ ps: null, /** * Counter to be incremented or decremented as `waitCursor` is requested or released. * @name Skin#waitCursorCount * @type {number} */ waitCursorCount: 0, // // Buttons and other graphical resources used by this skin. // /** * Main styles * @name Skin#basicCSS * @type {string} */ basicCSS: '\\ .ID {width:100%; background-color:#3F51B5; display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}\\ .ID .JClicPlayerCnt {background-color:lightblue; margin:18px; -webkit-flex-grow:1; flex-grow:1; position:relative;}\\ .ID .JClicPlayerCnt &gt; div {position:absolute; width:100%; height:100%;}\\ .ID button:not(.StockBtn) {background:transparent; padding:0; border:none;}\\ .ID .unselectableText {-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select: none;}\\ .ID .progressBar {width: 250px}', /** * Waiting screen styles * @name Skin#waitAnimCSS * @type {string} */ waitAnimCSS: '\\ .ID .waitPanel {display:-webkit-flex; display:flex; width:100%; height:100%; -webkit-justify-content:center; justify-content:center; -webkit-align-items:center; align-items:center;}\\ .ID .animImgBox {position:relative; width:300px; height:300px; max-width:80%; max-height:80%;}\\ .ID .animImgBox svg {position:absolute; width:100%; height:100%; animation-iteration-count:infinite; animation-timing-function:linear;}\\ .ID #waitImgBig {animation-duration:0.8s; animation-name:rotate-right;}\\ @keyframes rotate-right {from {transform:rotate(0);} to {transform:rotate(1turn);}}\\ .ID #waitImgSmall {animation-duration:0.6s; animation-name:rotate-left;}\\ @keyframes rotate-left {from {transform:rotate(0);} to {transform:rotate(-1turn);}}', /** * Animated image displayed while loading resources * Based on Ryan Allen's [svg-spinner](http://articles.dappergentlemen.com/2015/01/13/svg-spinner/) * @name Skin#waitImgBig * @type {string} */ waitImgBig: '&lt;svg id=&quot;waitImgBig&quot; viewBox=&quot;0 0 80 80&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path fill=&quot;#3F51B5&quot; d=&quot;m 65.99,40.19 c -0.42,5.33 7.80,4.94 8.11,0.20 C 74.50,34.37 66.35,8.59 42.92,\\ 7.98 15.90,7.29 9.96,29.50 9.94,39.41 15.33,-1.66 68.61,7.048 65.99,40.19 Z&quot; /&gt;\\ &lt;/svg&gt;', /** * Animated image displayed while loading resources (small) * @name Skin#waitImgSmall * @type {string} */ waitImgSmall: '&lt;svg id=&quot;waitImgSmall&quot; viewBox=&quot;0 0 80 80&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path fill=&quot;#3F51B5&quot;d=&quot;m 57.00,39.43 c -0.28,-3.53 5.16,-3.27 5.37,-0.13 0.26,3.99 -5.13,21.04 -20.63,\\ 21.44 C 23.85,61.19 19.93,46.50 19.92,39.94 23.48,67.11 58.73,61.35 57.00,39.43 Z&quot;/&gt;\\ &lt;/svg&gt;', /** * Reports screen styles * @name Skin#reportsCSS * @type {string} */ reportsCSS: '\\ .ID .dlgDiv {background-color:#efefef; color:#757575; font-family:Roboto,sans-serif; font-size:10pt; line-height:normal;}\\ .ID .dlgDiv a,a:visited,a:active,a:hover {text-decoration:none; color:inherit;}\\ .ID .dlgMainPanel {padding:1em 2em; max-height:calc(100vh - 8em); max-width:calc(100vw - 2em); min-width:20em; overflow:auto;}\\ .ID .dlgMainPanel .headTitle {font-size:2.5em; font-weight:bold; margin:auto;}\\ .ID .dlgMainPanel .subTitle {font-size:1.4em; font-weight:bold; margin-bottom:0.5em;}\\ .ID .dlgMainPanel p {font-size:1.1em; margin-bottom:0.5em;}\\ .ID .dlgMainPanel table {table-layout:fixed; width:40em; margin:0.5em 0 1.7em 0; border-collapse:collapse;}\\ .ID .dlgMainPanel select {min-width:20em; font-size:1.2em; font-family:Roboto,sans-serif; color:#757575;}\\ .ID .dlgMainPanel input {margin-left:1em; font-size:1.2em; font-family:Roboto,sans-serif; border-color:lightgray;}\\ .ID .infoHead {padding:1em 0em 0.5em;}\\ .ID .JCGlobalResults td {padding:0.4em; border-bottom:1px solid #b6b6b6;}\\ .ID .JCGlobalResults td:first-child {font-weight:600; width:14em;}\\ .ID .JCDetailed td,th {border-bottom:1px solid #b6b6b6; padding:0.3em 0.4em; vertical-align:top; text-align:center; overflow:hidden; text-overflow:ellipsis;}\\ .ID .JCDetailed thead {font-weight:600;}\\ .ID .JCDetailed th:first-child {width:7em;}\\ .ID .JCDetailed th:nth-last-child(4) {width:4em;}\\ .ID .JCDetailed th:nth-last-child(-n+3) {width:4.1em; text-align:right;}\\ .ID .JCDetailed td:nth-last-child(-n+3) {text-align:right;}\\ .ID .JCDetailed .ok {color:#4bae4f; font-weight:600;}\\ .ID .JCDetailed .no {color:#f34235; font-weight:600;}\\ .ID .JCDetailed tr:last-child {font-weight:bold;}\\ .ID .JCDetailed .incomplete {font-style:italic;}\\ .ID .dlgBottomPanel {height:3.5em; background-color:white; padding:0.5em; font-weight:bold; text-align:right; border-top:1px solid #eee; position:relative;}\\ .ID .dlgBottomPanel .smallPopup {background-color:#222; color:#ddd; padding:0.5em; font-size:0.9em; position:absolute; right:6em; top:1em;}\\ .ID .dlgBottomPanel button {display:inline-block; padding:10px; cursor:pointer; line-height:0;}\\ .ID .dlgBottomPanel button:hover {background-color:#eee; border-radius:80px;}\\ .ID .dlgBottomPanel button:active {background-color:#b3e5fc;}', // // Icons used in buttons: // /** * Icon for 'close dialog' button * @name Skin#closeDialogIcon * @type {string} */ closeDialogIcon: '&lt;svg fill=&quot;#757575&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z&quot;/&gt;\\ &lt;/svg&gt;', /** * Icon for 'ok' button * @name Skin#okDialogIcon * @type {string} */ okDialogIcon: '&lt;svg fill=&quot;#757575&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z&quot;/&gt;\\ &lt;/svg&gt;', /** * Icon for 'copy' button * @name Skin#copyIcon * @type {string} */ copyIcon: '&lt;svg fill=&quot;#757575&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;36&quot; height=&quot;36&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;\\ &lt;path d=&quot;M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z&quot;/&gt;\\ &lt;/svg&gt;', /** * JClic logo * @name Skin#appLogo * @type {string} */ appLogo: '&lt;svg viewBox=&quot;0 0 64 64&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;g transform=&quot;matrix(.02081 0 0-.02081 5 62.33)&quot;&gt;\\ &lt;path d=&quot;m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1999 519 3 11 999-266 999-266z&quot; fill=&quot;none&quot; stroke=&quot;#9d6329&quot; stroke-linejoin=&quot;round&quot; stroke-linecap=&quot;round&quot; stroke-width=&quot;180&quot; stroke-miterlimit=&quot;3.864&quot;/&gt;\\ &lt;path d=&quot;m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1998 519 3 11 999-266 999-266&quot; fill=&quot;#f89c0e&quot;/&gt;\\ &lt;path d=&quot;m357 2850l1000-268-267-992-1000 266 267 994z&quot; fill=&quot;none&quot; stroke=&quot;#86882b&quot; stroke-linejoin=&quot;round&quot; stroke-linecap=&quot;round&quot; stroke-width=&quot;180&quot; stroke-miterlimit=&quot;3.864&quot;/&gt;\\n\\ &lt;path d=&quot;m357 2850l1000-268-267-992-1000 266 267 994&quot; fill=&quot;#d9e70c&quot;/&gt;\\n\\ &lt;/g&gt;&lt;/svg&gt;', /** * Screen sizes (width and height) below which will half sized elements will be used * @name DefaultSkin#halfMedia * @type {object} */ halfMedia: { width: 376, height: 282 }, /** * Screen sizes (width and height) below which will two-thirds sized elements will be used * @name DefaultSkin#twoThirdsMedia * @type {object} */ twoThirdsMedia: { width: 420, height: 315 }, }) return Skin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_BoxBase.js.html":{"id":"boxes_BoxBase.js.html","title":"Source: boxes/BoxBase.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/BoxBase.js /** * File : boxes/BoxBase.js * Created : 12/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot;, &quot;../AWT&quot; ], function ($, Utils, AWT) { const defaultValues = Utils.settings.BoxBase /** * This class contains all the main visual attributes needed to draw {@link AbstractBox} objects: * background and foreground colors, gradients, colors for special states (inactive, alternative, * disabled...), margins, fonts, border strokes, etc. * * Objects derived from {@link AbstractBox} can have inheritance: boxes that act as &quot;containers&quot; * of other boxes (like {@link BoxBag}). Most of the attributes of `BoxBase` can be `null`, * meaning that the value of the ancestor -or the default value if the box has no ancestors- must * be used. * @exports BoxBase * @class */ class BoxBase { /** * BoxBase constructor * @param {BoxBase=} parent - Another BoxBase object used to determine the value of properties not * locally set. */ constructor(parent) { this.parent = parent || null } /** * Loads the BoxBase settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { // // Read attributes Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'shadow': case 'transparent': this[name] = Utils.getBoolean(val, false) break case 'margin': this[name] = Number(val) break case 'borderStroke': this.borderStroke = new AWT.Stroke(Number(val)) break case 'markerStroke': this.markerStroke = new AWT.Stroke(Number(val)) break } }) // // Read inner elements $xml.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'font': this.font = (new AWT.Font()).setProperties($node) break case 'gradient': this.bgGradient = new AWT.Gradient().setProperties($node) break case 'color': this.textColor = Utils.checkColor($node.attr('foreground'), this.textColor) this.backColor = Utils.checkColor($node.attr('background'), this.backColor) this.shadowColor = Utils.checkColor($node.attr('shadow'), this.shadowColor) this.inactiveColor = Utils.checkColor($node.attr('inactive'), this.inactiveColor) this.alternativeColor = Utils.checkColor($node.attr('alternative'), this.alternativeColor) this.borderColor = Utils.checkColor($node.attr('border'), this.borderColor) break } }) return this } /** * Gets the value of the specified property, scanning down to parents and prototype if not defined. * @param {string} property - The property to retrieve * @returns {*} - The object or value associated to this property */ get(property) { if (this.hasOwnProperty(property) || this.parent === null) return this[property] else return this.parent.get(property) } /** * Sets the value of a specific property. * @param {string} property - The property name. * @param {*} value - Depends on the type of property */ set(property, value) { this[property] = value return this } /** * Gets the value of the specified property, scanning down to parents if not defined, and returning * always an own property (not from prototype) * @param {string} property - The property to retrieve * @returns {*} - The object associated to this property */ getOwn(property) { if (this.hasOwnProperty(property)) return this[property] else if (this.parent !== null) return this.parent.getOwn(property) else { if (typeof this[property] === 'object') this[property] = Utils.cloneObject(BoxBase.prototype[property]) else this[property] = BoxBase.prototype[property] } return this[property] } /** * Gets the properties defined in this BoxBase as a collection of CSS attributes * @param {object=} css - An optional set of initial CSS properties * @param {boolean} inactive - When `true`, get CSS attributes for an inactive cell * @param {boolean} inverse - When `true`, get CSS attributes for an inverse cell * @param {boolean} alternative - When `true`, get CSS attributes for an alternative cell * @returns {object} */ getCSS(css, inactive, inverse, alternative) { // (css will be created by [AWT.Font.toCss](AWT.html) if null or undefined) const font = this.get('font') css = font.toCss(css) css['color'] = inverse ? this.get('backColor') : alternative ? this.get('alternativeColor') : this.get('textColor') const transparent = this.get('transparent') css['background-color'] = transparent ? 'transparent' : inactive ? this.get('inactiveColor') : inverse ? this.get('textColor') : this.get('backColor') const bgGradient = this.get('bgGradient') if (bgGradient &amp;&amp; !transparent) css['background-image'] = bgGradient.getCss() if (this.shadow === 1) { const delta = Math.max(1, Math.round(font.size / 10)) const color = this.get('shadowColor') css['text-shadow'] = `${delta}px ${delta}px 3px ${color}` } return css } /** * This utility method computes the width and height of text lines rendered on an HTML * __canvas__ element, reducing the font size of the BoxBase as needed when they exceed the maximum * width and/or height. * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context used to draw the text. * @param {string} text - The text to drawn. * @param {number} maxWidth - Maximum width * @param {number} maxHeight - Maximum height * @returns {object[]} - An array of objects representing lines of text. Each object has a `text` * member with the text displayed in the line, and a `size` member with the line {@link AWT.Dimension} */ prepareText(ctx, text, maxWidth, maxHeight) { const result = [], font = this.get('font'), height = font.getHeight() let totalHeight = 0 // divide the text in lines const lines = text.trim().split('\\n') ctx.font = font.cssFont() for (let l = 0; l &lt; lines.length; l++) { let line = lines[l].trim() let width = ctx.measureText(line).width if (width &gt; maxWidth) { // retain the last string offset that was inside maxWidth let lastOK = 0, lastOKWidth = 0 for (let p = 0; p &lt; line.length; p++) { // Find next separator if (Utils.isSeparator(line[p])) { const w = ctx.measureText(line.substr(0, p).trim()).width if (w &gt; maxWidth) break lastOK = p lastOKWidth = w } } if (lastOK &gt; 0) { // Add a new line with the tail of the line lines.splice(l + 1, 0, line.substr(lastOK + 1).trim()) // Adjust the current line line = lines[l] = line.substr(0, lastOK).trim() width = lastOKWidth } else { // No solution found. Try resizing down the font. if (font.size &gt; defaultValues.MIN_FONT_SIZE) { this.getOwn('font').zoom(-1) return this.prepareText(ctx, text, maxWidth, maxHeight) } } } // Add the line and the calculated dimension to `result` result.push({ text: line, size: new AWT.Dimension(width, height) }) totalHeight += height if (totalHeight &gt; maxHeight &amp;&amp; font.size &gt; defaultValues.MIN_FONT_SIZE) { // Max height exceeded. Try resizing down the font this.getOwn('font').zoom(-1) return this.prepareText(ctx, text, maxWidth, maxHeight) } } return result } } Object.assign(BoxBase.prototype, { /** * The parent BoxBase object * @name BoxBase#parent * @type {BoxBase} */ parent: null, /** * Default values * @name BoxBase#defaultValues * @type {object} */ default: defaultValues, /** * Font size can be dynamically reduced to fit the available space if any element using this * `BoxBase` requests it. When this happen, this field contains the real font currently used * to draw text. * @name BoxBase#font * @type {AWT.Font} */ font: new AWT.Font(), /** * The current font size of this BoxBase. Can be dynamically adjusted when drawing. * @name BoxBase#dynFontSize * @type {number} */ dynFontSize: 0, /** * Counts the number of times the `dynFontSize` has been reset. This is useful to avoid excessive * recursive loops searching the optimal font size. * @name BoxBase#resetFontCounter * @type {number} */ resetFontCounter: 0, /** * The background color * @name BoxBase#backColor * @type {string} */ backColor: defaultValues.BACK_COLOR, /** * The background gradient. Default is `null`. * @name BoxBase#bgGradient * @type {AWT.Gradient} */ bgGradient: null, /** * The color used to write text. * @name BoxBase#textColor * @type {string} */ textColor: defaultValues.TEXT_COLOR, /** * The color used to draw a shadow below regular text. * @name BoxBase#shadowColor * @type {string} */ shadowColor: defaultValues.SHADOW_COLOR, /** * The color of the border. * @name BoxBase#borderColor * @type {string} */ borderColor: defaultValues.BORDER_COLOR, /** * The color used to draw text when a cell is in `inactive` state. * @name BoxBase#inactiveColor * @type {string} */ inactiveColor: defaultValues.INACTIVE_COLOR, /** * The color used to draw text when a cell is in `alternative` state. * @name BoxBase#alternativeColor * @type {string} */ alternativeColor: defaultValues.ALTERNATIVE_COLOR, /** * Whether the text should have a shadow or not * @name BoxBase#shadow * @type {boolean} */ shadow: false, /** * Whether the cell's background (and its hosted component, if any) should be transparent * @name BoxBase#transparent * @type {boolean} */ transparent: false, /** * Wheter the cell's background should be painted or not. This property has no effect on * hosted components. * @name BoxBase#dontFill * @type {boolean} */ dontFill: false, /** * The margin to respect between text elements and the limits of the cell or other elements. * @name BoxBase#textMargin * @type {number} */ textMargin: defaultValues.AC_MARGIN, /** * The stroke used to draw the border. * @name BoxBase#borderStroke * @type {AWT.Stroke} */ borderStroke: new AWT.Stroke(defaultValues.BORDER_STROKE_WIDTH), /** * The stroke used to draw a border around marked cells. * @name BoxBase#markerStroke * @type {AWT.Stroke} */ markerStroke: new AWT.Stroke(defaultValues.MARKER_STROKE_WIDTH), }) BoxBase.prototype.defaultBoxBase = new BoxBase() return BoxBase }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_BoxConnector.js.html":{"id":"boxes_BoxConnector.js.html","title":"Source: boxes/BoxConnector.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/BoxConnector.js /** * File : boxes/BoxConnector.js * Created : 26/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;../AWT&quot; ], function (AWT) { /** * BoxConnector allows users to visually connect two {@link ActiveBox} objects of an * {@link ActivityPanel}. There are two modes of operation: * * - Drawing a line between an origin point (usually the point where the user clicks on) and a * destination point. * - Dragging the ActiveBox from one location to another. * * The connecting lines can have arrowheads at its endings. * @exports BoxConnector * @class */ class BoxConnector { /** * BoxConnector constructor * @param {AWT.Container} parent - The Container to which this BoxConnector belongs * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context where to draw */ constructor(parent, ctx) { this.parent = parent this.ctx = ctx this.dim = new AWT.Dimension(ctx.canvas.width, ctx.canvas.height) this.origin = new AWT.Point() this.dest = new AWT.Point() this.relativePos = new AWT.Point() } /** * Displaces the ending point of the connector * @param {number} dx - Displacement on the X axis * @param {number} dy - Displacement on the Y axis */ moveBy(dx, dy) { this.moveTo(AWT.Point(this.dest.x + dx, this.dest.y + dy)) } /** * Moves the ending point of the connector to a new position * @param {AWT.Point} pt - The new position * @param {boolean} forcePaint - When `true`, forces the repaint of all the area also if there is * no movement at all. */ moveTo(pt, forcePaint) { if (!this.active || !forcePaint &amp;&amp; this.dest.equals(pt)) return // Restore the background if (this.bgRect) { if (this.bgImg) { this.ctx.putImageData( this.bgImg, 0, 0, this.bgRect.pos.x, this.bgRect.pos.y, this.bgRect.dim.width, this.bgRect.dim.height) } else if (this.parent) this.parent.updateContent() } this.dest.moveTo(pt) // Calculate the bounds of the invalidated area after the move: // Start with the origin point or box area const pt1 = new AWT.Point(this.origin.x - this.relativePos.x, this.origin.y - this.relativePos.y) this.bgRect = new AWT.Rectangle(pt1, this.bx ? this.bx.dim : new AWT.Dimension()) // Add the destination point or box area const pt2 = new AWT.Point(pt.x - this.relativePos.x, pt.y - this.relativePos.y) this.bgRect.add(new AWT.Rectangle(pt2, this.bx ? this.bx.dim : new AWT.Dimension())) // Add a generous border around the area this.bgRect.grow(10, 10) if (this.bx !== null) { // Move the ActiveBox this.bx.moveTo(new AWT.Point(pt.x - this.relativePos.x, pt.y - this.relativePos.y)) this.bx.setTemporaryHidden(false) this.bx.update(this.ctx, null) this.bx.setTemporaryHidden(true) } else { // Draw the connecting line this.drawLine() this.linePainted = true } } /** * Starts the box connector operation * @param {AWT.Point} pt - Starting point * @param {ActiveBox=} box - Passed only when the BoxConnector runs in drag&amp;drop mode */ begin(pt, box) { if (this.active) this.end() this.origin.moveTo(pt) this.dest.moveTo(pt) this.linePainted = false this.active = true if (box) { // Remember what box will be moved, hide it from the panel and repaint all this.bx = box this.relativePos.moveTo(pt.x - box.pos.x, pt.y - box.pos.y) this.bx.setFocused(true) this.bx.setTemporaryHidden(true) this.linePainted = false this.parent.invalidate().update() } // Save the full image currently displayed on the panel (with the box hidden) try { this.bgImg = this.ctx.getImageData(0, 0, this.dim.width, this.dim.height) } catch (ex) { // Avoid &quot;canvas tainted by cross-origin data&quot; errors // Setting bgImg to null is less efficient, but works this.bgImg = null } this.bgRect = null // Make a first movement to make the box appear if (box) this.moveTo(pt, true) } /** * Finalizes the operation of this box connector until a new call to `begin` */ end() { if (!this.active) return this.active = false this.linePainted = false this.bgRect = null this.bgImg = null if (this.bx) { // Restore the original position and attributes of the box this.bx.setFocused(false) this.bx.moveTo(this.origin.x - this.relativePos.x, this.origin.y - this.relativePos.y) this.bx.setTemporaryHidden(false) this.bx = null this.relativePos.moveTo(0, 0) } // Repaint all this.ctx.clearRect(0, 0, this.dim.width, this.dim.height) this.parent.invalidate().update() } /** * Strokes a line between `origin` and `dest`, optionally ended with an arrowhead. */ drawLine() { if (this.compositeOp !== DEFAULT_COMPOSITE_OP) { this.ctx.strokeStyle = this.xorColor this.ctx.globalCompositeOperation = this.compositeOp } else this.ctx.strokeStyle = this.lineColor this.ctx.lineWidth = this.lineWidth this.ctx.beginPath() this.ctx.moveTo(this.origin.x, this.origin.y) this.ctx.lineTo(this.dest.x, this.dest.y) this.ctx.stroke() if (this.arrow) { // Draws the arrow head const beta = Math.atan2(this.origin.x - this.dest.x, this.dest.x - this.origin.x), arp = new AWT.Point(this.dest.x - this.arrowLength * Math.cos(beta + this.arrowAngle), this.dest.y + this.arrowLength * Math.sin(beta + this.arrowAngle)) this.ctx.beginPath() this.ctx.moveTo(this.dest.x, this.dest.y) this.ctx.lineTo(arp.x, arp.y) this.ctx.stroke() arp.moveTo(this.dest.x - this.arrowLength * Math.cos(beta - this.arrowAngle), this.dest.y + this.arrowLength * Math.sin(beta - this.arrowAngle)) this.ctx.beginPath() this.ctx.moveTo(this.dest.x, this.dest.y) this.ctx.lineTo(arp.x, arp.y) this.ctx.stroke() } if (this.compositeOp !== DEFAULT_COMPOSITE_OP) { // reset default settings this.ctx.globalCompositeOperation = DEFAULT_COMPOSITE_OP } } } const DEFAULT_COMPOSITE_OP = 'source-over' Object.assign(BoxConnector.prototype, { /** * The background image, saved and redrawn on each movement * @name BoxConnector#bgImg * @type {external:HTMLImageElement} */ bgImg: null, /** * The rectangle of {@link ActivityPanel} saved in `bgImg` * @name BoxConnector#bgRect * @type {AWT.Rectangle} */ bgRect: null, /** * Initial position of the connector * @name BoxConnector#origin * @type {AWT.Point} */ origin: null, /** * Current (while moving) and final position of the connector * @name BoxConnector#dest * @type {AWT.Point} */ dest: null, /** * When `true`, the connector must end on arrowhead * @name BoxConnector#arrow * @type {boolean} */ arrow: false, /** * `true` while the connector is active * @name BoxConnector#active * @type {boolean} */ active: false, /** * `true` while the line has already been painted (used for XOR expressions) * @name BoxConnector#linePainted * @type {boolean} */ linePainted: false, /** * The arrowhead length (in pixels) * @name BoxConnector#arrowLength * @type {number} */ arrowLength: 10, /** * The arrowhead angle * @name BoxConnector#arrowAngle * @type {number} */ arrowAngle: Math.PI / 6, /** * The main color used in XOR operations * @name BoxConnector#lineColor * @type {string} */ lineColor: 'black', /** * The complementary color used in XOR operations * @name BoxConnector#xorColor * @type {string} */ xorColor: 'white', /** * The global composite operator used when drawing in XOR mode. Default is &quot;difference&quot;. * For a list of possible values see: * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation} * @name BoxConnector#compositeOp * @type {string} */ compositeOp: 'difference', /** * The default {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation composite operator} * (&quot;source-over&quot;). * @name BoxConnector#DEFAULT_COMPOSITE_OP * @static * @type {string} */ DEFAULT_COMPOSITE_OP: DEFAULT_COMPOSITE_OP, /** * Relative position of point B regarding A * @name BoxConnector#relativePos * @type {AWT.Point} */ relativePos: null, /** * The ActiveBox to connect or move * @name BoxConnector#bx * @type {ActiveBox} */ bx: null, /** * The Graphics context where the BoxConnector will paint * @name BoxConnector#ctx * @type {external:CanvasRenderingContext2D} */ ctx: null, /** * The dimension of the HTML canvas where to draw * @name BoxConnector#dim * @type {AWT.Dimension} */ dim: null, /** * The container to which this connector belongs * @name BoxConnector#parent * @type {AWT.Container} */ parent: null, /** * Width of the connector line * @name BoxConnector#lineWidth * @type {number} */ lineWidth: 1.5, }) return BoxConnector }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"shapers_ClassicJigSaw.js.html":{"id":"shapers_ClassicJigSaw.js.html","title":"Source: shapers/ClassicJigSaw.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: shapers/ClassicJigSaw.js /** * File : shapers/ClassicJigSaw.js * Created : 25/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Shaper&quot;, &quot;./JigSaw&quot;, &quot;../AWT&quot; ], function ($, Shaper, JigSaw, AWT) { /** * This is the classic {@link JigSaw} {@link Shaper} used in puzzle toys, where teeth and slots * are shaped by Bézier curves. * @exports ClassicJigSaw * @class * @extends JigSaw */ class ClassicJigSaw extends JigSaw { /** * ClassicJigSaw constructor * @param {number} nx - Number of columns * @param {number} ny - Number of rows */ constructor(nx, ny) { super(nx, ny) } /** * Overrides {@link JigSaw#hLine} * @override * @param {AWT.Path} sd - The Path to which the line will be added * @param {number} type - Type of tooth: 0 is flat (no tooth), 1 means tooth up, and 2 means tooth down * @param {number} x - X coordinate of the starting point * @param {number} y - Y coordinate of the starting point * @param {number} w - Width of the piece * @param {number} h - Height of the piece * @param {boolean} inv - The line must be drawn right to left */ hLine(sd, type, x, y, w, h, inv) { const kx = inv ? -1 : 1, ky = type === 1 ? 1 : -1 if (type === 0) // Flat line sd.addStroke(new AWT.PathStroke('L', [x + w * kx, y])) else { const x0 = x + (w - w * this.baseWidthFactor) / 2 * kx, wb = w * (this.baseWidthFactor / 12) * kx // Approximation to the tooth: sd.addStroke(new AWT.PathStroke('L', [x0, y])) // This is the tooth: const hb = h * this.toothHeightFactor * ky / 8 sd.addStroke(new AWT.PathStroke('B', [x0 + 4 * wb, y, x0 + 6 * wb, y - hb, x0 + 4 * wb, y - 3 * hb])) sd.addStroke(new AWT.PathStroke('B', [x0 + 2 * wb, y - 5 * hb, x0 + 10 * wb, y - 5 * hb, x0 + 8 * wb, y - 3 * hb])) sd.addStroke(new AWT.PathStroke('B', [x0 + 6 * wb, y - 1 * hb, x0 + 8 * wb, y, x0 + 12 * wb, y])) // Draw the remaining line sd.addStroke(new AWT.PathStroke('L', [x + w * kx, y])) } } /** * Overrides {@link JigSaw#vLine} * @override * @param {AWT.Path} sd - The Path to which the line will be added * @param {number} type - Type of tooth: 0 is flat (no tooth), 1 means tooth right, and 2 means tooth left * @param {number} x - X coordinate of the starting point * @param {number} y - Y coordinate of the starting point * @param {number} w - Width of the piece * @param {number} h - Height of the piece * @param {boolean} inv - The line must be drawn bottom to top */ vLine(sd, type, x, y, w, h, inv) { const ky = inv ? -1 : 1, kx = type === 1 ? 1 : -1 if (type === 0) // Flat line sd.addStroke(new AWT.PathStroke('L', [x, y + h * ky])) else { const y0 = y + (h - h * this.baseWidthFactor) / 2 * ky, hb = h * this.baseWidthFactor / 12 * ky // Approximation to the tooth: sd.addStroke(new AWT.PathStroke('L', [x, y0])) // This is the tooth: const wb = w * this.toothHeightFactor * kx / 8 sd.addStroke(new AWT.PathStroke('B', [x, y0 + 4 * hb, x - wb, y0 + 6 * hb, x - 3 * wb, y0 + 4 * hb])) sd.addStroke(new AWT.PathStroke('B', [x - 5 * wb, y0 + 2 * hb, x - 5 * wb, y0 + 10 * hb, x - 3 * wb, y0 + 8 * hb])) sd.addStroke(new AWT.PathStroke('B', [x - 1 * wb, y0 + 6 * hb, x, y0 + 8 * hb, x, y0 + 12 * hb])) // Draw the remaining line sd.addStroke(new AWT.PathStroke('L', [x, y + h * ky])) } } } Object.assign(ClassicJigSaw.prototype, { /** * ClassicJigSaw needs a biggest base width * @name ClassicJigSaw#baseWidthFactor * @type {number} */ baseWidthFactor: 3.0 / 4, /** * ClassicJigSaw needs a biggest base height factor * @name ClassicJigSaw#toothHeightFactor * @type {number} */ toothHeightFactor: 3.0 / 5, }) // Register this class in the list of known shapers Shaper.CLASSES['@ClassicJigSaw'] = ClassicJigSaw return ClassicJigSaw }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"shapers_JigSaw.js.html":{"id":"shapers_JigSaw.js.html","title":"Source: shapers/JigSaw.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: shapers/JigSaw.js /** * File : shapers/JigSaw.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Shaper&quot;, &quot;../AWT&quot; ], function ($, Shaper, AWT) { /** * * This {@link Shaper} returns a set of rectangular shapes with teeth and slots that fit between them. * @exports JigSaw * @class * @extends Shaper */ class JigSaw extends Shaper { /** * JigSaw constructor * @param {number} nx - Number of columns * @param {number} ny - Number of rows */ constructor(nx, ny) { super(nx, ny) } /** * Builds the jigsaw shapes based on the number of rows and columns * @override */ buildShapes() { // Create two two-dimension arrays for storing the type of horizontal and vertical lines let hLineType = [], vLineType = [] for (let i = 0; i &lt;= this.nRows; i++) { hLineType[i] = [] vLineType[i] = [] } for (let row = 0; row &lt; this.nRows; row++) { for (let col = 0; col &lt; this.nCols; col++) { hLineType[row][col] = row === 0 ? 0 : 1 + (this.randomLines ? Math.round(Math.random() * 9) : row + col) % 2 vLineType[row][col] = col === 0 ? 0 : 1 + (this.randomLines ? Math.round(Math.random() * 9) : col + row + 1) % 2 if (col === this.nCols - 1) vLineType[row][col + 1] = 0 if (row === this.nRows - 1) hLineType[row + 1][col] = 0 } } const w = 1 / this.nCols, h = 1 / this.nRows for (let r = 0; r &lt; this.nRows; r++) { for (let c = 0; c &lt; this.nCols; c++) { const x = w * c const y = h * r const sd = new AWT.Path([new AWT.PathStroke('M', [x, y])]) this.hLine(sd, hLineType[r][c], x + 0, y + 0, w, h, false) this.vLine(sd, vLineType[r][c + 1], x + w, y + 0, w, h, false) this.hLine(sd, hLineType[r + 1][c], x + w, y + h, w, h, true) this.vLine(sd, vLineType[r][c], x + 0, y + h, w, h, true) sd.addStroke(new AWT.PathStroke('X')) sd.calcEnclosingRect() // Save the Path in `shapeData` this.shapeData[r * this.nCols + c] = sd } } this.initiated = true } /** * Adds an horizontal line to the provided path * @param {AWT.Path} sd - The Path to which the line will be added * @param {number} type - Type of tooth: 0 is flat (no tooth), 1 means tooth up, and 2 means tooth down * @param {number} x - X coordinate of the starting point * @param {number} y - Y coordinate of the starting point * @param {number} w - Width of the piece * @param {number} h - Height of the piece * @param {boolean} inv - The line must be drawn right to left */ hLine(sd, type, x, y, w, h, inv) { const kx = inv ? -1 : 1, ky = type === 1 ? 1 : -1 if (type === 0) // Flat line sd.addStroke(new AWT.PathStroke('L', [x + w * kx, y])) else { const x0 = x + (w - w * this.baseWidthFactor) / 2 * kx const wb = w * this.baseWidthFactor * kx // Approximation to the tooth: sd.addStroke(new AWT.PathStroke('L', [x0, y])) // The tooth: const hb = h * this.toothHeightFactor * ky sd.addStroke(new AWT.PathStroke('L', [x0, y + hb])) sd.addStroke(new AWT.PathStroke('L', [x0 + wb, y + hb])) sd.addStroke(new AWT.PathStroke('L', [x0 + wb, y])) // Draw the remaining of the line sd.addStroke(new AWT.PathStroke('L', [x + w * kx, y])) } } /** * * Adds a vertical line to the provided path * @param {AWT.Path} sd - The Path to which the line will be added * @param {number} type - Type of tooth: 0 is flat (no tooth), 1 means tooth right, and 2 means tooth left * @param {number} x - X coordinate of the starting point * @param {number} y - Y coordinate of the starting point * @param {number} w - Width of the piece * @param {number} h - Height of the piece * @param {boolean} inv - The line must be drawn bottom to top */ vLine(sd, type, x, y, w, h, inv) { const ky = inv ? -1 : 1, kx = type === 1 ? 1 : -1 if (type === 0) { // Flat line sd.addStroke(new AWT.PathStroke('L', [x, y + h * ky])) } else { const y0 = y + (h - h * this.baseWidthFactor) / 2 * ky const hb = h * this.baseWidthFactor * ky // Approximation to the tooth: sd.addStroke(new AWT.PathStroke('L', [x, y0])) // The tooth: const wb = w * this.toothHeightFactor * kx sd.addStroke(new AWT.PathStroke('L', [x + wb, y0])) sd.addStroke(new AWT.PathStroke('L', [x + wb, y0 + hb])) sd.addStroke(new AWT.PathStroke('L', [x, y0 + hb])) // Draw the remaining line sd.addStroke(new AWT.PathStroke('L', [x, y + h * ky])) } } } // Register this class in the list of known shapers Shaper.CLASSES['@JigSaw'] = JigSaw return JigSaw }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_Complete.js.html":{"id":"activities_text_Complete.js.html","title":"Source: activities/text/Complete.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/Complete.js /** * File : activities/text/Complete.js * Created : 20/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;./TextActivityBase&quot; ], function ($, Activity, TextActivityBase) { /** * This type of text activity suggests users to complete a given text, without any help on where to * write the missing words or phrases. * @exports Complete * @class * @extends TextActivityBase */ class Complete extends TextActivityBase { /** * Complete constructor * @param {JClicProject} project - The project to which this activity belongs */ constructor(project) { super(project) } } /** * The {@link TextActivityBasePanel} where {@link Complete} activities are played. * @class * @extends TextActivityBasePanel */ class CompletePanel extends TextActivityBase.Panel { /** * CompletePanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Creates a target DOM element for the provided target. * @override * @param {TextActivityDocument.TextTarget} _target - The target related to the DOM object to be created * @param {external:jQuery} _$span - - An initial DOM object (usually a `span`) that can be used * to store the target, or replaced by another type of object. * @returns {external:jQuery} - The jQuery DOM element loaded with the target data. */ $createTargetElement(_target, _$span) { // Targets are always hidden in this type of activities return null } /** * Called when the activity starts playing * @override */ startActivity() { super.startActivity() this.$div.find('.JClicTextDocument').attr('contenteditable', 'true').attr('spellcheck', 'false') } /** * Evaluates all the targets in this panel. This method is usually called from the `Check` button. * @override * @returns {boolean} - `true` when all targets are OK, `false` otherwise. */ evaluatePanel() { // TODO: Mark errors! const currentText = this.$div.find('.JClicTextDocument').text().trim(), originalText = this.act.document.getRawText(), ok = this.act.ev.checkText(currentText, originalText) this.ps.reportNewAction(this.act, 'WRITE', currentText, originalText, ok, this.targets.length) if (ok) { this.finishActivity(true) return true } else { this.playEvent('finishedError') } return false } /** * Ordinary ending of the activity, usually called form `processEvent` * @param {boolean} result - `true` if the activity was successfully completed, `false` otherwise */ finishActivity(result) { this.$div.find('.JClicTextDocument').attr('contenteditable', 'false') return super.finishActivity(result) } } /** * Panel class associated to this type of activity: {@link CompletePanel} * @type {class} */ Complete.Panel = CompletePanel // Register class in Activity.prototype Activity.CLASSES['@text.Complete'] = Complete return Complete }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_TextActivityBase.js.html":{"id":"activities_text_TextActivityBase.js.html","title":"Source: activities/text/TextActivityBase.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/TextActivityBase.js /** * File : activities/text/TextActivityBase.js * Created : 16/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, setTimeout, clearTimeout */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../AWT&quot;, &quot;../../boxes/ActiveBox&quot;, &quot;../../boxes/BoxBase&quot; ], function ($, Activity, AWT, ActiveBox, BoxBase) { /** * This class and its visual component {@link TextActivityBasePanel} are the base for text * activities like {@link FillInBlanks}, {@link IdentifyText}, {@link OrderText} and {@link Complete}. * @exports TextActivityBase * @class * @extends Activity */ class TextActivityBase extends Activity { /** * TextActivityBase constructor * @param {JClicProject} project - The project to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity * @override * @returns {number} */ getMinNumActions() { return this.document ? this.document.numTargets : 0 } } Object.assign(TextActivityBase.prototype, { /** * This is the object used to evaluate user's answers in text activities. * @name TextActivityBase#ev * @type {Evaluator} */ ev: null, /** * This is the label used by text activities for the `check` button, when present. * @name TextActivityBase#checkButtonText * @type {string} */ checkButtonText: null, /** * When `true`, a text will be shown before the beginning of the activity. * @name TextActivityBase#prevScreen * @type {boolean} */ prevScreen: false, /** * Optional text to be shown before the beginning of the activity. When `null`, this text is * the main document. * @name TextActivityBase#prevScreenText * @type {string} */ prevScreenText: null, /** * The style of the optional text to be shown before the beginning of the activity. * @name TextActivityBase#prevScreenStyle * @type {BoxBase} */ prevScreenStyle: null, /** * Maximum amount of time for showing the previous document. * @name TextActivityBase#prevScreenMaxTime * @type {number} */ prevScreenMaxTime: -1, }) /** * The {@link ActivityPanel} where text activities (based on {@link TextActivityBase}) are played. * @class * @extends ActivityPanel */ class TextActivityBasePanel extends Activity.Panel { /** * TextActivityBasePanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) this.targets = [] } /** * Fills a jQuery DOM element (usually a 'div') with the specified {@link TextActivityDocument}. * @param {external:jQuery} $div - The jQuery DOM object to be filled with the document. * @param {TextActivityDocument} doc - The document */ setDocContent($div, doc) { // Empties the container of any pre-existing content // and sets the background and other attributes indicated by the main // style of the document. // It also sets the 'overflow' CSS attribute to 'auto', which will display a // vertical scroll bar when needed $div.empty().css(doc.style['default'].css).css({ display: 'flex', 'flex-direction': 'column' }) const $scroller = $('&lt;div/&gt;').css({ 'flex-grow': 1, overflow: 'auto' }) const $doc = $('&lt;div/&gt;', { class: 'JClicTextDocument' }).css({ 'padding': 4 }).css(doc.style['default'].css) let currentPStyle = null const popupSpans = [] // // Process paragraphs doc.p.forEach(p =&gt; { // Creates a new DOM paragraph const $p = $('&lt;p/&gt;').css({ margin: 0 }) let empty = true // Check if the paragraph has its own style if (p.style) { currentPStyle = doc.style[p.style].css $p.css(currentPStyle) } else currentPStyle = null // Check if the paragraph has a special alignment if (p.Alignment) { const al = Number(p.Alignment) $p.css({ 'text-align': al === 1 ? 'center' : al === 2 ? 'right' : 'left' }) } // Process the paragraph elements p.elements.forEach(element =&gt; { // Elements will be inserted as 'span' DOM elements, or as simple text if they don't // have specific attributes. let $span = $('&lt;span/&gt;') switch (element.objectType) { case 'text': if (element.attr) { // Text uses a specific style and/or individual attributes $span.html(element.text) if (element.attr.style) { $span.css(doc.style[element.attr.style].css) } if (element.attr.css) { $span.css(element.attr.css) } $p.append($span) } else { $p.append(element.text) } break case 'cell': // Create a new ActiveBox based on this ActiveBoxContent const box = ActiveBox.createCell($span.css({ position: 'relative' }), element) $span.css({ 'display': 'inline-block', 'vertical-align': 'middle' }) if (element.mediaContent) { $span.on('click', event =&gt; { event.preventDefault() this.ps.stopMedia(1) box.playMedia(this.ps) return false }) } $p.append($span) break case 'target': if (this.showingPrevScreen) { $span.text(element.text) $p.append($span) break } const target = element let $popup = null // Process target popups if (target.infoMode !== 'no_info' &amp;&amp; target.popupContent) { $popup = $('&lt;span/&gt;').css({ position: 'absolute', 'padding-top': '2pt', display: 'none' }) // Create a new ActiveBox based on popupContent const popupBox = ActiveBox.createCell($popup, target.popupContent) if (target.popupContent.mediaContent) { $popup.on('click', event =&gt; { event.preventDefault() this.ps.stopMedia(1) if (popupBox) popupBox.playMedia(this.ps) else if (target.popupContent.mediaContent) this.ps.playMedia(target.popupContent.mediaContent) return false }) } target.$popup = $popup // Save for later setting of top-margin popupSpans.push({ p: $p, span: $popup, box: popupBox }) } $span = this.$createTargetElement(target, $span) target.num = this.targets.length target.pos = target.num this.targets.push(target) if ($span) { $span.css(doc.style['default'].css) if (currentPStyle) $span.css(currentPStyle) if (this.targetsMarked) { if (target.attr) { // Default style name for targets is 'target' if (!target.attr.style) target.attr.style = 'target' $span.css(doc.style[target.attr.style].css) // Check if target has specific attributes if (target.attr.css) $span.css(target.attr.css) } else if (doc.style['target']) $span.css(doc.style['target'].css) } else { target.targetStatus = 'HIDDEN' } // Catch on-demand popups with `F1`, cancel with `Escape` if ($popup !== null &amp;&amp; target.infoMode === 'onDemand') { $span.keydown(ev =&gt; { if (ev.key === target.popupKey) { ev.preventDefault() this.showPopup($popup, target.popupMaxTime, target.popupDelay) } else if (ev.key === 'Escape') { ev.preventDefault() this.showPopup(null) } }) } } if ($popup &amp;&amp; $span) { if (target.isList) $p.append($span).append($popup) else $p.append($popup).append($span) } else if ($span) $p.append($span) target.$p = $p break } empty = false }) if (empty) // Don't leave paragraphs empty $p.html('&amp;nbsp;') // Adds the paragraph to the DOM element $doc.append($p) }) $div.append($scroller.append($doc)) if (this.act.checkButtonText &amp;&amp; !this.showingPrevScreen) { this.$checkButton = $('&lt;button/&gt;', { class: 'StockBtn' }) .html(this.act.checkButtonText) .css({ width: '100%', 'flex-shrink': 0 }) .on('click', () =&gt; this.evaluatePanel()) $div.append(this.$checkButton) } // Place popups below its target baseline popupSpans.forEach(pspan =&gt; pspan.span.css({ 'margin-top': pspan.p.css('font-size') })) // Init Evaluator if (this.act.ev) this.act.ev.init(this.act.project.settings.locales) return $div } /** * Creates a target DOM element. * This method can be overridden in subclasses to create specific types of targets. * @param {TextActivityDocument.TextTarget} target - The target related to the DOM object to be created * @param {external:jQuery} $span - - An initial DOM object (usually a `span`) that can be used * to store the target, or replaced by another type of object. * @returns {external:jQuery} - The jQuery DOM element loaded with the target data. */ $createTargetElement(target, $span) { $span.text(target.text) target.$span = $span return $span } /** * Basic initialization procedure, common to all activities. * @override */ initActivity() { if (this.act.prevScreen) this.preInitActivity() else this.startActivity() } /** * Called when the activity starts playing * @override */ startActivity() { super.initActivity() this.setAndPlayMsg('initial', 'start') this.setDocContent(this.$div, this.act.document) this.playing = true } /** * Called when the text activity has a 'previous screen' information to be shown before the * activity starts */ preInitActivity() { if (!this.act.prevScreen) return const prevScreenEnd = () =&gt; { this.showingPrevScreen = false this.$div.unbind('click') if (this.prevScreenTimer) { clearTimeout(this.prevScreenTimer) this.prevScreenTimer = null } this.startActivity() return true } this.showingPrevScreen = true this.$div.empty() if (!this.act.prevScreenText) { this.setDocContent(this.$div, this.act.document) } else { if (!this.act.prevScreenStyle) this.act.prevScreenStyle = new BoxBase() this.$div.css(this.act.prevScreenStyle.getCSS()).css('overflow', 'auto') const $html = $('&lt;div/&gt;', { class: 'JClicTextDocument' }) .css({ 'padding': 4 }) .css(this.act.prevScreenStyle.getCSS()) .append(this.act.prevScreenText) this.$div.append($html) } this.enableCounters(true, false, false) this.ps.setCounterValue('time', 0) this.ps.setMsg(this.act.messages['previous']) if (this.act.prevScreenMaxTime &gt; 0) { this.ps.setCountDown('time', this.act.prevScreenMaxTime) this.prevScreenTimer = setTimeout(prevScreenEnd, this.act.prevScreenMaxTime * 1000) } this.$div.on('click', prevScreenEnd) this.ps.playMsg() } /** * Called when the user clicks on the check button * @returns {boolean} - `true` when the panel is OK, `false` otherwise. */ evaluatePanel() { this.finishActivity(true) return true } /** * Ordinary ending of the activity, usually called form `processEvent` * @override * @param {boolean} result - `true` if the activity was successfully completed, `false` otherwise */ finishActivity(result) { if (this.$checkButton) this.$checkButton.prop('disabled', true) this.targets.forEach(t =&gt; { if (t.$comboList) t.$comboList.attr('disabled', true) }) this.showPopup(null) super.finishActivity(result) } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} _event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(_event) { return this.playing } /** * @param {external:jQuery} $popup - The popup to display, or _null _ to just hide the current popup * @param {number} maxTime - The maximum time to mantain the popup on screen, in seconds * @param {number} waitTime - When set, indicates the number of seconds to wait before show the popup */ showPopup($popup, maxTime, waitTime) { // Hide current popup if (this.$currentPopup) { this.$currentPopup.css({ display: 'none' }) this.$currentPopup = null if (this.currentPopupTimer) { window.clearTimeout(this.currentPopupTimer) this.currentPopupTimer = 0 } } // Clear popupWaitTimer if (this.popupWaitTimer) { window.clearTimeout(this.popupWaitTimer) this.popupWaitTimer = 0 } // Prepare popup timer if (waitTime) { this.popupWaitTimer = window.setTimeout(() =&gt; { this.showPopup($popup, maxTime) }, waitTime * 1000) return } if ($popup) { $popup.css({ display: '' }) $popup.click() this.$currentPopup = $popup if (maxTime) { this.currentPopupTimer = window.setTimeout(() =&gt; { $popup.css({ display: 'none' }) if (this.$currentPopup === $popup) { this.$currentPopup = null this.currentPopupTimer = 0 } }, maxTime * 1000) } } } } Object.assign(TextActivityBasePanel.prototype, { /** * Array of jQuery DOM elements (usually of type 'span') containing the targets of this activity * @name TextActivityBasePanel#targets * @type {external:jQuery[]} */ targets: null, /** * Flag indicating if targets must be visually marked at the beginning of the activity. * Should be `true` except for {@link IdentifyText} activities. * @name TextActivityBasePanel#targetsMarked * @type {boolean} */ targetsMarked: true, /** * The button used to check the activity, only when `Activity.checkButtonText` is not null * @name TextActivityBasePanel#$checkButton * @type {external:jQuery}*/ $checkButton: null, /** * System timer used to close the previous document when act.maxTime is reached. * @name TextActivityBasePanel#prevScreenTimer * @type {number} */ prevScreenTimer: null, /** * The popup currently been displayed * @name TextActivityBasePanel#$currentPopup * @type {external:jQuery} */ $currentPopup: null, /** * A timer controlling the time the current popup will be displayed * @name TextActivityBasePanel#currentPopupTimer * @type {number} */ currentPopupTimer: 0, /** * A timer prepared to display a popup after a while * @name TextActivityBasePanel#popupWaitTimer * @type {number} */ popupWaitTimer: 0, }) /** * Panel class associated to this type of activity: {@link TextActivityBasePanel} * @type {class} */ TextActivityBase.Panel = TextActivityBasePanel return TextActivityBase }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_associations_ComplexAssociation.js.html":{"id":"activities_associations_ComplexAssociation.js.html","title":"Source: activities/associations/ComplexAssociation.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/associations/ComplexAssociation.js /** * File : activities/associations/ComplexAssociation.js * Created : 03/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../AWT&quot;, &quot;./SimpleAssociation&quot; ], function ($, Activity, AWT, SimpleAssociation) { /** * This is a special case of {@link SimpleAssociation} where the elements of the 'secondary' panel * can have zero, one or more associated elements in the 'primary' panel. * @exports ComplexAssociation * @class * @extends SimpleAssociation */ class ComplexAssociation extends SimpleAssociation { /** * ComplexAssociation constructor * @param {JClicProject} project - The JClic project to which this activity belongs */ constructor(project) { super(project) this.useIdAss = true } /** * Loads this object settings from an XML element * @override * @param {external:jQuery} $xml - The jQuery XML element to parse */ setProperties($xml) { super.setProperties($xml) this.abc['primary'].avoidAllIdsNull(this.abc['secondary'].getNumCells()) } /** * Retrieves the minimum number of actions needed to solve this activity. * @override * @returns {number} */ getMinNumActions() { if (this.invAss) return this.abc['secondary'].getNumCells() else return this.abc['primary'].getNumCells() - this.nonAssignedCells } } Object.assign(ComplexAssociation.prototype, { /** * Number of unassigned cells * @name ComplexAssociation#nonAssignedCells * @type {number} */ nonAssignedCells: 0, /** * Uses cell's `idAss` field to check if pairings match * @name ComplexAssociation#useIdAss * @type {boolean} */ useIdAss: false, }) /** * The {@link ActivityPanel} where {@link ComplexAssociation} activities are played. * @class * @extends SimpleAssociationPanel */ class ComplexAssociationPanel extends SimpleAssociation.Panel { /** * ComplexAssociationPanel prototype * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { super.buildVisualComponents() const abcA = this.act.abc['primary'], abcB = this.act.abc['secondary'] if (abcA &amp;&amp; abcB) { if (this.act.invAss) this.invAssCheck = Array(abcB.getNumCells()).fill(false) this.bgA.setDefaultIdAss() this.act.nonAssignedCells = 0 this.bgA.cells.forEach(bx =&gt; { if (bx.idAss === -1) { this.act.nonAssignedCells++ bx.switchToAlt(this.ps) } }) } } /** * Checks if all inverse associations are done * @returns {boolean} */ checkInvAss() { if (!this.act.invAss || !this.invAssCheck) return false return this.invAssCheck.every(chk =&gt; chk) } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.bc &amp;&amp; this.playing) { // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated // and two [ActiveBox](ActiveBox.html) pointers used for the [BoxConnector](BoxConnector.html) // `origin` and `dest` points. let p = null, bx1, bx2 // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') { p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() } else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` let x = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } let // Flag for tracking `mouseup` events up = false, // Flag for assuring that only one media plays per event (avoid event sounds overlapping // cell's media sounds) m = false, // Flag for tracking clicks on the background of grid A clickOnBg0 = false, // Array to be filled with actions to be executed at the end of event processing delayedActions = [] switch (event.type) { case 'touchcancel': // Canvel movement if (this.bc.active) this.bc.end() break case 'mouseup': // Don't consider drag moves below 3 pixels. Can be a &quot;trembling click&quot; if (this.bc.active &amp;&amp; p.distanceTo(this.bc.origin) &lt;= 3) { break } up = true /* falls through */ case 'touchend': case 'touchstart': case 'mousedown': if (!this.bc.active) { // New pairing starts // // Pairings can never start with a `mouseup` event if (up) break this.ps.stopMedia(1) // Determine if click was done on panel A or panel B bx1 = this.bgA ? this.bgA.findActiveBox(p) : null bx2 = this.bgB ? this.bgB.findActiveBox(p) : null if (bx1 &amp;&amp; bx1.idAss !== -1 &amp;&amp; (!this.act.useOrder || bx1.idOrder === this.currentItem) || !this.act.useOrder &amp;&amp; bx2) { // Start the [BoxConnector](BoxConnector.html) if (this.act.dragCells) this.bc.begin(p, bx1 || bx2) else this.bc.begin(p) // Play cell media or event sound m = m || (bx1 || bx2).playMedia(this.ps, delayedActions) if (!m) this.playEvent('click') } // Move the focus to the opposite accessible group let bg = bx1 ? this.bgA : this.bgB if (bg &amp;&amp; bg.$accessibleDiv) { bg = bx1 ? this.bgB : this.bgA if (bg &amp;&amp; bg.$accessibleDiv) bg.$accessibleDiv.focus() } } else { this.ps.stopMedia(1) // Pairing completed // // Find the active boxes behind `bc.origin` and `p` const origin = this.bc.origin this.bc.end() bx1 = this.bgA ? this.bgA.findActiveBox(origin) : null if (bx1) { bx2 = this.bgB ? this.bgB.findActiveBox(p) : null } else { bx2 = this.bgB ? this.bgB.findActiveBox(origin) : null if (bx2) { bx1 = this.bgA ? this.bgA.findActiveBox(p) : null clickOnBg0 = true } } // Check if the pairing was correct if (bx1 &amp;&amp; bx2 &amp;&amp; bx1.idAss !== -1 &amp;&amp; !bx2.isInactive() &amp;&amp; this.act.abc['secondary']) { const src = bx1.getDescription(), dest = bx2.getDescription(), matchingDest = this.act.abc['secondary'].getActiveBoxContent(bx1.idAss) let ok = false if (bx1.idAss === bx2.idOrder || bx2.getContent().isEquivalent(matchingDest, true)) { // Pairing was OK. Play media and disable involved cells ok = true bx1.idAss = -1 if (this.act.abc['solvedPrimary']) { bx1.switchToAlt(this.ps) m = m || bx1.playMedia(this.ps, delayedActions) } else { if (clickOnBg0) m = m || bx1.playMedia(this.ps, delayedActions) else m = m || bx2.playMedia(this.ps, delayedActions) bx1.clear() } if (this.act.invAss) { this.invAssCheck[bx2.idOrder] = true bx2.clear() } if (this.act.useOrder &amp;&amp; this.bgA) // Load next item this.currentItem = this.bgA.getNextItem(this.currentItem) } // Check results and notify action if (this.bgA) { const cellsPlaced = this.bgA.countCellsWithIdAss(-1) this.ps.reportNewAction(this.act, 'MATCH', src, dest, ok, cellsPlaced - this.act.nonAssignedCells) // End activity or play event sound if (ok &amp;&amp; (this.checkInvAss() || cellsPlaced === this.bgA.getNumCells())) this.finishActivity(true) else if (!m) this.playEvent(ok ? 'actionOk' : 'actionError') } } else if (this.bgB &amp;&amp; (clickOnBg0 &amp;&amp; this.bgA &amp;&amp; this.bgA.contains(p) || !clickOnBg0 &amp;&amp; this.bgB.contains(p))) { // click on grid, out of cell const srcOut = bx1 ? bx1.getDescription() : bx2 ? bx2.getDescription() : 'null' this.ps.reportNewAction(this.act, 'MATCH', srcOut, 'null', false, this.bgB.countCellsWithIdAss(-1)) this.playEvent('actionError') } this.update() // Move the focus to the `source` accessible group if (this.bgA &amp;&amp; this.bgA.$accessibleDiv) this.bgA.$accessibleDiv.focus() } break case 'mousemove': case 'touchmove': this.bc.moveTo(p) break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(ComplexAssociationPanel.prototype, { /** * Array for storing checked associations * @name ComplexAssociation#Panel#invAssCheck * @type {boolean[]} */ invAssCheck: null, }) /** * Panel class associated to this type of activity: {@link ComplexAssociationPanel} * @type {class} */ ComplexAssociation.Panel = ComplexAssociationPanel // Register class in Activity.prototype Activity.CLASSES['@associations.ComplexAssociation'] = ComplexAssociation return ComplexAssociation }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_associations_SimpleAssociation.js.html":{"id":"activities_associations_SimpleAssociation.js.html","title":"Source: activities/associations/SimpleAssociation.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/associations/SimpleAssociation.js /** * File : activities/associations/SimpleAssociation.js * Created : 02/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, BoxConnector, AWT) { /** * This class of {@link Activity} uses two panels (`primary` and `secondary`) formed by * {@link ActiveBox} objects filled with data stored in {@link ActiveBagContent} repositories. * * Both panels have the same number of elements, associated one-to-one. A third {@link ActiveBagContent} * can be used as alternative content, that will be revealed in the `primary` panel as the pairings * of its cells are solved. * @exports SimpleAssociation * @class * @extends Activity */ class SimpleAssociation extends Activity { /** * SimpleAssociation constructor * @param {JClicProject} project - The JClic project to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity. * @override * @returns {number} */ getMinNumActions() { return this.abc.primary.getNumCells() } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * When `true`, the activity must always be scrambled * @override * @returns {boolean} */ shuffleAlways() { return true } /** * Whether the activity allows the user to request help. * @override * @returns {boolean} */ helpSolutionAllowed() { return true } } Object.assign(SimpleAssociation.prototype, { /** * When `true`, the cell's `idAss` field will be used to check pairing matches. * @name SimpleAssociation#useIdAss * @type {boolean} */ useIdAss: false, }) /** * The {@link ActivityPanel} where {@link SimpleAssociation} activities are played. * @class * @extends ActivityPanel */ class SimpleAssociationPanel extends Activity.Panel { /** * SimpleAssociationPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Performs miscellaneous cleaning operations * @override */ clear() { if (this.bgA) { this.bgA.end() this.bgA = null } if (this.bgB) { this.bgB.end() this.bgB = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abcA = this.act.abc['primary'], abcB = this.act.abc['secondary'], solved = this.act.abc['solvedPrimary'] if (abcA &amp;&amp; abcB) { if (abcA.imgName) { abcA.setImgContent(this.act.project.mediaBag, null, false) if (abcA.animatedGifFile &amp;&amp; !abcA.shaper.rectangularShapes &amp;&amp; !this.act.scramble['primary']) this.$animatedBg = $('&lt;span/&gt;').css({ 'background-image': `url(${abcA.animatedGifFile})`, 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (abcB.imgName) { abcB.setImgContent(this.act.project.mediaBag, null, false) if (abcB.animatedGifFile &amp;&amp; !abcB.shaper.rectangularShapes &amp;&amp; !this.act.scramble['secondary']) this.$animatedBgB = $('&lt;span/&gt;').css({ 'background-image': `url(${abcB.animatedGifFile})`, 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (solved &amp;&amp; solved.imgName) solved.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) { const contentKit = [abcA, abcB] if (solved) contentKit.push(solved) this.act.acp.generateContent(abcA.nch, abcA.ncw, contentKit, false) } this.bgA = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abcA) this.bgB = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abcB) this.bgA.setContent(abcA, solved ? solved : null) if (this.$animatedBg) this.bgA.setCellAttr('tmpTrans', true) this.bgB.setContent(abcB) if (this.$animatedBgB) this.bgB.setCellAttr('tmpTrans', true) this.bgA.accessibleText = this.ps.getMsg('source') this.bgB.accessibleText = this.ps.getMsg('target') this.bgA.setVisible(true) this.bgB.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bgA &amp;&amp; this.bgB) { // Scramble cells const scrambleArray = [] if (this.act.scramble.primary) scrambleArray.push(this.bgA) if (this.act.scramble.secondary) scrambleArray.push(this.bgB) if (scrambleArray.length &gt; 0) { this.shuffle(scrambleArray, true, true) } if (this.useOrder) this.currentItem = this.bgA.getNextItem(-1) this.invalidate().update() this.setAndPlayMsg('initial', 'start') this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bgA &amp;&amp; this.bgB &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bgA.update(ctx, dirtyRegion) this.bgB.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return !this.bgA || !this.bgB || this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutDouble(preferredMaxSize, this.bgA, this.bgB, this.act.boxGridPos, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bgA || this.bgB) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) // Resize animated gif background A if (this.$animatedBg &amp;&amp; this.bgA) { const bgRect = this.bgA.getBounds() this.$animatedBg.css({ left: bgRect.pos.x, top: bgRect.pos.y, width: bgRect.dim.width + 'px', height: bgRect.dim.height + 'px', 'background-size': `${bgRect.dim.width}px ${bgRect.dim.height}px` }) } // Resize animated gif background B if (this.$animatedBgB &amp;&amp; this.bgB) { const bgRectB = this.bgB.getBounds() this.$animatedBgB.css({ left: bgRectB.pos.x, top: bgRectB.pos.y, width: bgRectB.dim.width + 'px', height: bgRectB.dim.height + 'px', 'background-size': `${bgRectB.dim.width}px ${bgRectB.dim.height}px` }) } this.$div.append(this.$canvas) // Create a [BoxConnector](BoxConnector.html) and attach it to the canvas context this.bc = new BoxConnector(this, this.$canvas.get(-1).getContext('2d')) // Repaint all this.invalidate().update() } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas) { super.buildAccessibleComponents() if (this.bgA) this.bgA.buildAccessibleElements(this.$canvas, this.$div, 'mousedown') if (this.bgB) this.bgB.buildAccessibleElements(this.$canvas, this.$div, 'mousedown') } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.bc &amp;&amp; this.playing) { // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated // and two [ActiveBox](ActiveBox.html) pointers used for the [BoxConnector](BoxConnector.html) // `origin` and `dest` points. let p = null, bx1, bx2 // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } // Flag for tracking `mouseup` events let up = false, // Flag for assuring that only one media plays per event (avoid event sounds overlapping // cell's media sounds) m = false, // Flag for tracking clicks on the background of grid A clickOnBg0 = false, // Array to be filled with actions to be executed at the end of event processing delayedActions = [] switch (event.type) { case 'touchcancel': // Canvel movement if (this.bc.active) this.bc.end() break case 'mouseup': // Don't consider drag moves below 3 pixels. Can be a &quot;trembling click&quot; if (this.bc.active &amp;&amp; p.distanceTo(this.bc.origin) &lt;= 3) { break } up = true /* falls through */ case 'touchend': case 'touchstart': case 'mousedown': if (!this.bc.active) { // A new pairing starts // // Pairings can never start with a `mouseup` event if (up) break this.ps.stopMedia(1) // // Determine if click was done on panel A or panel B bx1 = this.bgA ? this.bgA.findActiveBox(p) : null bx2 = this.bgB ? this.bgB.findActiveBox(p) : null if (bx1 &amp;&amp; (!this.act.useOrder || bx1.idOrder === this.currentItem) || !this.act.useOrder &amp;&amp; bx2 &amp;&amp; bx2.idAss !== -1) { // Start the [BoxConnector](BoxConnector.html) if (this.act.dragCells) this.bc.begin(p, bx1 || bx2) else this.bc.begin(p) // Play cell media or event sound m = m || (bx1 || bx2).playMedia(this.ps, delayedActions) if (!m) this.playEvent('click') // Move the focus to the opposite accessible group let bg = bx1 ? this.bgA : this.bgB if (bg &amp;&amp; bg.$accessibleDiv) { bg = bx1 ? this.bgB : this.bgA if (bg &amp;&amp; bg.$accessibleDiv) bg.$accessibleDiv.focus() } } } else { this.ps.stopMedia(1) // Pairing completed // // Find the active boxes behind `bc.origin` and `p` const origin = this.bc.origin this.bc.end() bx1 = this.bgA ? this.bgA.findActiveBox(origin) : null if (bx1) { bx2 = this.bgB ? this.bgB.findActiveBox(p) : null } else { bx2 = this.bgB ? this.bgB.findActiveBox(origin) : null if (bx2) { bx1 = this.bgA ? this.bgA.findActiveBox(p) : null clickOnBg0 = true } } // Check if the pairing was correct if (bx1 &amp;&amp; bx2 &amp;&amp; bx1.idAss !== -1 &amp;&amp; bx2.idAss !== -1 &amp;&amp; this.act.abc['secondary']) { let ok = false const src = bx1.getDescription(), dest = bx2.getDescription(), matchingDest = this.act.abc['secondary'].getActiveBoxContent(bx1.idOrder) if (bx1.idOrder === bx2.idOrder || bx2.getContent().isEquivalent(matchingDest, true)) { // Pairing is OK. Play media and disable involved cells ok = true bx1.idAss = -1 bx2.idAss = -1 if (this.act.abc['solvedPrimary']) { bx1.switchToAlt(this.ps) m = m || bx1.playMedia(this.ps, delayedActions) } else { if (clickOnBg0) m = m || bx1.playMedia(this.ps, delayedActions) else m = m || bx2.playMedia(this.ps, delayedActions) bx1.clear() } bx2.clear() if (this.act.useOrder &amp;&amp; this.bgA) // Load next item this.currentItem = this.bgA.getNextItem(this.currentItem) } // Check results and notify action const cellsPlaced = this.bgB ? this.bgB.countCellsWithIdAss(-1) : 0 this.ps.reportNewAction(this.act, 'MATCH', src, dest, ok, cellsPlaced) // End activity or play event sound if (ok &amp;&amp; cellsPlaced === this.bgB.getNumCells()) this.finishActivity(true) else if (!m) this.playEvent(ok ? 'actionOk' : 'actionError') } this.update() // Move the focus to the `source` accessible group if (this.bgA &amp;&amp; this.bgA.$accessibleDiv) this.bgA.$accessibleDiv.focus() } break case 'mousemove': case 'touchmove': this.bc.moveTo(p) break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(SimpleAssociationPanel.prototype, { /** * The {@link ActiveBoxBag} object containing the information to be displayed in the `primary` panel * @name SimpleAssociationPanel#bgA * @type {ActiveBoxBag} */ bgA: null, /** * The {@link ActiveBoxBag} object containing the information to be displayed in the `secondary` panel * @name SimpleAssociationPanel#bgB * @type {ActiveBoxBag} */ bgB: null, /** * The box connector * @name SimpleAssociationPanel#bc * @type {BoxConnector} */ bc: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name SimpleAssociationPanel#events * @type {string[]} */ events: ['mousedown', 'mouseup', 'mousemove', 'touchstart', 'touchend', 'touchmove', 'touchcancel'], }) /** * Panel class associated to this type of activity: {@link SimpleAssociationPanel} * @type {class} */ SimpleAssociation.Panel = SimpleAssociationPanel // // Register class in Activity.prototype Activity.CLASSES['@associations.SimpleAssociation'] = SimpleAssociation return SimpleAssociation }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_ConditionalJumpInfo.js.html":{"id":"bags_ConditionalJumpInfo.js.html","title":"Source: bags/ConditionalJumpInfo.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/ConditionalJumpInfo.js /** * File : bags/ConditionalJumpInfo.js * Created : 05/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./JumpInfo&quot; ], function ($, JumpInfo) { /** * This special case of {@link JumpInfo} is used in {@link ActivitySequenceJump} objects to decide * the type of jump or action to be performed, based on the results obtained by the user when * playing previous JClic activities. * * In addition to the standard {@link JumpInfo} fields and methods, this class has two public * members where score and time thresholds are stored. * * The exact meaning of this members will depend on the type of `ConditionalJumpInfo` in the * {@link ActivitySequenceJump} (it can be `upperJump` or `lowerJump`). * @exports ConditionalJumpInfo * @class * @extends JumpInfo */ class ConditionalJumpInfo extends JumpInfo { /** * ConditionalJumpInfo constructor * @param {string} action - Must be one of the described actions. * @param {(number|string)=} sq - Can be the tag of the sequence element to jump to, or its * cardinal number in the list. * @param {number=} threshold - Threshold above or below which the action will be triggered, * depending on the type of JumpInfo. * @param {number=} time - Delay to be applied in automatic jumps. */ constructor(action, sq, threshold, time) { super(action, sq) this.threshold = typeof threshold === 'number' ? threshold : -1 this.time = typeof threshold === 'number' ? time : -1 } /** * Loads this object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { super.setProperties($xml) if ($xml.attr('threshold') !== undefined) this.threshold = $xml.attr('threshold') if ($xml.attr('time') !== undefined) this.time = $xml.attr('time') return this } } Object.assign(ConditionalJumpInfo.prototype, { /** * Threshold above or below which the action will be triggered, depending on the type of JumpInfo. * @name ConditionalJumpInfo#threshold * @type {number} */ threshold: -1, /** * Delay to be applied in automatic jumps. * @name ConditionalJumpInfo#time * @type {number} */ time: -1, }) return ConditionalJumpInfo }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_Counter.js.html":{"id":"skins_Counter.js.html","title":"Source: skins/Counter.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/Counter.js /** * File : skins/Counter.js * Created : 07/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([], function () { /** * This class encapsulates the operation of a numeric counter, used to display the current * values of score, actions and time. */ class Counter { /** * Counter constructor * @param {string} id - The type of information stored on this counter * @param {external:jQuery=} $div - The HTML element where this counter will show values (can be _null_) */ constructor(id, $div) { if (id) this.id = id if ($div) this.$div = $div } /** * Gets the current display value of this counter * @returns {number} */ getDisplayValue() { let result = this.countDown &gt; 0 ? this.countDown - this.value : this.value if (this.displayDiffFrom) result = result - this.displayDiffFrom.value return Math.max(0, Math.min(this.MAX_DISPLAY_VALUE, result)) } /** * Paints the value of this counter on screen * (method to be overridden by subclasses) */ refreshDisplay() { if (this.$div) this.$div.html(this.enabled ? (this.getDisplayValue() + 1000).toString().substr(1) : '000') } /** * Enables or disables this counter * @param {boolean} enabled - State been assigned to this counter */ setEnabled(enabled) { if (this.enabled !== enabled) { this.enabled = enabled if (this.$div) { this.refreshDisplay() this.$div.css('opacity', this.enabled ? 1.0 : 0.3) } } } /** * Sets the initial value of the counter * @param {number} maxValue - Value from which the countdown will start */ setCountDown(maxValue) { if (this.countDown !== (this.countDown = maxValue)) this.refreshDisplay() } /** * Increments by one the value of this counter */ incValue() { this.value++ if (this.enabled) this.refreshDisplay() } /** * Sets a specific value to this counter * @param {number} value - The value to set */ setValue(value) { if (this.enabled &amp;&amp; this.value !== (this.value = value)) this.refreshDisplay() } } Object.assign(Counter.prototype, { /** * Type of counter (usually: `score`, `actions` or `time`) * @name Counter#id * @type {string} */ id: '', /** * The HTML element where this counter shows its value * @name Counter#$div * @type {external:jQuery} */ $div: null, /** * Current value of this counter * @name Counter#value * @type {number} */ value: 0, /** * When set, the counter displays a countdown from this value to zero * @name Counter#countDown * @type {number} */ countDown: 0, /** * Flag indicating if this counter is currently enabled * @name Counter#enabled * @type {boolean} */ enabled: true, /** * Maximum value to be displayed by this counter * @name Counter#MAX_DISPLAY_VALUE * @type {Number} */ MAX_DISPLAY_VALUE: 999, /** * An optional Counter used as a subtractor to display the current value. * Useful to display `errors` subtracting `score` from `actions`. * @name Counter#displayDiffFrom * @type {Counter} */ displayDiffFrom: null, }) return Counter }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_textGrid_CrossWord.js.html":{"id":"activities_textGrid_CrossWord.js.html","title":"Source: activities/textGrid/CrossWord.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/textGrid/CrossWord.js /** * File : activities/textGrid/CrossWord.js * Created : 17/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/BoxBase&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/TextGrid&quot;, &quot;../../boxes/AbstractBox&quot;, &quot;../../boxes/ActiveBox&quot;, &quot;../../AWT&quot;, &quot;../../Utils&quot; ], function ($, Activity, BoxBase, BoxBag, TextGrid, AbstractBox, ActiveBox, AWT, Utils) { const K = Utils.settings /** * This class of {@link Activity} shows a {@link TextGrid} initially empty, with some cells * marked in negative color that act as word stoppers. A blinking &quot;cursor&quot; indicates the cell that * will receive the next character entered by the user on the keyboard. * * The letter in each cell of the grid is always shared by two words: one in horizontal direction * and the other one in vertical direction. Two {@link ActiveBox} objects are placed next to the * {@link TextGrid}, hosting the definitions of the horizontal and vertical words crossing at the * cell currently marked by the cursor. * * Two special buttons placed near this boxes allow to write on the grid horizontally or vertically. * The aim of the activity is to fill all the text grid with the correct words. * @exports CrossWord * @class * @extends Activity */ class CrossWord extends Activity { /** * CrossWord constructor * @param {JClicProject} project - The JClic project to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity * @override * @returns {number} */ getMinNumActions() { return this.tgc.getNumChars() - this.tgc.countWildChars() } /** * Crossword activities always make use of the keyboard * @override * @returns {boolean} */ needsKeyboard() { return true } } Object.assign(CrossWord.prototype, { /** * Whether all letters of the {@link TextGrid} should be displayed in upper case * @name CrossWord#upperCase * @type {boolean} */ upperCase: true, /** * Whether the case is significant to evaluate answers * @name CrossWord#checkCase * @type {boolean} */ checkCase: true, /** * When `true`, the wildcard character of the {@link TextGrid} will be transparent. * @name CrossWord#wildTransparent * @type {boolean} */ wildTransparent: false, }) /** * The {@link ActivityPanel} where {@link CrossWord} activities are played. * @class * @extends ActivityPanel */ class CrossWordPanel extends Activity.Panel { /** * CrossWordPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Performs miscellaneous cleaning operations * @override */ clear() { if (this.grid) { this.grid.end() this.grid = null } if (this.bb) { this.bb.end() this.bb = null } } /** * Creates a {@link BoxBag} with a label (&quot;Horizontal&quot; or &quot;Vertical&quot;) and an {@link ActiveBox} * that will be used to display clues. * @param {string} type - `acrossClues` for horizontal clues, 'downClues' for vertical. * @returns {BoxBag} */ createBoxBag(type) { const bxb = new BoxBag(null, this, null), sb = new AbstractBox(bxb, this, this.icoBB) sb.setBounds(0, 0, this.LABEL_WIDTH, this.act.abc[type].h) const $btn = $('&lt;button/&gt;', { class: 'StockBtn' }).css({ 'width': this.LABEL_WIDTH, 'height': this.act.abc[type].h, 'background-image': `url(${type === 'acrossClues' ? this.hIcon : this.vIcon})`, 'background-repeat': 'no-repeat', 'background-position': 'center', 'border-radius': 6, 'z-index': 10 }).click(() =&gt; { this.advance = type === 'acrossClues' ? this.advance === 'ADVANCE_RIGHT' ? 'NO_ADVANCE' : 'ADVANCE_RIGHT' : this.advance === 'ADVANCE_DOWN' ? 'NO_ADVANCE' : 'ADVANCE_DOWN' this.setBtnStatus() }).on('keypress', event =&gt; { if (String.fromCharCode(event.charCode || event.keyCode) === ' ') event.stopPropagation() }).appendTo(this.$div) sb.setHostedComponent($btn) bxb.addBox(sb) const ab = new ActiveBox(bxb, null, null, type, new AWT.Rectangle(this.LABEL_WIDTH + this.act.margin, 0, this.act.abc[type].w, this.act.abc[type].h)) bxb.addBox(ab) bxb.setBoxBase(this.act.abc[type].bb) if (type === 'acrossClues') { // Horizontal this.hClue = ab this.hClueBtn = sb } else { this.vClue = ab this.vClueBtn = sb } return bxb } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const tgc = this.act.tgc, abcH = this.act.abc['acrossClues'], abcV = this.act.abc['downClues'] if (abcH.imgName) abcH.setImgContent(this.act.project.mediaBag, null, false) if (abcV.imgName) abcV.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) { this.act.acp.generateContent(0, 0, this.act.abc, false) } if (tgc) { this.grid = TextGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, tgc, this.act.wildTransparent) this.bb = new BoxBag(null, this, null) const bxbh = this.createBoxBag('acrossClues'), bxbv = this.createBoxBag('downClues') if (this.act.boxGridPos === 'AUB' || this.act.boxGridPos === 'BUA') bxbv.moveTo(new AWT.Point(bxbh.dim.width + this.act.margin, 0)) else bxbv.moveTo(new AWT.Point(0, bxbh.dim.height + this.act.margin)) this.bb.addBox(bxbh) this.bb.addBox(bxbv) this.grid.setVisible(true) this.bb.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.grid) { this.grid.setChars(this.act.tgc.text) this.numLetters = this.act.getMinNumActions() this.grid.setCellAttributes(true, true) this.grid.setCursorEnabled(true) this.setCursorAt(0, 0) this.advance = 'ADVANCE_RIGHT' this.setBtnStatus() this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.$div.attr(&quot;tabindex&quot;, 0) this.$div.focus() this.playing = true } } /** * Calculates the current score * @returns {number} */ getCurrentScore() { return this.grid ? this.grid.countCoincidences(this.act.checkCase) : 0 } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.grid &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.grid.update(ctx, dirtyRegion) this.bb.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return !this.grid || !this.bb || this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutDouble(preferredMaxSize, this.grid, this.bb, this.act.boxGridPos, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) { this.$canvas.remove() this.$canvas = null } super.setBounds(rect) if (this.grid) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) this.$div.append(this.$canvas) // Repaint all this.invalidate().update() } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.playing) { switch (event.type) { case 'click': // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY, p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top), // Array to be filled with actions to be executed at the end of event processing delayedActions = [] this.ps.stopMedia(1) if (this.grid.contains(p)) { const pt = this.grid.getLogicalCoords(p) if (pt !== null) { this.setCursorAt(pt.x, pt.y) if (K.TOUCH_DEVICE) { // We are in a touch device, so prompt user to write text: const d = this.advance === 'ADVANCE_DOWN' const txt = window.prompt(`${d ? 'Vertical' : 'Horizontal'} word:`, '') this.writeChars(txt) } } } else if (this.hClue.contains(p)) this.hClue.playMedia(this.ps, delayedActions) else if (this.vClue.contains(p)) this.vClue.playMedia(this.ps, delayedActions) else break this.update() delayedActions.forEach(action =&gt; action()) break case 'keypress': const code = event.charCode || event.keyCode if (code &amp;&amp; this.grid.getCursor()) { event.preventDefault() this.writeChars(String.fromCharCode(code)) } break case 'keydown': let dx = 0, dy = 0 switch (event.keyCode) { case K.VK.RIGHT: dx = 1 break case K.VK.LEFT: dx = -1 break case K.VK.DOWN: dy = 1 break case K.VK.UP: dy = -1 break } if (dx || dy) { event.preventDefault() this.moveCursor(dx, dy) this.update() } break } } } /** * Moves the cursor the specified `dx` and `dy` amount (in logical coordinates) * @param {number} dx - Amount of cells to horizontally move on * @param {number} dy - Amount of cells to vertically move on */ moveCursor(dx, dy) { if (this.grid) { this.grid.moveCursor(dx, dy, true) this.cursorPosChanged() } } /** * Places the cursor at the specified location (in logical coordinates) * @param {number} x * @param {number} y */ setCursorAt(x, y) { this.grid.setCursorAt(x, y, true) this.cursorPosChanged() } /** * Method called when the cursor moves to a different location */ cursorPosChanged() { const pt = this.grid.getCursor() if (pt !== null &amp;&amp; this.bb !== null) { const items = this.grid.getItemFor(pt.x, pt.y) if (items !== null) { this.hClue.setContent(this.act.abc['acrossClues'].getActiveBoxContentWith(pt.y, items.x)) this.vClue.setContent(this.act.abc['downClues'].getActiveBoxContentWith(pt.x, items.y)) } } } /** * Writes a string on the grid starting at the current cursor position and * following the direction marked by the `advance` field * @param {string} txt - Text to write */ writeChars(txt) { if (txt &amp;&amp; txt.length &gt; 0) { for (let i = 0; i &lt; txt.length; i++) { const cur = this.grid.getCursor() let ch = txt.charAt(i) if (this.act.upperCase) ch = ch.toLocaleUpperCase() this.grid.setCharAt(cur.x, cur.y, ch) const ok = this.grid.isCellOk(cur.x, cur.y, this.act.checkCase), r = this.getCurrentScore() this.ps.reportNewAction(this.act, 'WRITE', ch, `X:${cur.x} Y:${cur.y}`, ok, r) // End activity or play event sound if (r === this.numLetters) { this.grid.setCursorEnabled(false) this.grid.stopCursorBlink() this.finishActivity(true) } else { this.playEvent('click') if (this.advance === 'ADVANCE_DOWN') this.moveCursor(0, 1) else if (this.advance === 'ADVANCE_RIGHT') this.moveCursor(1, 0) } } } this.update() } /** * Sets the status of horizontal and vertical buttons based on the value of `advance` */ setBtnStatus() { if (this.hClueBtn) this.hClueBtn.setInactive(this.advance !== 'ADVANCE_RIGHT') if (this.vClueBtn) this.vClueBtn.setInactive(this.advance !== 'ADVANCE_DOWN') } } Object.assign(CrossWordPanel.prototype, { /** * The default width of the 'Horizontal' and 'Vertical' buttons (currently 40 pixels) * @name CrossWordPanel#LABEL_WIDTH * @type {number} */ LABEL_WIDTH: 40, /** * The text grid of this ActivityPanel * @name CrossWordPanel#grid * @type {textGrid} */ grid: null, /** * A BoxBag used to place the across and down clues, and the `toggle direction` button. * @name CrossWordPanel#bb * @type {BoxBag} */ bb: null, /** * The total number of letters of this cross word * @name CrossWordPanel#numLetters * @type {number} */ numLetters: 0, /** * Flag indicating the type of automatic advance of the cursor. * Possible values are: `NO_ADVANCE` (default), 'ADVANCE_RIGHT' and 'ADVANCE_DOWN'. * TODO: Implement 'ADVANCE_LEFT' for LTR languages * @name CrossWordPanel#advance * @type {string} */ advance: 'NO_ADVANCE', /** * The ActiveBox object used to display the 'across' clues * @name CrossWordPanel#hClue * @type {ActiveBox} */ hClue: null, /** * The ActiveBox object used to display the 'down' clues * @name CrossWordPanel#vClue * @type {ActiveBox} */ vClue: null, /** * Button used to set the advance mode to 'ADVANCE_RIGHT' * @name CrossWordPanel#hClueBtn * @type {ActiveBox} */ hClueBtn: null, /** * Button used to set the advance mode to 'ADVANCE_BOTTOM' * @name CrossWordPanel#vClueBtn * @type {ActiveBox} */ vClueBtn: null, /** * Mouse and touch events intercepted by this panel * @override * @name CrossWordPanel#events * @type {string[]} */ events: ['click', 'keydown', 'keypress'], /** * Graphic icon for the horizontal direction button, represented as a string containing * an SVG file codified in base64. * @name CrossWordPanel#hIcon * @type {string} */ hIcon: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYi' + 'IGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUi' + 'PjwvcGF0aD48cGF0aCBkPSJNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTIt' + 'LjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0y' + 'em0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnoiPjwvcGF0' + 'aD48L3N2Zz4K', /** * Graphic icon for the vertical direction button, represented as a string containing * an SVG file codified in base64. * @name CrossWordPanel#vIcon * @type {string} */ vIcon: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYi' + 'IGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUi' + 'PjwvcGF0aD48cGF0aCBkPSJNMTIgOGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIg' + 'LjkgMiAyIDJ6bTAgMmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6' + 'bTAgNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Ij48L3BhdGg+' + 'PC9zdmc+Cg==', /** * Sizes of the icons (currently 36 x 36 pixel) * @name CrossWordPanel#icoSize * @type {Object} */ icoSize: { w: 36, h: 36 }, /** * BoxBase with the style to be used by the direction buttons. * @name CrossWordPanel#icoBB * @type {BoxBase} */ icoBB: new BoxBase().set('backColor', '#4285F4').set('inactiveColor', '#70A2F6').set('dontFill', true) }) /** * Panel class associated to this type of activity: {@link CrossWordPanel} * @type {class} */ CrossWord.Panel = CrossWordPanel // Register class in Activity.prototype Activity.CLASSES['@textGrid.CrossWord'] = CrossWord return CrossWord }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_CustomSkin.js.html":{"id":"skins_CustomSkin.js.html","title":"Source: skins/CustomSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/CustomSkin.js /** * File : skins/CustomSkin.js * Created : 12/02/2018 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot;, &quot;./Counter&quot;, &quot;../Utils&quot;, &quot;../AWT&quot;, &quot;../boxes/ActiveBox&quot; ], function ($, Skin, Counter, Utils, AWT, ActiveBox) { /** * Custom {@link Skin} for JClic.js, built assembling specific cuts of a canvas (usually a PNG file) defined in an XML file * @exports CustomSkin * @class * @extends Skin */ class CustomSkin extends Skin { /** * CustomSkin constructor * * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects needed tot build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = null) { // CustomSkin extends [Skin](Skin.html) super(ps, name, options) //console.log(this.options) this.$mainPanel = $('&lt;div/&gt;', { class: 'JClicCustomMainPanel' }) this.$gridPanel = $('&lt;div/&gt;', { class: 'JClicGridPanel' }) for (let i = 0; i &lt; 9; i++) this.$gridPanel.append($('&lt;div/&gt;', { class: `JClicCell JClicCell${i + 1}` })) this.$mainPanel.append(this.$gridPanel) this.$playerCnt.detach().addClass('JClicPlayerCell').appendTo(this.$mainPanel) this.$div.prepend(this.$mainPanel) // Add buttons if (options.buttons) { Object.keys(options.buttons.button).forEach(k =&gt; { const k2 = k === 'about' ? 'reports' : k const msg = ps.getMsg(this.msgKeys[k2] || k2) this.buttons[k2] = $('&lt;button/&gt;', { class: `JClicBtn JClicTransform Btn-${k2}`, title: msg, 'aria-label': msg, disabled: typeof this.msgKeys[k2] === 'undefined' }) .on('click', evt =&gt; { if (ps.actions[k2]) ps.actions[k2].processEvent(evt) }) this.$mainPanel.append(this.buttons[k2]) }) } // Add message box if (options.rectangle.messages) { this.msgBox = new ActiveBox() this.msgBox.role = 'message' this.$msgBoxDiv = $('&lt;div/&gt;', { class: 'JClicMsgBox' }) .click(() =&gt; { this.msgBox.playMedia(ps) return false }) this.$mainPanel.append(this.$msgBoxDiv) } // Add counters if (false !== this.ps.options.counters &amp;&amp; options.counters &amp;&amp; options.counters.counter) { $.each(Skin.prototype.counters, (name, _val) =&gt; { if (options.counters.counter[name]) { const msg = ps.getMsg(name) this.counters[name] = new Counter(name, $('&lt;div/&gt;', { class: `JClicCounter JClicTransform Counter-${name}`, title: msg, 'aria-label': msg }) .html('000') .appendTo(this.$mainPanel)) } }) } // Add progress animation if (options.progressAnimation) { this.$progressAnimation = $('&lt;div/&gt;', { class: 'JClicProgressAnimation JClicTransform' }) this.$mainPanel.append(this.$progressAnimation) } } /** * Enables or disables the `tabindex` attribute of the main buttons. Useful when a modal dialog * overlay is active, to avoid direct access to controls not related with the dialog. * @param {boolean} status - `true` to make main controls navigable, `false` otherwise */ enableMainButtons(status) { this.$mainPanel.find('.JClicBtn').attr('tabindex', status ? '0' : '-1') } /** * Computes the CSS styles used by this skin in thre moodes: main, half ant twoThirds. * The resulting strings will be stored in `cssVariants` * @returns {string} */ _computeStyleSheets() { const maxw = this.options.dimension.preferredSize.width, maxh = this.options.dimension.preferredSize.height this.twoThirdsMedia = { width: maxw, height: maxh } this.halfMedia = { width: Math.round(2 * maxw / 3), height: Math.round(2 * maxh / 3) } // Panels: const ph0 = this.options.rectangle.frame.left, ph1 = ph0 + this.options.rectangle.player.left, ph2 = ph0 + this.options.slicer.left, ph3 = ph0 + this.options.slicer.right, ph4 = ph1 + this.options.rectangle.player.width, ph5 = ph0 + this.options.rectangle.frame.width, pv0 = this.options.rectangle.frame.top, pv1 = pv0 + this.options.rectangle.player.top, pv2 = pv0 + this.options.slicer.top, pv3 = pv0 + this.options.slicer.bottom, pv4 = pv1 + this.options.rectangle.player.height, pv5 = pv0 + this.options.rectangle.frame.height, imgElement = this.ps.project.mediaBag.getElement(this.options.image, true), imgUrl = imgElement.data &amp;&amp; imgElement.data.src ? imgElement.data.src : '', box1 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph0, pv0, ph2 - ph0, pv2 - pv0)) : '', box2 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph2 - ph0, pv0, ph3 - ph2, pv2 - pv0)) : '', box3 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph3, pv0, ph5 - ph3, pv2 - pv0)) : '', box4 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph0, pv2 - pv0, ph2 - ph0, pv3 - pv2)) : '', box6 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph3 - ph0, pv2 - pv0, ph5 - ph3, pv3 - pv2)) : '', box7 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph0, pv3 - pv0, ph2 - ph0, pv5 - pv3)) : '', box8 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph2 - ph0, pv3 - pv0, ph3 - ph2, pv5 - pv3)) : '', box9 = imgElement.data ? Utils.getImgClipUrl(imgElement.data, new AWT.Rectangle(ph3, pv3 - pv0, ph5 - ph3, pv5 - pv3)) : '' let css = ` .ID .JClicCustomMainPanel {flex-grow:1;position:relative;background-color: ${Utils.checkColor(this.options.color.fill.value)};} .ID .JClicGridPanel {position:absolute;width:100%;height:100%;display:grid;grid-template-columns:${ph2 - ph0}px 1fr ${ph5 - ph3}px;grid-template-rows:${pv2 - pv0}px 1fr ${pv5 - pv3}px;} .ID .JClicCell {background-repeat:no-repeat;background-size:contain;} .ID .JClicPlayerCell {position:absolute;top:${pv1 - pv0}px;right:${ph5 - ph4}px;bottom:${pv5 - pv4}px;left:${ph1 - ph0}px;} .ID .JClicCell1 {background-image:url(${box1});} .ID .JClicCell2 {background-image:url(${box2});background-repeat:repeat-x;} .ID .JClicCell3 {background-image:url(${box3});} .ID .JClicCell4 {background-image:url(${box4});background-repeat:repeat-y;} .ID .JClicCell5 {} .ID .JClicCell6 {background-image:url(${box6});background-repeat:repeat-y;} .ID .JClicCell7 {background-image:url(${box7});} .ID .JClicCell8 {background-image:url(${box8});background-repeat:repeat-x;} .ID .JClicCell9 {background-image:url(${box9});}` let cssHalf = ` .ID .JClicGridPanel {grid-template-columns:${Math.round((ph2 - ph0) / 2)}px 1fr ${Math.round((ph5 - ph3) / 2)}px;grid-template-rows:${Math.round((pv2 - pv0) / 2)}px 1fr ${Math.round((pv5 - pv3) / 2)}px;} .ID .JClicPlayerCell {top:${Math.round((pv1 - pv0) / 2)}px;right:${Math.round((ph5 - ph4) / 2)}px;bottom:${Math.round((pv5 - pv4) / 2)}px;left:${Math.round((ph1 - ph0) / 2)}px;} .ID .JClicTransform {transform: scale(0.5);}` let cssTwoThirds = ` .ID .JClicGridPanel {grid-template-columns:${Math.round(2 * (ph2 - ph0) / 3)}px 1fr ${Math.round(2 * (ph5 - ph3) / 3)}px;grid-template-rows:${Math.round(2 * (pv2 - pv0) / 3)}px 1fr ${Math.round(2 * (pv5 - pv3) / 3)}px;} .ID .JClicPlayerCell {top:${Math.round(2 * (pv1 - pv0) / 3)}px;right:${Math.round(2 * (ph5 - ph4) / 3)}px;bottom:${Math.round(2 * (pv5 - pv4) / 3)}px;left:${Math.round(2 * (ph1 - ph0) / 3)}px;} .ID .JClicTransform {transform: scale(0.666);}` // Buttons: if (this.options.buttons) { const bt = this.options.buttons let wBase = 30, hBase = 30, offsetBase = {} if (bt.settings) { if (bt.settings.dimension) { wBase = bt.settings.dimension.width || wBase hBase = bt.settings.dimension.height || hBase } if (bt.settings.offset) Object.assign(offsetBase, bt.settings.offset) } Object.keys(this.options.buttons.button).forEach(k =&gt; { const btn = bt.button[k], k2 = k === 'about' ? 'reports' : k let w = wBase, h = hBase, offset = offsetBase if (btn.settings) { if (btn.settings.dimension) { w = btn.settings.dimension.width || w h = btn.settings.dimension.height || h } if (btn.settings.offset) offset = Object.assign({}, offsetBase, btn.settings.offset) } const x = btn.point.pos.left, xp = x &lt; ph2 ? `left:${x}` : `right:${ph5 - x - w}`, xpHalf = x &lt; ph2 ? `left:${Math.round(x / 2 - w / 4)}` : `right:${Math.round((ph5 - x - w) / 2 - w / 4)}`, xpTwoThirds = x &lt; ph2 ? `left:${Math.round(2 * x / 3 - w / 6)}` : `right:${Math.round(2 * (ph5 - x - w) / 3 - w / 6)}`, y = btn.point.pos.top, yp = y &lt; pv2 ? `top:${y}` : `bottom:${pv5 - y - h}`, ypHalf = y &lt; pv2 ? `top:${Math.round(y / 2 - h / 4)}` : `bottom:${Math.round((pv5 - y - h) / 2 - h / 4)}`, ypTwoThirds = y &lt; pv2 ? `top:${Math.round(2 * y / 3 - h / 6)}` : `bottom:${Math.round(2 * (pv5 - y - h) / 3 - h / 6)}`, xs = btn.point.source.left, ys = btn.point.source.top css += `.ID .Btn-${k2} {position:absolute;${xp}px;${yp}px;width:${w}px;height:${h}px;background:url(${imgUrl}) !important;background-position:-${xs}px -${ys}px !important;}\\n` cssHalf += `.ID .Btn-${k2} {${xpHalf}px;${ypHalf}px;}\\n` cssTwoThirds += `.ID .Btn-${k2} {${xpTwoThirds}px;${ypTwoThirds}px;}\\n` if (offset.active) css += `.ID .Btn-${k2}:active {background-position:-${xs + offset.active.right}px -${ys + offset.active.down}px !important;}\\n` if (offset.over) css += `.ID .Btn-${k2}:hover {background-position:-${xs + offset.over.right}px -${ys + offset.over.down}px !important;}\\n` if (offset.disabled) css += `.ID .Btn-${k2}:disabled {background-position:-${xs + offset.disabled.right}px -${ys + offset.disabled.down}px !important;}\\n` }) } // Counters: if (this.options.counters &amp;&amp; this.options.counters.settings) { const cnt = this.options.counters let wBase = 35, hBase = 20 if (cnt.settings.dimension &amp;&amp; cnt.settings.dimension.counter) { wBase = (cnt.settings.dimension.counter.width || wBase) hBase = cnt.settings.dimension.counter.height || hBase } let wLb = 37, hLb = 14 if (cnt.settings.dimension &amp;&amp; cnt.settings.dimension.label) { wLb = (cnt.settings.dimension.label.width || wLb) hLb = cnt.settings.dimension.label.height || hLb } let bColor = 'black' if (cnt.style &amp;&amp; cnt.style.color &amp;&amp; cnt.style.color.foreground) bColor = Utils.checkColor(cnt.style.color.foreground.value || bColor) let lbFntSize = hLb - 4; let lbFntFamily = 'Roboto' if (cnt.style &amp;&amp; cnt.style.font &amp;&amp; cnt.style.font.label) { lbFntSize = Math.max(8, cnt.style.font.label.size || lbFntSize) lbFntFamily = `${cnt.style.font.label.family || 'Roboto'},Roboto,sans-serif` } css += `.ID .JClicCounter {font-size:${hBase - 2}px;color:${bColor}}\\n` Object.keys(this.options.counters.counter).forEach(k =&gt; { const counter = cnt.counter[k] let w = wBase, h = hBase const x = counter.point.counter.left, xl = counter.point.label.left || (x - Math.round((wLb - wBase) / 2)), xp = x &lt; ph2 ? `left:${x}` : `right:${ph5 - x - w}`, xpHalf = x &lt; ph2 ? `left:${Math.round(x / 2 - w / 4)}` : `right:${Math.round((ph5 - x - w) / 2 - w / 4)}`, xpTwoThirds = x &lt; ph2 ? `left:${Math.round(2 * x / 3 - w / 6)}` : `right:${Math.round(2 * (ph5 - x - w) / 3 - w / 6)}`, y = counter.point.counter.top, yl = counter.point.label.top || (y - hLb), yp = y &lt; pv2 ? `top:${y}` : `bottom:${pv5 - y - h}`, ypHalf = y &lt; pv2 ? `top:${Math.round(y / 2 - h / 4)}` : `bottom:${Math.round((pv5 - y - h) / 2 - h / 4)}`, ypTwoThirds = y &lt; pv2 ? `top:${Math.round(2 * y / 3 - h / 6)}` : `bottom:${Math.round(2 * (pv5 - y - h) / 3 - h / 6)}` // counter: css += `.ID .Counter-${k} {position:absolute;${xp}px;${yp}px;width:${w}px;height:${h}px;line-height:${h}px;}\\n` // label: css += `.ID .Counter-${k}:before {content:&quot;${this.ps.getMsg(k)}&quot;;font-size:${lbFntSize}px;font-family:${lbFntFamily};width:${wLb}px;height:${hLb}px;line-height:${hLb}px;position:absolute;top:${yl - y}px;left:${xl - x}px;}` // reduced sizes: cssHalf += `.ID .Counter-${k} {${xpHalf}px;${ypHalf}px;}\\n` cssTwoThirds += `.ID .Counter-${k} {${xpTwoThirds}px;${ypTwoThirds}px;}\\n` }) } // Progress animation: if (this.options.progressAnimation) { const pa = this.options.progressAnimation let w = 30, h = 30 if (pa.dimension) { w = pa.dimension.width || w h = pa.dimension.height || h } const x = pa.point.pos.left, xp = x &lt; ph2 ? `left:${x}` : `right:${ph5 - x - w}`, xpHalf = x &lt; ph2 ? `left:${Math.round(x / 2 - w / 4)}` : `right:${Math.round((ph5 - x - w) / 2 - w / 4)}`, xpTwoThirds = x &lt; ph2 ? `left:${Math.round(2 * x / 3 - w / 6)}` : `right:${Math.round(2 * (ph5 - x - w) / 3 - w / 6)}`, y = pa.point.pos.top, yp = y &lt; pv2 ? `top:${y}` : `bottom:${pv5 - y - h}`, ypHalf = y &lt; pv2 ? `top:${Math.round(y / 2 - h / 4)}` : `bottom:${Math.round((pv5 - y - h) / 2 - h / 4)}`, ypTwoThirds = y &lt; pv2 ? `top:${Math.round(2 * y / 3 - h / 6)}` : `bottom:${Math.round(2 * (pv5 - y - h) / 3 - h / 6)}`, xs = pa.point.source.left, ys = pa.point.source.top css += `.ID .JClicProgressAnimation {position:absolute;${xp}px;${yp}px;width:${w}px;height:${h}px;background:url(${imgUrl});background-position:-${xs}px -${ys}px;}\\n` cssHalf += `.ID .JClicProgressAnimation {${xpHalf}px;${ypHalf}px;}\\n` cssTwoThirds += `.ID .JClicProgressAnimation {${xpTwoThirds}px;${ypTwoThirds}px;}\\n` if (pa.frames &amp;&amp; pa.direction) { const dx = (pa.step || w) * (pa.direction === 'right' ? 1 : pa.direction === 'left' ? -1 : 0), dy = (pa.step || h) * (pa.direction === 'down' ? 1 : pa.direction === 'up' ? -1 : 0) css += `\\n@keyframes anim {100% {background-position:${(xs + dx * pa.frames) * -1}px ${(ys + dy * pa.frames) * -1}px;}}\\n.ID .JClicProgressAnimation {animation: anim ${pa.frames * pa.delay}ms steps(${pa.frames}) infinite;}` } } // Messages box: if (this.options.rectangle.messages) { const bx = this.options.rectangle.messages, left = ph0 + bx.left, right = ph5 - bx.width - bx.left - ph0, tb = bx.top &lt; pv2 ? `top:${bx.top}` : `bottom:${pv5 - bx.height - bx.top}`, tbHalf = bx.top &lt; pv2 ? `top:${Math.round(bx.top / 2)}` : `bottom:${Math.round((pv5 - bx.height - bx.top) / 2)}`, tbTwoThirds = bx.top &lt; pv2 ? `top:${Math.round(2 * bx.top / 3)}` : `bottom:${Math.round(2 * (pv5 - bx.height - bx.top) / 3)}` css += `.ID .JClicMsgBox {position:absolute;left:${left}px;right:${right}px;height:${bx.height}px;${tb}px;}` cssHalf += `.ID .JClicMsgBox {left:${Math.round(left / 2)}px;right:${Math.round(right / 2)}px;height:${Math.round(bx.height / 2)}px;${tbHalf}px;}` cssTwoThirds += `.ID .JClicMsgBox {left:${Math.round(2 * left / 3)}px;right:${Math.round(2 * right / 3)}px;height:${Math.round(2 * bx.height / 3)}px;${tbTwoThirds}px;}` } // TODO: Implement status messages? // Store results in `cssVariants` this.cssVariants = { default: this.mainCSS + css, half: cssHalf, twoThirds: cssTwoThirds } } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @override * @returns {string} */ _getStyleSheets(media = 'default') { if (!this.cssVariants) this._computeStyleSheets() return `${super._getStyleSheets(media)}${this.cssVariants[media] || ''}` } /** * Gets the {@link ActiveBox} used to display the main messages of activities * @returns {ActiveBox} */ getMsgBox() { return this.msgBox } /** * Sets/unsets the 'wait' state * @override * @param {boolean} status - Whether to set or unset the wait status. When `undefined`, the * `waitCursorCount` member is evaluated to decide if the wait state should be activated or deactivated. */ setWaitCursor(status) { super.setWaitCursor(status) if (this.$progressAnimation) this.$progressAnimation.css('animation-play-state', this.waitCursorCount &gt; 0 ? 'running' : 'paused') } } Object.assign(CustomSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name CustomSkin#skinId * @override * @type {string} */ skinId: 'JClicCustomSkin', /** * The name of the image file to be used as a base of this skin. * @name CustomSkin#imgName * @type {string} */ imgName: null, /** * Styles used in this skin * @name CustomSkin#skinCSS * @override * @type {string} */ mainCSS: '\\ .ID .JClicPlayerCnt {margin:0;}\\ .ID .JClicBtn:focus {outline:0;}\\ .ID .JClicCounter {font-family:Roboto,sans-serif;text-align:center;}', /** * Specifc styles (`default`, `half` and `twoThirds`) computed at run-time, * based on the provided XML file * @name CustomSkin#cssVariants * @type {object} */ cssVariants: null, /** * Key ids of currently supported buttons, associated with its helper literal * @name CustomSkin#msgKeys * @type {object} */ msgKeys: { next: 'Next activity', prev: 'Previous activity', info: 'Information', help: 'Help', reports: 'Reports', // TODO: Implement audio on/off! audio: 'Audio on/off', reset: 'Reset activity', }, /** * Graphic indicator of loading progress * @name Skin#$progressAnimation * @type {external:jQuery} */ $progressAnimation: null, }) // Register this class in the list of available skins Skin.CLASSES['custom'] = CustomSkin return CustomSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_puzzles_DoublePuzzle.js.html":{"id":"activities_puzzles_DoublePuzzle.js.html","title":"Source: activities/puzzles/DoublePuzzle.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/puzzles/DoublePuzzle.js /** * File : activities/puzzles/DoublePuzzle.js * Created : 22/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, BoxConnector, AWT) { /** * The aim of this class of {@link Activity} is to put in order the scrambled elements of an * {@link ActiveBagContent} that contains an image, sounds, text... or any other media content. * * The activity uses two panels: one with the scrambled cells, and other initially empty where * this cells must be placed in order. * @exports DoublePuzzle * @class * @extends Activity */ class DoublePuzzle extends Activity { /** * DoublePuzzle constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity. * @override * @returns {number} */ getMinNumActions() { return this.abc.primary.getNumCells() } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * When `true`, the activity must always be scrambled * @override * @returns {boolean} */ shuffleAlways() { return true } /** * Whether the activity allows the user to request help. * @override * @returns {boolean} */ helpSolutionAllowed() { return true } } /** * The {@link ActivityPanel} where {@link DoublePuzzle} activities are played. * @class * @extends ActivityPanel */ class DoublePuzzlePanel extends Activity.Panel { /** * DoublePuzzlePanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bgA) { this.bgA.end() this.bgA = null } if (this.bgB) { this.bgB.end() this.bgB = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abc = this.act.abc['primary'] if (abc) { if (abc.imgName) abc.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) this.act.acp.generateContent(abc.nch, abc.ncw, [abc], false) this.bgA = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abc) this.bgB = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abc) this.bgA.setContent(abc) this.bgA.accessibleText = this.ps.getMsg('source') this.bgB.accessibleText = this.ps.getMsg('target') this.bgA.setVisible(true) this.bgB.setVisible(true) const bgbA = this.bgA.getBackgroundActiveBox() const bgbB = this.bgB.getBackgroundActiveBox() if (bgbA &amp;&amp; bgbB) bgbB.exchangeContent(bgbA) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bgA &amp;&amp; this.bgB) { this.shuffle([this.bgA], true, true) if (this.useOrder) this.currentItem = this.bgA.getNextItem(-1) this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent() if (this.bgA &amp;&amp; this.bgB &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bgA.update(ctx, dirtyRegion) this.bgB.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return !this.bgA || !this.bgB || this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutDouble(preferredMaxSize, this.bgA, this.bgB, this.act.boxGridPos, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bgA || this.bgB) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) this.$div.append(this.$canvas) // Create a [BoxConnector](BoxConnector.html) and attach it to the canvas context this.bc = new BoxConnector(this, this.$canvas.get(-1).getContext('2d')) // Repaint all this.invalidate().update() } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas) { super.buildAccessibleComponents() if (this.bgA) this.bgA.buildAccessibleElements(this.$canvas, this.$div, 'mousedown') if (this.bgB) { this.bgB.setCellAttr('accessibleAlwaysActive', true) this.bgB.buildAccessibleElements(this.$canvas, this.$div, 'mousedown') } } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.bc &amp;&amp; this.playing) { // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated let p = null // // Two [ActiveBox](ActiveBox.html) pointers used for the [BoxConnector](BoxConnector.html) // `origin` and `dest` points. let bx1, bx2 // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } // Flag for tracking `mouseup` events let up = false switch (event.type) { case 'touchcancel': // Canvel movement if (this.bc.active) this.bc.end() break case 'mouseup': // Don't consider drag moves below 3 pixels. Can be a &quot;trembling click&quot; if (this.bc.active &amp;&amp; p.distanceTo(this.bc.origin) &lt;= 3) break up = true /* falls through */ case 'touchend': case 'touchstart': case 'mousedown': if (!this.bc.active) { // // A new pairing starts // // Pairings can never start with a `mouseup` event if (up) break this.ps.stopMedia(1) // // Find the ActiveBox behind the clicked point bx1 = this.bgA.findActiveBox(p) if (bx1 &amp;&amp; !bx1.isInactive() &amp;&amp; (!this.act.useOrder || bx1.idOrder === this.currentItem)) { // Start the [BoxConnector](BoxConnector.html) if (this.act.dragCells) this.bc.begin(p, bx1) else this.bc.begin(p) // Play cell media or event sound if (!bx1.playMedia(this.ps, delayedActions)) this.playEvent('click') // Move the focus to the opposite accessible group if (this.bgB.$accessibleDiv) this.bgB.$accessibleDiv.focus() } } else { this.ps.stopMedia(1) // Pairing completed // // Find the active boxes behind `bc.origin` and `p` if (this.act.dragCells) bx1 = this.bc.bx else bx1 = this.bgA.findActiveBox(this.bc.origin) bx2 = this.bgB.findActiveBox(p) // BoxConnector ends here this.bc.end() // Check if the pairing was OK if (bx1 &amp;&amp; bx2 &amp;&amp; bx2.isInactive()) { let ok = false const src = `${bx1.getDescription()} (${bx1.idOrder})`, dest = `(${bx2.idOrder})`, target = this.act.abc['primary'].getActiveBoxContent(bx2.idOrder) if (bx1.getContent().isEquivalent(target, true)) { // Pairing OK ok = true bx1.exchangeContent(bx2) bx1.setVisible(false) if (this.act.useOrder) this.currentItem = this.bgA.getNextItem(this.currentItem) } // Check results and notify action const cellsAtPlace = this.bgA.countInactiveCells() this.ps.reportNewAction(this.act, 'PLACE', src, dest, ok, cellsAtPlace) // Finish activity or play event sound if (ok &amp;&amp; cellsAtPlace === this.bgA.getNumCells()) this.finishActivity(true) else this.playEvent(ok ? 'actionOk' : 'actionError') } this.update() // Move the focus to the `source` accessible group if (this.bgA.$accessibleDiv) this.bgA.$accessibleDiv.focus() } break case 'mousemove': case 'touchmove': this.bc.moveTo(p) break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(DoublePuzzlePanel.prototype, { /** * The {@link ActiveBoxBag} object containing the information to be displayed in the `primary` panel * @name DoublePuzzlePanel#bgA * @type {ActiveBoxBag} */ bgA: null, /** * The secondary {@link ActiveBoxBag}, initially empty. * @name DoublePuzzlePanel#bgB * @type {ActiveBoxBag} */ bgB: null, /** * The box connector * @name DoublePuzzlePanel#bc * @type {BoxConnector} */ bc: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name DoublePuzzlePanel#events * @type {string[]} */ events: ['mousedown', 'mouseup', 'mousemove', 'touchstart', 'touchend', 'touchmove', 'touchcancel'], }) /** * Panel class associated to this type of activity: {@link DoublePuzzlePanel} * @type {class} */ DoublePuzzle.Panel = DoublePuzzlePanel // Register class in Activity.prototype Activity.CLASSES['@puzzles.DoublePuzzle'] = DoublePuzzle return DoublePuzzle }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_EmptySkin.js.html":{"id":"skins_EmptySkin.js.html","title":"Source: skins/EmptySkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/EmptySkin.js /** * File : skins/EmptySkin.js * Created : 14/03/2017 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot; ], function ($, Skin) { /** * A minimalist {@link Skin} for JClic.js with just the player, without messages, counters nor any button. * @exports EmptySkin * @class * @extends Skin */ class EmptySkin extends Skin { /** * EmptySkin constructor * * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects needed tot build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // EmptySkin extends [Skin](Skin.html) super(ps, name, options) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return super._getStyleSheets(media) + (media === 'default' ? this.mainCSS : '') } } Object.assign(EmptySkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name EmptySkin#skinId * @override * @type {string} */ skinId: 'JClicEmptySkin', /** * Styles used in this skin * @name EmptySkin#skinCSS * @override * @type {string} */ mainCSS: '.ID .JClicPlayerCnt {margin:0;}' }) // Register this class in the list of available skins Skin.CLASSES['empty'] = EmptySkin return EmptySkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_EncryptMin.js.html":{"id":"report_EncryptMin.js.html","title":"Source: report/EncryptMin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/EncryptMin.js /** * File : report/Encryption.js * Created : 18/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([], function () { /** * * Utilities to encrypt and decrypt strings using simple methods, just to avoid write * passwords in plain text in data and configuration files. Do not use it as a * secure cryptographic system! * * Based on {@link https://github.com/projectestac/jclic/blob/master/src/utilities/edu/xtec/util/Encryption.java Encryption} * utilities, created by Albert Llastarri for {@link https://github.com/projectestac/jclic JClic}. * * IMPORTANT: This is a shortened version of Encryption with only the methods needed to decrypt * stored passwords. Full version is on file `src/misc/encryption/Encryption.js` * * @exports Encryption * @class * @abstract */ class Encryption { /** * Decrypts the given code * @param {string} txt - Code to be decrypted * @returns {string} */ static Decrypt(txt) { if (txt === null || txt.length === 0) return null const s = Encryption.decodify(txt) return s === Encryption.BLANK ? '' : s } /** * @param {string} cA (was char[]) * @param {integer} fromIndex * @returns {string} (was char) */ static hexCharArrayToChar(cA, fromIndex) { let n = 0 for (let i = 0; i &lt;= 3; i++) { const j = Number.parseInt(cA[fromIndex + i], 16) if (isNaN(j)) throw 'Invalid expression!' else n = n * 16 + j } return String.fromCharCode(n) } /** * @param {string} cA - (was char[]) * @param {number} fromIndex * @returns {number} */ static hexCharArrayToInt(cA, fromIndex) { let n = 0 for (let i = 0; i &lt;= 1; i++) { const j = Number.parseInt(cA[fromIndex + i], 16) if (isNaN(j)) throw 'Invalid expression!' else n = n * 16 + j } return n } /** * @param {string} cA - (was char[]) * @returns {string} */ static decodifyZerosField(cA) { let sb = '', num = Number.parseInt(cA[0], 32), k = 0, i = 0 for (i = 0; num !== 0; i++) { while (num &gt; 0) { sb = sb + cA[i * 3 + 1] + cA[i * 3 + 2] num-- k++ } if (cA.length &gt; i * 3 + 3) num = Number.parseInt(cA[i * 3 + 3], 32) else num = 0 } for (let j = i * 3 + 1; j &lt; cA.length; j++) sb = sb + cA[j] return Number.parseInt(k, 32) + sb } /** * @param {string} cA - (was char[]) * @returns {string} (was StringBuilder) */ static decompressZeros(cA) { cA = Encryption.decodifyZerosField(cA) let numBytesZeros = Number.parseInt(cA[0], 32), iniNoZeros = numBytesZeros * 2 + 1, bFi = false, sb = '' for (let i = 0; i &lt; numBytesZeros &amp;&amp; !bFi; i++) { const zeros = Encryption.hexCharArrayToInt(cA, 1 + i * 2) let s = zeros.toString(2) while (s.length &lt; 8) s = '0' + s for (let j = 0; j &lt;= 7 &amp;&amp; !bFi; j++) { if (s[j] === '1') sb = sb + '0' else if (iniNoZeros &lt; cA.length) sb = sb + cA[iniNoZeros++] else bFi = true } } return sb } /** * @param {string} sb1 - (was StringBuilder) * @returns {string} */ static decodifyFromHex(sb1) { let sb = '', j = 0 for (let i = 0; j &lt; sb1.length; i++) { const c = Encryption.hexCharArrayToChar(sb1, j) sb = sb + c j += 4 } return sb } /** * @param {string} s * @returns {string} (was char[]) */ static unchangeOrder(s) { let m = 0, n = s.length - 1 const cA = [] for (let p = 0; p &lt; s.length; p++) cA[p] = '' for (let i = 0; i &lt; s.length; i++) if (i % 2 === 0) cA[i] = s[m++] else cA[i] = s[n--] return cA.join('') } /** * @param {string} word * @returns {string} */ static codify(word) { if (word.length &gt; 24) throw 'Password is too large!' return Encryption.changeOrder(Encryption.compressZeros(Encryption.codifyToHexWord(word))) } /** * @param {string} word * @returns {string} */ static decodify(word) { try { return Encryption.decodifyFromHex(Encryption.decompressZeros(Encryption.unchangeOrder(word))) } catch (e) { //The supplied word was not codified using this system return '' } } } /** * Default bank password * @type {string} */ Encryption.BLANK = '___blank___##' return Encryption }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"media_EventSounds.js.html":{"id":"media_EventSounds.js.html","title":"Source: media/EventSounds.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: media/EventSounds.js /** * File : media/EventSounds.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./EventSoundsElement&quot;, &quot;../Utils&quot; ], function ($, EventSoundsElement, Utils) { /** * The EventSounds objects contains specific sounds to be played when JClic events are fired: * - start * - click * - actionError * - actionOk * - finishedError * - finishedOk * * The sounds are stored in an array of {@link EventSoundsElement} objects. * @exports EventSounds * @class */ class EventSounds { /** * EventSounds constructor * @param {EventSounds=} parent - Another EventSounds object that will act as a parent of this one, * used to resolve which sound must be played for events when not defined here. */ constructor(parent) { if (parent) { this.elements = Object.assign({}, this.elements, parent.elements) this.enabled = parent.enabled } } /** * Reads the object properties from an XML element * @param {external:jQuery} $xml - The XML element to be parsed */ setProperties($xml) { this.enabled = Utils.getTriState($xml.attr('enabled'), this.enabled) $xml.children().each((_n, child) =&gt; { const id = child.getAttribute('id') this.elements[id] = new EventSoundsElement(id) this.elements[id].setProperties($(child)) }) return this } /** * Instantiates the audio objects needed to play event sounds * @param {PlayStation} ps * @param {MediaBag} mediaBag */ realize(ps, mediaBag) { // Values are {EventSoundElement} objects $.each(this.elements, (key, value) =&gt; value.realize(ps, mediaBag)) } /** * Plays a specific event sound * @param {string} eventName - The identifier of the event to be played */ play(eventName) { if (this.globalEnabled &amp;&amp; this.enabled) { const sound = this.elements[eventName] if (sound &amp;&amp; sound.enabled) sound.play() } } } /** * Audio data for default event sounds * @name EventSounds.MEDIA * @type {object} */ EventSounds.MEDIA = { start: 'data:audio/mp3;base64,' + '//NAxAARGk5RdUEQANIEZEBAPGPyIAAYAKMY/6EaQn8hP+c/yEb//kITU7oc9Cf6nPnPoT/8nQhC' + 'KEEEnDizkAwM8ThYH1Bj/EAYEhyUGghyivv7fn0vtsLdYI0CiTQE+aaqfH3BW37/80LEFhl6nvZf' + 'j1ACplLtsfx19gOQfBp7iHeEWRj8WxiLLI6khikjEI9IvsePycfERCSpPJ9s95IbO1O/tRX70XQi' + 'OGX+n+hmeb+aMirKxN/IibInf//G3K9PVym7NoL/W2usCkcMT5T/80DEDBcivuJd0lADkXMLoGxc' + 'A7ENhPlAY8LMK280iLkhQq80ojkRQCwz/rEsTjjTlMPMu3RWZ2c3dmONON0NVDzDzDzP79Y9PFg9' + 'v//oqi4hHyp+7HGl2b///I8VcYAAls9qrCT1Mv/zQsQKFsrCvlzLRNa/FN/jd/HUrGLUa8tKonzD' + 'K8+t55alG5sbKYilBExD8Id1ugmp+eKIdSplGpaoxNZiznEU/J9KJmUsqBzPVjJ/+Aif//71QCdv' + '+gE7f//6gICqPAAci1sbgH8/G//zQMQKFfF2qb9ZaAKU9PlY3uHFsAqAXfgZvyyhtTM2fC1zH/8+' + 'tFlslODFHjTHsClFqSTfprRCxdzMcppQ8yHsbbEkzpoLvZFBnWt1GBa/+8se/+SPdQe//FIIsAAA' + 'ba7YbC65AQAf//NCxA0XMh6xv5OIAEIz0mVENAJ0DbwIQjpGYFNAvTSI1ePBuh+MwYk+xib0DA/K' + '5YQadIk+o0Z0UyLmiv+h5bMD1Ro3/3/TSUggmu/+v/7KNL03CcLAh//5dpCqkltAAAqFFpldqAHI' + '//NAxAwXGl7aXYxoABm/nTyF8EwhIPY/DSOKUIQ2WXUzAlFDQXzyRCXBUNUk33XoqQNhyeltWFUL' + '6CKTImv7/vSZNZw0MP6v/v2oFQ5EUR7/1SVyb//E7FkIn9f9NXWQAg47vXRBbzv/80LEChbaYs5f' + '2IAC9rPHK1z/yygqmvwSoaAGvNLr9jCagdVUGyxOpVqpp79lJPf9ZNEttWXTUvf/9azMUgOcZrZP' + 'MThF00d7//v///9SnpUlpJJJJJFeLhp3///yKi4QAHWdrdQE07P/80DEChTJvrI+Ro6Oalhjl3DY' + 'QyyMpMHHcIbTFNlqYvp6GKBJBYZ89G+PKyt/Q4oCbx9z9b//80CTA+F3zTlSqOz6G0PoVCIItC3/' + 'CnwN/xZAvcr/99VSIAEKz7+UABhWz01LyctXJv/zQsQRE5nOvl4WFHISWA9Ybn87+VaIKzA0kk7n' + '33/KHo6qv1QKoNjMTHtX//ocaRCuGg2MP8jbueS9WIWU3NPcenOEv/CbcsVAKiIkATNv/9QAb60q' + 'FitrzbcZQ+ixX7169gCfAOpwHf/zQMQeE+Fasl4T0HJRrdobjyh8XBKr80WAqJQaiQPhY7vmJ4//' + '/ppkOhOaLMDbgVOwVdYt0SgqM/4hBQO+qglKQAFQM0aPnrrVvpRJLyCYt2amWVGBpcJrSl6ypI4h' + 'goMQk5Di+Yv3//NCxCkP+IpANGYehC+92dkrPJ/1a+z+3/r/sL/6f+6G7BotKqkVeDWsJLMDPP8p' + 'f2a4///Jf+VgHuRkfn85h7MIeAY9RE3ZM3IRTyUaGvCJpep52lDPb0nCY5xRqRkEWzDKgw+8Ftdp' + '//NAxEUS42YhgAhHHAG9ZCQjo0VONppYbQStB6qWUv5f591O8bze0/3y//62eUqnWzSn9vNsnOBz' + 'K8TN6urr6bcxGukbeqNZjuyIMO5FREnqzI6SVZVcahzgpCwMa561B4M8zjedy6v/80LEVBI7ViYo' + 'CEsdN5b7kv/+Rsub5P/X6yz0/JdhcZdZl+/hII/xFYdTSmc0ck3O0055fkc2R+ZgsyZsEagnMwRq' + 'kK1xle//6iZh/ITJmiF/yEKT4QyEKEP8hMQl/mNYxv+hn/lKZyn/80DEZxEbPiWICEc9StmmMZW0' + 'r1KXR/qYxnX0UpWMZAxQFqoapnCiQwqxihWDAQEBAQEKE6mZGZGTTMiMjTWZHa/aZkZlTRGXojIz' + 'L///////8yP85/5k1lspGrWRyNWCggYME4kGJf/zQsR9EkNiDAAARN1MNUkqTEFNRTMuOTkuNaqq' + 'qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq' + 'qqqqqqqqqqqqqqqqqqqqqqqqqv/zQMSQDcslQAoAR1mqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq' + 'qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq' + 'qqqqqqqqqqqq', click: 'data:audio/mp3;base64,' + '//NAxAASsyJgIUEQAY///gX8///yfyHO/8hCEafoRp3nPQgAAEUAABBCEIT//QhCKQhNGyEIQhCN' + 'ITU5//OQhCN7f/yEZQAAIynOc5CEIhGnABGY/4gAIQZ4h4h4d3Z2Z9Jba5XWhWP/80LEEBhJOxcf' + 'iUAC9BEda+oiKFQsViiMpvHFC98pLjySjUNeKoYxMpwIT21HmHlEhx83A9K5vDAuZUQxzq7nJPgE' + 'VWKQZ1Iu5oJH3UpGObWV/MfAgLC4Z/yhP/ULKnqHd/syOQenhOL/80DEChZpZs7rzBgAT3bBWub0' + 'T/xNtn9nY5bvQdCA0TvnpXNC7EJ3iRPtebJ//7xK4IAqIii2AKbfkBAJxATDLN7wiUGv6VANBNjq' + 'QwGCayGoaBAJaNC79/z5wP2IuJbfZsNFgBVo7P/zQsQLF0lGxvRJhlQVDyEmYldHXJGadquTRs6a' + 'Ymq9VY1hqqt6xmqts2zGTvGNrl+u1IMBHREJREbkpaFQkFRoa2FYSDvBp6DwSf1lgFqfkQ0JcRCY' + 'lKxKg0eEw8sKqgaEogGBH3EZpv/zQMQJEyEudaoIBoAf+HV2UBjoOsP2/IwrkezQ1Y4e2wVxgxlV' + 'AqDQUSRUBRU6LrBY1lvxEdUBWBIOnZWOCrvlVnTsltWNOqPP4seUBcKgKpW44m3GkHLjaBS4ohHZ' + 'dTGi6FXXVo6+//NCxBcNYAYyWAhEAJ3U+j3uXdl1z1Du30fCySCGablvUTrhwggLTomAAmrWsmWY' + '9ym89ZcvlwX/zf+a95ZLwXOar/LNrJ60LUl25Hs58yKRWIjSbt9DCIs0UtF/TOlm2cyNTpKysuCB' + '//NAxD0Rw1YliAhHPdmd9nYYQOsGCgAfmqIAXlnhbNZeUBQvyL/y6NlP/r1LLlEiSPL/7lE9SirM' + '5zxZEwCseMDL330yrtl8/8jJs6mt5dTloYsvNSGbmTkYQhpVpRpCG1yr9YSfr1b/80LEURFLZiWQ' + 'CEc8v/rLXPzys+Z9z8v+H9qyCMpGLn3bla9qtcxYZXk9cbOUjb8t0q2ytz79ImM1R0ht3QdWK11m' + 'yihIpt8SZBRAlbWq3CDpDKWUte/VHgJDH6k+lsqSPbRj+pHWWrL/80DEZxKjYh2ICIfhxIKhMBeL' + 'PjgKlFRIKjCxIKjCukkFAKCSCxFtgTAQFIkisqIg2EngUVFg8FQCQUxBTUUzLjk5LjVVVVVVVVVV' + 'VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsR3EnAF9kgARgBVVVVVVVVVVVVVVVVVVVVV' + 'VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV' + 'VVVVVVVVVVVVVVVVVVVVVVVVVQ==', actionOk: 'data:audio/mp3;base64,' + '//NAxAAT+gKmPUFoAI81KAANYQZECuQAASjAD820006kC+buYDgGEGEKIcsCYAUQYA6JeI2JmS5w' + 'cY5yXL6b1IJpp6kG////9X+h/oaaaadAvpvBA5/9QIDQQOQ+cbQllsQQAKTggvn/80LECxdCcupd' + 'jFACwA8cFoNFZuosRJUe3E48kEhWIRueePjSdR4T9XMQ4SwB/BZ1GQNAtHHOPzOFryImV2zlb//r' + 'ZV/6MYp56IY00sPgvi5vp1NN///3Q4ZlSUVV6wAAHLn//b/+Bv3/80DEChbo7s5fmGgA8cDgPEdP' + 'slrmVdkwdsV66+p2vZktFECYbF0sxMc6XTyGfU7omIDWqTLdIdocopcSHkqkN/1OLnGEiTI5lQIH' + 'z6F//h8+Aw////SWn6Ai////RQCALJttttthGP/zQsQJFgLXBl+PUAJpUBpuDr/a/Bn7vbuBpTSa' + 'Ju9C26HLGnV05pymMa+52rjwoQl9HX5xkseQEWn/zR+C+CGcTN1IQsr/O/6N///////zyotv//Ul' + 'b+WNu/4a/G/DAGASAsBQ86QpAv/zQMQNFyqWqFWaUACorGJ3w70JwQXdB1Iw8FBR6w8BkLlXmCwS' + 'QKbRFEDGyFEFw/LiWNeT8eOSG/++3///5oEpv5wrF/RmoYsz////+yuLZ55GT//yosfyqj5gugAN' + 'MBv///+Bt0Bw//NCxAsWul7hv49QAIAcsuZ3XnIKHgXVwYS+wjbgGuEvA8WjfAsaQmNk2QkZh551' + '7ceH7uZegsm5y///0VTDzzDz09dev/6IIMKcL8i/5CSjE3/oqRMBZpmk7R/RgAAbjwkkcZrZNKRG' + '//NAxAwW4j6pudpoAwwbDspelxARGBQ5l21KTHGz7RkyVSuLZ5l3/S9SQ1CutfuvPzIvF4HUFzRX' + 'NkiXJVH+pv//mvMTVRJGyT6S29LRao2Wqj///UbLJxLHVPBVD9SWyADnc5p6REf/80LECxb6Uoxe' + '3A7SY0MyGLYtINLEx4dXVEEvywRGZ7pcZEtrkjRpam6yOArCCRZNX/W3WOoGKq04z/0I/nt/UCYZ' + 'f6GfovMahvTn21oZ7KnY4oNhuRFQuLsBID8cKC5qSQAC9j29EzH/80DECxNZYoT+xuAyRLbuBA8W' + 'RBNAN0Eq+mboAV7G62xjgCvi7cM0Ov1kOELDyoy/75RGdB8iaMZJ//S9SaPWe8oonsV4o5NO40K5' + 'FG2xNQZo78WcFOwcZjQQYvlIW6mGkh0f0ZiOBv/zQsQYE8jiVBDfVogDF7hUFzGQhTgpeTFkKEeX' + 'lL8syjVHZ03ZCDR2nSxR7Pq7np3LRaHB9adBZ07r018kdy3tjTX1KiSqekjtoMGlaAKNEYCZkOHz' + 'pZziA0FmwmEDZhMwfvxGWFAY3P/zQMQkE5DaRAjW1ohECprRK1TRrKRtJsNpyJrNfLvndF7g+gSn' + 'Ayt351B5obyX8r/u//////rqgBmlYGs01hNdBQpEQyNoHhEMuUtgytPS01oLy0hu6NVNabzryYxw' + 'zfIqvKPaRFls//NCxDAQ+FYw8gjSKH7tHbMxfJlUtVpIB16SI0SEXBsf68/+/L//zfLll/nmj7F/' + '1pcpZ/+Z3Ur5Eq5WpbM9MfPljxeb9Lamv/nXIuOSkVXJVRmzRxLpVUlMiBhOahamKCgmCgSwVXHX' + '//NAxEgRU1YcAABGvSNI0Nzzp5SNpUj5aE3ZUqAvIkhEnnq1D3/yxFqrceAgEVIho8WKlhKVGBUJ' + 'HjzvOh0JndVbtdYykkFQmdDoaDqCIaLKTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqr/80LEXRFYBf5I' + 'CEYAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq' + 'qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=', actionError: 'data:audio/mp3;base64,' + '//M4xAAUuVJUAUgYARcXFz4DgFAeKHAeChiIie7u+iaIibgYuAYGcTz3OIhf/Xd38v+J6J7u+gGB' + 'iw8P8PDw8PDHRw8/+O6GADo/h78BEQz8HAHh5+v+A4A6H/8AAEfIiZmZBXlicwVCsWj1//M4xAwY' + 'WvL/H4goAHY5EADTzSBEDUpfz/OhTMPGC+NAMWAgfAcAgHFSjhZD1PCRAUQFBjMUxMhGGuOVyndn' + 'XzvlH2dGLp+jbHsUykMTTFkX/+ror2841v+k//+MIOdv/GUVmvrpkGSqAYta//M4xAkXMsLmN89o' + 'Ag/iwxc/bCcqY374+ZYv8ms1WUWQHQlTUFCJgbIjvMcd6K1m71G+ttB9Pt32bR6OptTZxtV0l/ov' + '20P3b9/1/1f0dSCkh7FjKTdSRbQKiRLyBKFroXi7uP0CAvGOAWNk//M4xAsXwr7a/mPUwS+O1HXt' + 'gEWD0qvqiuk8xOG4QoqkAU5eFUIMYl8WHoK3Hcq2dx5p5fTjLvlFtLucF2SuaciHhslc4JhNnm5X' + 'U2pCS6c3n6+3/9GyFsk+xwWUQmSTumm7e5ggAEWsUBor//M4xAsXCrLXHntO7NUoPTkrtfAzt+Vm' + 'c1QDhdvOk4mMiMaxzG9AERpgbNKfJVp0/lfOvjfl9SWj5XpoXfIYVep7R0WTaUAGDj1IkMHy1Oyr' + 'fnfq2e37/22fJduLdKpFmVawABglJaFVG03L//M4xA0XurK+5HnLTJeQXpCP4L6DAO1L6jOnPOCx' + '/wVBu4nAIHEgOCbXJbP5R/74hGiwND1iw7BYtTsqM6viJ1aoa14o/kdXwsdo2K6nxravl7al1/t+' + 'rUDz4J+IDtW7bbVAX+3gDwiUL8lI//M4xA0Xgq7qVnoO+zaBvGmHeGt1WGsEPh7RWPKQT82FEhiW' + 'LGeUlRHjRERFE6UUhhATy9J5Lcv+PM+axpVIkaHDqqvi+yUHdjW3sp2vTv+rav9F/Kt+Lm9QJFdn' + 'wrvt7SXHLLMAFKoGoNaO//M4xA4UurLyXkDFT5XYo5iQ9ckoWFh61037WowPpb5NVRWlrUmVVqxm' + 'NV/b6q+xuJVfY1VVXfDHvnL7TGOFMb6ifdZf0etaP//lZH6FbyuK5MUAYWLKUvoamjS5tZpdNnrW' + 'z2ASUXdsckcS//M4xBoUcVJ4IisMydfHkiAUZzmoyajzSOzOf1T9qlFq+ORkFFeC//HxXOxf/PKP' + 'G/CNxYO4+WKbl+Lv4VBQU6KKhP/K/+vK3+WXVv/9SobSZ1b/lb9SshjN9S/Upahjf/LMahjv6qx/' + 'DpAR//M4xCcS40IEABDN5DMaqqrVVVjWLGPjH7GpWZ/7dqr47Eq/7HQds4duAxGfzkjUTpoLSIv/' + '//qn///YxTAwQIGhyP/u7O/3P2eqNZ2k4so4sp2NFAYhnZ2couBNTEFNRTMuOTkuNVVVVVVV//M4' + 'xDoKqz1wDACNy1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV' + 'VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV', finishedOk: 'data:audio/mp3;base64,' + '//NAxAAQiXIEAUIQAPnfO/OdyAYGehP/U5Gqd+c/8785zoBi3QhCMpCVP+SpwM6AYGODH/8TvB+s' + 'PiMP5cMCcPygIAg7/lAff4IAgcBCD6ofD4diQbC0WaISi0SB3EAzA8WZgeALXg3/80LEGBoDGyZf' + 'glACgsRODRuWFcnMLm+eQEhRVQz5IePy5Icm/2Yn5GLY58hG3/J0JyAkq54WhVHosmkTmr//OYkI' + 'x+aejta5yObVf////fbcgJP/8oP//L/+w6tzSgKyRVuaO6jleQb/80DEDBdLJs4/2FABfMefV3NU' + '1/Pu+MiMj5TGccdZM7mtR9poqDaj269WQ7clU5//OzTSgSRYFoL8eoeaaxhw+u9lq/9jn/NY7/3V' + 'PohqW+///////5ELQ+cqSm8F1QfSAHmkZP3Rz//zQsQJFgHCul9ZUACtuzlS2auXefrUxQUkTU+e' + 'tjYpBz++SrehymLQlDIbPScu+uppsoFMTf/5uSiO7kpKKo1ONQ6/NbKkDv8iJj3OE/xEHRQl1Hv/' + '/4UPLBeWtoFTaaAttttstQEAgP/zQMQNF1PXDl+BUAJQhUAPuz0DJsKELcVBuf+NDz79ceCoSE/m' + 'eeYSBfk6fQt91kZOYYxE3/+2YwtnyQxn////0JHMY+w/H5OSN/////zDGf5+p7///////kjSQxXT' + 'FGTyENw7gapG//NCxAoVUeLUAYKYABCegFrFga4BpxsoJJHKbdSSNc9rTRNTiRTtofSWUkUt1o19' + 'fWkoiIJAGaRYixFlM4yQ2FK7pDOlX6q0Ty0TFQNc910f521f//sEw5VqWAAa0xN/4IJysXXPUXWj' + '//NAxBAYQc7CX9RQAD7L1moNjonkAxWFww4nWd9JCeciFDR6QsKgKiayKccZU7pWdi9jnzTd7C9H' + 'zWNZFE6VNY70udouzEPUInt/WdLG0YKntR5SDn/rBWjQpBIJjCnEADG403RAjmT/80LEChYx1rpf' + 'U2gCXkzXRRXSZBTHSfAUM4JVGmSJvr92ZalqJzOtY1C+n3qXd7ojHpJVph9KfTv2QF00S62Usnjy' + 'Ukk+pbH0Uf+akuloBUN9eziVT/Kbf//1pSuJ/YIvIGDjaERizGT/80DEDRciBtzLgWgAnyaG0C1l' + 'wTMAJBpi0QiX27oskt/p2pJGx1aanoWQ9R1FMw1JVmtN1vSNE2ZKcL4kwhTIv+7hPkVpum9/54qQ' + 'NoCB5od9Wc/WVZltv//9olVqRkBpkMgFbWp6pf/zQsQLFGGq0jfYOAJYZ33eO8O4ay/WUDUrPXKa' + '0BSIWhEPEua1Jvfvd1CxL/0T7nGsppoSEjjaf6tN1ZTTR0SRqRO/+K/Ou/9CwVOnmrcSdMqBpY56' + 'yFdrrd+BUSsXF/De07+HriXkC//zQMQVEyIO7l9IOAINDw83zXmx47coMuc54Km6W6HL5VI1dHUo' + 'FS9CrJ/FZBL1apo8Bec67a3b/1JDQt4iEv/niXtWlQKNhcSXFrNXq9RoxmJPGjO8N0UWAZDR6hQZ' + 'VGYs4HkcGtuz//NCxCMcqvMKX4VQAp6GEjERDVO0nICRTDDitdHYkPnkRhZTDzS5o/yvFTPc9GLC' + 'uTkX7OXt7fseehISK578TUFArC8lNQ06n//2Gg/Jy48bb9TWcmmH//93/Fyy29rQUkjgEwC74QXH' + '//NAxAwTWb76X8xoAtGYil8Sf13FyrazOOzs66VgJUPYvJbKXWr+myS2SrPPf1KWiiiyOpLSWjRT' + 'ZFlalf//omqn///Bl/gqd4NSP1sCtUboQAq2KfAZcuompqTyWlosplpidkw4Y4D/80LEGRRiJrZd' + 'UqAAgAJMBywG+KiSmxrWtlKfMj6SV386x0gTt/1OtvvS0CizI+umWkl/XUbP1ESayKkktX93dfzz' + 'tT61SAEkgBQEjccjkciAYAa39zxcaPCYCFY9Q550fgIUwErGSDn/80DEIxwS+tZfhWgDSkw83gvv' + 'ZTK1Iko2tI9rLpf1mZ+b1tMy4Nm06mXyUQY9ZLXyQUJTs9RmYhzjd0y+bppJEj+8v/+81fqQYzTN' + '1ppIW/////+pA0UgaXaVuC5FVLzhMlMyKAyi3P/zQsQNF/I62AGBiABLhOwsg1FMBUmAa4LK0kU0' + 'GslRZGmpJb+3on0EzNJjN/Rt+6CJfdTUtj6KkvV+iRcjyBCdC2XzhNFUvstzFYtImJ1Ff9ZRIj59' + 'h0HQICe1It//pYprEApJJFaBDP/zQMQJFHJu5l/GaALvVEYd0Zlq2t/CXLznyPVFYKIeRsUnRSrZ' + 'Nn/r6CnqdQ5i8i3q1bKfpGtS0UV2JMeKP6knf2Nf0VaLGLbf//rR0WRKyF4MhrBplw9IE232uwC4' + 'QyFzCiYsW86d//NCxBIT0nLqXgpUxo9sRW7llTyJzaqvmIaPi3VgsG/mt9ykwfCQIU3OOY04ehw7' + '/ppOC+OfQ45TbwRmsdOf9V//3NEgtEX//4aVAAFRFv32vuC0ePWVlkuksMhlhMTeSZcTTa6TL1tX' + '//NAxB4T0m7aXgNUnlF5nDuaJdERvfmX6mCXNcKxO/V1USAU/9yGy3Aqp/1gZFJn/1f/82RAAwvU' + 'f/9n/4aVAAEIF91+vwCeBTp6TCmP9INghMQii720i+pAnlzzrUX1IHQtju2swb//80LEKRQCbtJe' + 'AJqGnOo/ai6SKYMAWbN+pyk9BZgJk//uSoi1brV+z//mZmmHNKZ13/4fAAEADstllgF/v972towZ' + '0QXK8AA+PC5cN0PRTdbHW9k5M9zgqso/zibfk+1ZC/skJF/61jz/80DENROyfrpeA9qODemqMKr/' + 'rUHwRS1Nq9SKD//rZIcRZmT//kUEALSZ3D//6vAmzqOlAm8FwxbwFiX8VRMT/DEsPCqRbOw8Q1mI' + 'xxtBkkSi3qAOVm6F2/FRWYSyB/bF4bP/YoK6TP/zQsRBE7JuiRpulMRYCzO1V/Bgm+3///oVNQAB' + 'URf9/bgBP/8U9MW42GQb/AyP4bURvzzGIYvAhJL0x3ooCTlFLZYWlmfqPt+PdVErEQz3RZKDyTFf' + '60vWSP/2GMeX/qsr/+oxmB0RAP/zQMROEzJqxl4CWpcBmBvv9vwBTX/L98zdfopM4GlbpJtgUn1e' + 'HHhe8yxjmqcdp+upQEuTdtU3X9x6VTAMv2qIoiG/VYg/GN7/nhJgfH2Qf0qSKab/9STkueh1IDkm' + 'klAH5fflAZLq//NCxFwT8m7CXgPall7BM4igvw7JyAbmlbrY2Zmc95UkokD/dw4U/VNjZq2TcStZ' + 'ukKgZTDVrng8v/mRTZa8Yre35WIl+v9boo3/1pprJU2wFQAyBI5tJABr9/77Z/CdRCLoRWqEYrN6' + '//NAxGgUEnKcfgPaq4nSU+eNbpg1JSTemhOK12Eir1L/WdGRPphACdmzWMj7GIgg/nV/2MkNzYiH' + '1f+MUXviFwhf5ESNESoACMgKy22UAf/oZWmPclPEoiClH5cGwN0IZce9FABAWFr/80LEchQJ8p2+' + 'BhqSJMm0Y97b+IcHG7exHP1o1ozptGFJY96zeDFv2jvm5WapBNLZ6npCx39f9//xJxaUAGauYYNH' + '0NxP49ytAzAugiwASDuCaDUpRXKKAro0F7oKjNigqK2bCimismz/80DEfRPCbrJeUYsW2bJs07zh' + 'UJE83J52vOGiuPNiokv/+//8tONhddJC82Fk8VX//+//+L/+X8vgX38/zyBLzXnwocMyMyN5mLPJ' + 'siIzhs/AZfSMyzTJX/zT7ykZlXbe+/dxn2i68f/zQsSJFBiqZBYAXknZ3GPTCDzzqqXjKRMJwaRC' + '8G6IQU2nG4n4GGmXKsyZrv9S/Pz0LNbNUKz3/+L//YfmT5sn3CfNUKp/vzCv+a/PzXF+sMhBLEGQ' + 'yJlrOq0Ao4kKJILAayo7MqEZp//zQMSUEvNmFAAIzcjp0sip/9jKz0mW6zFUj/RP6r+xkUjlR2Mj' + '/dbbIrGRyodjWKh2MrGEVYys5TKUSGhweBQ8NIQysZWMrlRxEYLh0SRVTEFNRTMuOTkuNVVVVVVV' + 'VVVVVVVVVVVV//NCxKMQi2IeUAhHXVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV' + 'VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV' + '//NAxLwR22HQAAgKnVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV' + 'VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=', finishedError: 'data:audio/mp3;base64,' + '/+MgxAAT5BX8AUEoAP///mNkc/////1Oc/6noc/9f///85/0O///r/kI2jf+pCf/Of/6HP/znOc7' + 'znPkIQgfFzvIRjhwOChCEIQOB8Ph853yHOc/zvEA4AAAAABF/UgSPmQKhhYBw4f/4yLECxVpXpgB' + 'mYgAKgCEXoz6Bj24G4gxlPDKhgAUoFxwtiGufjWFsGbKgF+Fh4noT/8i5uaFcZgLm1i2k0Mbam8Z' + 'AiwbYX0nExHIEEx2FBBP9J3S5vA6wAAltAA+pUwHS9e7B4EtiwD/4yDEERexdr1fz2ABlQrFTFPg' + 'XqqjQRzMFqGEeDUkEbrrMjtB+lU/tcuj+umyBDN1q/2GlFesgKLdHTqWo7RktruiRwdRlfa8J/BP' + 'RN+XHtgb0Y/AzC/2cZdiQgBuTa69W4S8bMAAXP/jIsQNF0k6wVZ5xSYzp4BvjV+T2Udd8R2+On01' + 'SiRpX5PGv6QjYpD1nBt8VZ0skMc9QHq1CpqJlnhoqVPKPHZYGqnIypEyWPAo8SPz0OhX//QJmyvH' + 'u/o8qM/6CtXSAhKu34FZMGcPy//jIMQLFcmeyX5pRy5R0BZEoNVh/FruKTVBRcR5rUTQpGyFqJx7' + 'CzcOcPjqoGcWJjOrcdzfsGXZAsFs2WdUKwcLiEIhWFB7w0GpuTa0XaMGgcqzrQsz/+kNKkIAFLvg' + 'P/OonDe+4DCL/+MixA4XgpK9XsKG9sYelKU8J/UGwRrm0l9/tjMjWMAOthrqK45iONNBfxi+hbll' + 'z+raE/If6Y91Y8jnb49Kxn0WeTT6ihhKnGOj8LGIiWQHuOogUc/66H/hHf+ZgAISpdgBncq6Fj3n' + '/+MgxAwWYfa9fnqHEiCLPLVweu/9CIz6wGZbXVpry1Kg57ZhtwxXKh82K2giB2guGug/OyF9W1Ju' + 'QftstdzJ1LPcEKLR5hTreUz/iBxskEVBY+CqAyCgQoz+yuNqlTn/4AmceACjmEH/4yLEDROBjtGf' + 'TFACEdnXxxr0lwp2+ghopgB4IjWCiAiL1Fns+pLqPWoKx2ncfG0InzW1JerftHxMpxQ801HHziUM' + 'vQeK6+SzxEliW+qFqaEByyhgQELpGQIgqtQ3JzIWch4kp17kEgX/4yDEGxrBdpwBmcgA2HbmH2R4' + 'LIKeMtsKwjCc/PT00y9l+qMGDIckAycFqvMfuJz7iPxLEzFQo5sngfD9d/3Lh+njFJYublz8Q5Rf' + '////T2+4Yc+Lz9NurVqf9g+AKTd3AE4qU1E2vP/jIsQLFHFG1N/MMAKBuH8oS/ikp9KqlSqkwegT' + 'JgTLjeYlyndKcQSsCSPJJQRk9HC1Mj+l42THqWrK1khp0NFfwKks86SKw6IipGbLX60JBY92Jgpy' + '/gAfjbqATePy62LBPlndI3QLQ//jIMQVEzHK0D5ITaKR7RryvYmOsx1fbM6V2JJnbpavk1iJiS8J' + 'PqV6qgWaY6uxhvzoBzN51ktGpofVlW2syZxMO0b3qgp3fgAeIb4DIseOluSeSAlQn7hrzAjZSZuJ' + '1hX4vsT7jPQ//+MixCMTSZ7MPlmQ9/X6VzdY3edjF975aHZclh+kp0dpLevY334aVbI8HpNcncwN' + 'u/n4iv+WjdUp78AD9ctNSZuODC31N8HTqGeWmtBbEAMsHqNC8I2hSomoRqXy9S0ceUx3G2Xy1HlX' + '/+MgxDETia7EHnnS35XKZuzIM1elCplWUbSZUyasFtQGBXZtvjOkd7fyKgXdgAP2BBZD9S9RP5NG' + '79jO2pTIwZr7J8G1gzEtzOp2ieBOgOaBuVOqMyrSjT9MjQyjbxO0deP52eZM5EX/4yLEPRPR9rge' + 'eccSHPRatU3MJQt+RHNLSiTFR+5aqgXbiAQBNtgMw1oA6FmGT6BBFIiJwdNzPHg4GwWjwaEZMdZC' + 'YHjSgwh4y0x3apZUmcmPvrb6vn+zvD/t5itoX1ejvi2HXytG9Pf/4yDESRRRirQZT1gDn6MGwmcJ' + 'JfWqPBUiBf4SQhy0VHhgDRhoxv1ZsAhtWpzFYcHZOFihgb4zFC60dOmrlmXJiSomyBZ2YpiZigYK' + 'oIYAIGkiMAiwM8MMgCyIACjNhTPqzAnwKNMoKP/jIsRSJSlqhAma0AChCECX2WopEOPhhoiCKtdU' + 'FCCgKJA0W01lY2TxupC5HD8td2jhciVYlirC37fwM/kcmq9jHKMSipK977GKSz039KNFCnN8BxNk' + 'yKQ7PaifSU06ZWbLXIRrxeNesv/jIMQZFAk6zD/MMAKWQS5DeCUx/Y3lI4WvyH8L5+c/sB9iWul3' + 'X4R9zz7SwOgUyMBtTkhABBIUn1CLs///////9YC1KgVL/IbU4pxAdm9RCY22Fl3QDjRdhcbGgh/G' + 'wR2i7lo1CmY0/+MixCMT0ZasGMPKX2VNy3/JfvZB7an/a3fEB8Ky4hh6gJUlR8Y0bs8ZsysdHzOS' + '5lQSpSjDL8SjagVdQAPkgaNhAzDy0U7Ny7ewjcdcD9uihn7LI+uRtxwzNFzBvzo+Dh1KUoG4nLxM' + '/+MgxC8TQaK0HnnHLvdpTPyNVqWq8ps87Xc4tp+84odaBg0EhAGhAEm9SAVb+0XZfMCMzNKdBLCf' + 'WT9Cl5ZjyQd6VlAraiTVvTti91RulyZBkwXuoV3YXmOkKVn5U0rzPNMp1ltR6t7/4yLEPRQ5lqwY' + 'w1ETceczuhocBflPuWRyT5NPfTibxXsKc3HAHohRMAuHFwWYsiboQoSDQaBHij2BTtI1iU2jto6y' + 'cFqsuHDPAswsJlcSaDHBypOCRwT6zM81yPX/lTY4KIGgWSGQ4+n/4yDESBLppsg+SYaW///sUgod' + 'AxFs3LEahGcMIGORNKMFqJMRseA8gjpVF3QapN5RoQOoQ0DWBwiRkkW4R+n8dpREBICTA00IFzMp' + 'EJUo25plEqklOrq6VWSDH6/u3crqCEL0P4bJIP/jIsRXE9ECWADD0lknZeEGlVUAgUCFiDzDzCj4' + 'WjRpT2WWWUGKhkz4qKC1QsK/ioqLN9ISFhURmfWKi3//////////QDIVFBIHgZFaTEFNRTMuOTku' + 'Naqqqqqqqqqqqqqqqqqqqqqqqv/jIMRjEaCVZAp5hlCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq' + 'qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq' + 'qqqqqqqqqqqq' } Object.assign(EventSounds.prototype, { /** * Collection of {@link EventSoundsElement} objects * @name EventSounds#elements * @type {object} */ elements: { start: new EventSoundsElement('start', EventSounds.MEDIA.start), click: new EventSoundsElement('click', EventSounds.MEDIA.click), actionOk: new EventSoundsElement('actionOk', EventSounds.MEDIA.actionOk), actionError: new EventSoundsElement('actionError', EventSounds.MEDIA.actionError), finishedOk: new EventSoundsElement('finishedOk', EventSounds.MEDIA.finishedOk), finishedError: new EventSoundsElement('finishedError', EventSounds.MEDIA.finishedError) }, /** * Whether this event sounds are enabled or not * @name EventSounds#enabled * @type {number} */ enabled: Utils.DEFAULT, /** * This attribute is intended to be used at prototype level, to indicate a globally disabled * or enabled state. * @name EventSounds#globalEnabled * @type {boolean} */ globalEnabled: true, }) return EventSounds }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"media_EventSoundsElement.js.html":{"id":"media_EventSoundsElement.js.html","title":"Source: media/EventSoundsElement.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: media/EventSoundsElement.js /** * File : media/EventSoundsElement.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;../Utils&quot;, &quot;./ActiveMediaPlayer&quot;, &quot;./MediaContent&quot; ], function (Utils, ActiveMediaPlayer, MediaContent) { /** * The EventSoundsElement object contains the description of a specific sound to be played when * one of the JClic events are fired. * For a full list of the JClic events see: {@link EventSounds} * @exports EventSoundsElement * @class */ class EventSoundsElement { /** * EventSoundsElement constructor * @param {string} id - The identifier of this media sound * @param {string=} fileName - An optional file name or URL containing the sound data */ constructor(id, fileName) { this.id = id if (fileName) { if (Utils.startsWith(fileName, 'data:')) this.audio = new Audio(fileName) else this.fileName = fileName } } /** * Reads the properties of this object from an XML element * @param {external:jQuery} $xml - The XML element to be parsed */ setProperties($xml) { this.fileName = $xml.attr('file') this.enabled = Utils.getTriState($xml.attr('enabled')) return this } /** * Instantiates this audio object * @param {PlayStation} ps * @param {MediaBag} mediaBag */ realize(ps, mediaBag) { if (!this.audio &amp;&amp; this.player === null &amp;&amp; this.fileName !== null) { this.player = new ActiveMediaPlayer(new MediaContent('PLAY_AUDIO', this.fileName), mediaBag, ps) this.player.realize() } } /** * Plays the audio associated to this event */ play() { if (this.enabled) { if (this.audio) { this.audio.currentTime = 0 this.audio.play() } else if (this.player) this.player.play() } } /** * Stops playing the audio associated to this event */ stop() { if (this.enabled) { if (this.audio) this.audio.pause() else if (this.player) this.player.stop() } } } Object.assign(EventSoundsElement.prototype, { /** * The sound file used by this element * @name EventSoundsElement#fileName * @type {string} */ fileName: null, /** * Whether the sound for this event is enabled or not * @name EventSoundsElement#enabled * @type {number} */ enabled: Utils.DEFAULT, /** * Media player used to play this sound * @name EventSoundsElement#player * @type {ActiveMediaPlayer} */ player: null, /** * HTMLAudioElement used to play this sound * @name EventSoundsElement#audio * @type {HTMLAudioElement} */ audio: null, }) return EventSoundsElement }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_puzzles_ExchangePuzzle.js.html":{"id":"activities_puzzles_ExchangePuzzle.js.html","title":"Source: activities/puzzles/ExchangePuzzle.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/puzzles/ExchangePuzzle.js /** * File : activities/puzzles/ExchangePuzzle.js * Created : 30/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, BoxConnector, AWT) { /** * This class of {@link Activity} shows only one panel with scrambled {@link ActiveBox} objects. * To solve the activity, each cell must exchange its location with another one. When all cells are * on place, the activity is done. * @exports ExchangePuzzle * @class * @extends Activity */ class ExchangePuzzle extends Activity { /** * ExchangePuzzle constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity. * @override * @returns {number} */ getMinNumActions() { return this.abc.primary.getNumCells() } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * When `true`, the activity must always be scrambled * @override * @returns {boolean} */ shuffleAlways() { return true } /** * Whether the activity allows the user to request help. * @override * @returns {boolean} */ helpSolutionAllowed() { return true } } /** * The {@link ActivityPanel} where activities of type {@link ExchangePuzzle} are played. * @class * @extends ActivityPanel */ class ExchangePuzzlePanel extends Activity.Panel { /** * ExchangePuzzlePanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bg) { this.bg.end() this.bg = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abc = this.act.abc['primary'] if (abc) { if (abc.imgName) abc.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) this.act.acp.generateContent(abc.nch, abc.ncw, [abc], false) this.bg = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abc) this.bg.setContent(abc) this.bg.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bg) { this.shuffle([this.bg], true, true) if (this.useOrder) this.currentItem = this.bg.getNextItem(-1) this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bg &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bg.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return !this.bg || this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutSingle(preferredMaxSize, this.bg, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bg) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) this.$div.append(this.$canvas) // Create a [BoxConnector](BoxConnector.html) and attach it to the canvas context this.bc = new BoxConnector(this, this.$canvas.get(-1).getContext('2d')) // Repaint all this.invalidate().update() } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas &amp;&amp; this.bg) { super.buildAccessibleComponents() this.bg.buildAccessibleElements(this.$canvas, this.$div, 'mousedown') } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.bc &amp;&amp; this.playing) { // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated let p = null // // Two [ActiveBox](ActiveBox.html) pointers used for the [BoxConnector](BoxConnector.html) // `origin` and `dest` points. let bx1, bx2 // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } // Flag for tracking `mouseup` events let up = false switch (event.type) { case 'touchcancel': // Canvel movement if (this.bc.active) this.bc.end() break case 'mouseup': // Don't consider drag moves below 3 pixels. Can be a &quot;trembling click&quot; if (this.bc.active &amp;&amp; p.distanceTo(this.bc.origin) &lt;= 3) break up = true /* falls through */ case 'touchend': case 'touchstart': case 'mousedown': if (!this.bc.active) { // New pairing starts // // Pairings never can start with a `mouseup` event if (up) break this.ps.stopMedia(1) // Find the ActiveBox behind the clicked point bx1 = this.bg.findActiveBox(p) if (bx1) { // Start the [BoxConnector](BoxConnector.html) if (this.act.dragCells) this.bc.begin(p, bx1) else this.bc.begin(p) // Play cell media or event sound if (!bx1.playMedia(this.ps, delayedActions)) this.playEvent('click') } } else { this.ps.stopMedia(1) // Pairing completed // // Find the active boxes behind `bc.origin` and `p` if (this.act.dragCells) bx1 = this.bc.bx else bx1 = this.bg.findActiveBox(this.bc.origin) this.bc.end() bx2 = this.bg.findActiveBox(p) // // Check if the pairing was OK if (bx1 &amp;&amp; bx2) { const src = `${bx1.getDescription()} (${bx1.idOrder})`, dest = `(${bx2.idLoc})` let ok = (bx1.idOrder === bx2.idLoc) this.bg.swapCellPositions(bx1, bx2, true) // Check results and notify action const cellsAtPlace = this.bg.countCellsAtEquivalentPlace(true) this.ps.reportNewAction(this.act, 'PLACE', src, dest, ok, cellsAtPlace) // End activity or play event sound if (ok &amp;&amp; cellsAtPlace === this.bg.getNumCells()) this.finishActivity(true) else this.playEvent(ok ? 'actionOk' : 'actionError') } this.update() } break case 'mousemove': case 'touchmove': this.bc.moveTo(p) break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(ExchangePuzzlePanel.prototype, { /** * The {@link ActiveBoxBag} object containing the information to be displayed in the panel. * @name ExchangePuzzlePanel#bg * @type {ActiveBoxBag} */ bg: null, /** * The box connector * @name ExchangePuzzlePanel#bc * @type {BoxConnector} */ bc: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name ExchangePuzzlePanel#events * @type {string[]} */ events: ['mousedown', 'mouseup', 'mousemove', 'touchstart', 'touchend', 'touchmove', 'touchcancel'], }) /** * Panel class associated to this type of activity: {@link ExchangePuzzlePanel} * @type {class} */ ExchangePuzzle.Panel = ExchangePuzzlePanel // Register class in Activity.prototype Activity.CLASSES['@puzzles.ExchangePuzzle'] = ExchangePuzzle return ExchangePuzzle }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_panels_Explore.js.html":{"id":"activities_panels_Explore.js.html","title":"Source: activities/panels/Explore.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/panels/Explore.js /** * File : activities/panels/Explore.js * Created : 04/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../AWT&quot;, &quot;../../shapers/Rectangular&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, AWT, Rectangular) { /** * This class of {@link Activity} shows a panel with {@link ActiveBox} objects. Users can click * on this objects to obtain associated information. This associated information, displayed in * a second panel, can be text graphics, sound, video... or a combination of them. * @exports Explore * @class * @extends Activity */ class Explore extends Activity { /** * Explore constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * Activities of this type never end, so automatic sequences must pause here * @override * @returns {boolean} */ mustPauseSequence() { return true } /** * Retrieves the minimum number of actions needed to solve this activity * @override * @returns {number} */ getMinNumActions() { return 0 } /** * Usually this activity don't use random to scramble internal components, but in some cases * can make use of it. * @override * @returns {boolean} */ hasRandom() { return true } } /** * The {@link ActivityPanel} where {@link Explore} activities are played. * @class * @extends ActivityPanel * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. */ class ExplorePanel extends Activity.Panel { /** * ExplorePanel constructor * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bgA) { this.bgA.end() this.bgA = null } if (this.bgB) { this.bgB.end() this.bgB = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abcA = this.act.abc['primary'], abcB = this.act.abc['secondary'] if (abcA &amp;&amp; abcB) { if (abcA.imgName) { abcA.setImgContent(this.act.project.mediaBag, null, false) if (abcA.animatedGifFile &amp;&amp; !abcA.shaper.rectangularShapes &amp;&amp; !this.act.scramble['primary']) this.$animatedBg = $('&lt;span/&gt;').css({ 'background-image': `url(${abcA.animatedGifFile})`, 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (abcB.imgName) abcB.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) this.act.acp.generateContent(abcA.nch, abcA.ncw, [abcA, abcB], false) this.bgA = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abcA) const w = (this.act.boxGridPos === 'AUB' || this.act.boxGridPos === 'BUA') ? abcA.getTotalWidth() : abcB.w this.bgB = new ActiveBoxGrid(null, this, abcB.bb, this.act.margin, this.act.margin, w, abcB.h, new Rectangular(1, 1)) this.bgA.setContent(abcA) this.bgA.setDefaultIdAss() if (this.$animatedBg) this.bgA.setCellAttr('tmpTrans', true) this.bgB.getActiveBox(0).setInactive(false) this.bgA.setVisible(true) this.bgB.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bgA &amp;&amp; this.bgB) { // Scramble cells if (this.act.scramble.primary) this.shuffle([this.bgA], true, true) if (this.useOrder) this.currentItem = this.bgA.getNextItem(-1) this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bgA &amp;&amp; this.bgB &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bgA.update(ctx, dirtyRegion) this.bgB.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return !this.bgA || !this.bgB || this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutDouble(preferredMaxSize, this.bgA, this.bgB, this.act.boxGridPos, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bgA || this.bgB) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) // Resize animated gif background if (this.$animatedBg) { const bgRect = this.bgA.getBounds() this.$animatedBg.css({ left: bgRect.pos.x, top: bgRect.pos.y, width: `${bgRect.dim.width}px`, height: `${bgRect.dim.height}px`, 'background-size': `${bgRect.dim.width}px ${bgRect.dim.height}px` }) } this.$div.append(this.$canvas) // Repaint all this.invalidate().update() } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas) { super.buildAccessibleComponents() if (this.bgA) this.bgA.buildAccessibleElements(this.$canvas, this.$div) if (this.bgB) this.bgB.buildAccessibleElements(this.$canvas, this.$div) } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.playing) { const p = new AWT.Point( event.pageX - this.$div.offset().left, event.pageY - this.$div.offset().top), // Array to be filled with actions to be executed at the end of event processing delayedActions = [] switch (event.type) { case 'click': this.ps.stopMedia(1) const bx1 = this.bgA.findActiveBox(p) if (bx1) { const bx2 = this.bgB.getActiveBox(0) if (bx1.idAss !== -1 &amp;&amp; (!this.act.useOrder || bx1.idOrder === this.currentItem)) { bx2.setContent(this.act.abc['secondary'], bx1.idAss) if (!bx2.playMedia(this.ps, delayedActions) &amp;&amp; !bx1.playMedia(this.ps, delayedActions)) this.playEvent('CLICK') if (this.act.useOrder) this.currentItem = this.bgA.getNextItem(this.currentItem) this.ps.reportNewAction(this.act, 'SELECT', bx1.getDescription(), bx2.getDescription(), true, 0) if (bx2.$accessibleElement) bx2.$accessibleElement.focus() } else { bx2.clear() bx2.setInactive(false) } this.update() } break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(ExplorePanel.prototype, { /** * The {@link ActiveBoxBag} object containing the information to be displayed in the `primary` panel * @name ExplorePanel#bgA * @type {ActiveBoxBag} */ bgA: null, /** * The {@link ActiveBoxBag} object containing the information associated to `primary` elements. * Only one of this elements will be showed for each click done in the `primary` panel. * @name ExplorePanel#bgB * @type {ActiveBoxBag} */ bgB: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name ExplorePanel#events * @type {string[]} */ events: ['click'], }) /** * Panel class associated to this type of activity: {@link ExplorePanel} * @type {class} */ Explore.Panel = ExplorePanel // Register class in Activity.prototype Activity.CLASSES['@panels.Explore'] = Explore return Explore }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"JClic.js.html":{"id":"JClic.js.html","title":"Source: JClic.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: JClic.js /*! * File : JClic.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ // Declaration of JSDoc external objects: /** * The HTMLElement interface represents any HTML element. Some elements directly implement this * interface, others implement it via an interface that inherits it. * @external HTMLElement * @see {@link https://developer.mozilla.org/ca/docs/Web/API/HTMLElement} */ /** * A jQuery object * @external jQuery * @see {@link http://api.jquery.com/jQuery/} */ /** * The jQuery XMLHttpRequest (jqXHR) object returned by `$.ajax()` as of jQuery 1.5 is a superset * of the browser's native [XMLHttpRequest](https://developer.mozilla.org/docs/XMLHttpRequest) object. * As of jQuery 1.5, jqXHR objects implement the Promise interface, giving them * all the properties, methods, and behavior of a Promise. * @external jqXHR * @see {@link https://api.jquery.com/jQuery.ajax/#jqXHR} */ /** * The CanvasRenderingContext2D interface provides the 2D rendering context for the drawing surface * of a &amp;lt;canvas&amp;gt; element. * @external CanvasRenderingContext2D * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D} */ /** * The HTMLImageElement interface provides special properties and methods (beyond the regular * {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement HTMLElement} interface it * also has available to it by inheritance) for manipulating the layout and presentation of * &amp;lt;img&amp;gt; elements. * @external HTMLImageElement * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement} */ /** * The HTMLAudioElement interface provides access to the properties of &amp;lt;audio&amp;gt; elements, as * well as methods to manipulate them. It derives from the * {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement HTMLMediaElement} interface. * @external HTMLAudioElement * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement} */ /** * The Intl.Collator object is a constructor for collators, objects that enable language sensitive * string comparison. * @external Collator * @see {@link https://developer.mozilla.org/ca/docs/Web/JavaScript/Reference/Global_Objects/Collator} */ /** * A JSZip object * @external JSZip * @see {@link https://stuk.github.io/jszip} */ /** * The MediaRecorder interface of the {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder_API MediaRecorder API} * provides functionality to easily capture media. * @external MediaRecorder * @see {@link https://developer.mozilla.org/ca/docs/Web/API/MediaRecorder} */ /** * An i18next object, used to translate literals * @external i18next * @see {@link http://i18next.com} */ /** * The Promise object is used for asynchronous computations. A Promise represents an operation * that hasn't completed yet, but is expected in the future. * @external Promise * @see {@link https://developer.mozilla.org/ca/docs/Web/JavaScript/Reference/Global_Objects/Promise} */ /** * The Storage interface of the Web Storage API provides access to the session storage or local storage for a particular domain, * allowing you to for example add, modify or delete stored data items. * @external Storage * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Storage} */ /** * The NamedNodeMap interface represents a collection of Attr objects. Objects inside a NamedNodeMap are not in any particular * order, unlike NodeList, although they may be accessed by an index as in an array. * @external NamedNodeMap * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap} */ /* global define:true, JClicDataProject, JClicDataOptions */ // Mock `define` when called from a JavaScript environment without native AMD support (like Node.js) // For an example of how to call JClic.js in node.js, see: // `/test/nodejs/listProjectContents.js` if (typeof define === 'undefined') define = function (deps, callback) { return callback.apply(null, deps.map(dep =&gt; require(dep))) } // Initial empty definition of `JClicObject`, to be filled with real data in `define` const JClicObject = {}; define([ &quot;jquery&quot;, &quot;./JClicPlayer&quot;, &quot;./project/JClicProject&quot;, &quot;./AWT&quot;, &quot;./Utils&quot;, &quot;./Deps&quot; ], function ($, JClicPlayer, JClicProject, AWT, Utils /*, deps*/) { /** * This is the main method of JClic * * Executes on `document.ready()`. * * The method iterates over all `div` objects with `JClic` class and creates a {@link JClicPlayer} * within them. Each player loads the JClic project file specified in the `data-project` attribute of * the `div` tag. * * The `div` elements must preferabily be empty. Inner content may become overlapped by objects * created by the JClic player. * * This method exports the global variable `window.JClicObject`, useful when other scripts * need to make direct calls to the main components of JClic. * * The main members of the global variable `JClicObject` are: * - `JClicObject.JClicPlayer` (the {@link JClicPlayer} object) * - `JClicObject.JClicProject` (the {@link JClicProject} object) * - `JClicObject.AWT` (the {@link AWT} object) * - `JClicObject.Utils` (the {@link Utils} object) * - `JClicObject.$` (the JQuery object) * - `JClicObject.options` (the main options loaded at startup, usually the content of the global variable `JClicDataOptions`) * - `JClicObject.projectFiles` (used by JSONP to store the content of some files when inaccessible to the browser because CORS or other restrictions) * - `JClicObject.currentPlayers` (array with references to the players currently running) * - `JClicObject.loadProject` (a function that starts a JClicPlayer on a specific `div`) * * @module JClic * @exports JClicObject * @example &lt;caption&gt; * Creates a JClic div and loads &quot;myproject.jclic&quot; on it: * &lt;/caption&gt;&lt;div class =&quot;JClic&quot; data-project=&quot;myproject.jclic&quot;&gt;&lt;/div&gt; * @example &lt;caption&gt; * Creates a JClic div that loads &quot;myproject.jclic&quot; with additional parameters, passed as a JSON string. * Note that `data-options` should be delimited by apostrophes `'` because quotation marks `&quot;` are used * for JSON keys and values: * &lt;/caption&gt;&lt;div class =&quot;JClic&quot; data-project=&quot;myproject.jclic&quot; data-options='{&quot;fade&quot;:&quot;400&quot;,&quot;lang&quot;:&quot;es&quot;,&quot;reporter&quot;:&quot;TCPReporter&quot;,&quot;user&quot;:&quot;test01&quot;,&quot;path&quot;:&quot;localhost:9090&quot;}'&gt;&lt;/div&gt; */ Object.assign(JClicObject, { JClicPlayer: JClicPlayer, JClicProject: JClicProject, AWT: AWT, Utils: Utils, $: $, options: typeof JClicDataOptions === 'undefined' ? {} : JClicDataOptions, projectFiles: {}, currentPlayers: [], /** * * Creates a new JClicPlayer hosted on the specified `div`, and loads an specific project on it. * @param {HTMLElement} div - The HTML element (usually a `&lt;div/&gt;`) that will be used as a main container of the player. * @param {string} projectName - The file name or URL of the JClic project to be loaded * @param {object=} options - An optional set of preferences * @returns {JClicPlayer} */ loadProject: function (div, projectName, options) { //options = Utils.init(Object.assign({}, JClicObject.options, options)) options = Utils.init($.extend(Object.create(JClicObject.options), options || {})) let player = null // Find if there is another player already running on 'div' for (const pl of JClicObject.currentPlayers) { if (pl &amp;&amp; pl.$topDiv &amp;&amp; pl.$topDiv.get(-1) === div) { // Player found! Check if it has the same options Utils.log('debug', 'Existing JClicPlayer found in div. I will try to reuse it.') player = pl for (const prop of Object.getOwnPropertyNames(options)) { if (!player.options.hasOwnProperty(prop) || player.options[prop] !== options[prop]) { Utils.log('debug', 'Existing JClicPlayer has diferent options! Creating a new one from scratch.') player = null break } } break } } if (player) player.reset() else { Utils.log('debug', 'Creating a new instance of JClicPlayer') player = new JClicPlayer($(div).empty(), options) } if (projectName) player.initReporter() .then(() =&gt; player.load(projectName)) .catch(err =&gt; { Utils.log('error', `Unable to start reporting: ${err.toString()}.\\n JClicPlayer will be removed.'`) $(div).empty().removeAttr('style').append($('&lt;h2/&gt;').html(player.getMsg('ERROR'))).append($('&lt;p/&gt;').html(err)) const i = JClicObject.currentPlayers.indexOf(player) if (i &gt;= 0) JClicObject.currentPlayers.splice(i, 1) player = null }) if (player &amp;&amp; options.savePlayersRef !== false &amp;&amp; JClicObject.currentPlayers.indexOf(player) === -1) JClicObject.currentPlayers.push(player) return player } }) // Make JClicObject global and attach resize handler if (typeof window !== 'undefined') { window.JClicObject = JClicObject const fnFit = () =&gt; JClicObject.currentPlayers.forEach(player =&gt; { if (player &amp;&amp; player.skin) player.skin.fit() }) $(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange', fnFit); $(window).resize(fnFit); } // Execute on document ready $(function () { // If defined, load the global variable `JClicDataOptions` let options = typeof JClicDataOptions === 'undefined' ? {} : JClicDataOptions JClicObject.options = options if (!options.noInit) { // If defined, load the global variable `JClicDataProject` or `JClicObject.projectFile` let projectName = typeof JClicDataProject === 'string' ? JClicDataProject : typeof JClicObject.projectFile === 'string' ? JClicObject.projectFile : null // Search DOM elements with class &quot;JClic&quot; (usually of type 'div') and iterate over them // initializing players $('.JClic').each((_n, element) =&gt; { const $div = $(element) const prj = $div.data('project') if (prj) projectName = prj const opt = $div.data('options') if (opt) options = $.extend(Object.create(options), opt) JClicObject.loadProject(element, projectName, options) }) } }) return JClicObject }) // Export JClicObject as a result if (typeof module !== 'undefined') { exports = module.exports = JClicObject } × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_FillInBlanks.js.html":{"id":"activities_text_FillInBlanks.js.html","title":"Source: activities/text/FillInBlanks.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/FillInBlanks.js /** * File : activities/text/FillInBlanks.js * Created : 20/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Utils&quot;, &quot;../../Activity&quot;, &quot;./TextActivityBase&quot; ], function ($, Utils, Activity, TextActivityBase) { /** * In this type of activity the text document has some blanks that must be filled-in. The blanks * can be drop-down boxes or text fields (empty or pre-filled with an initial text). Blanks can * also have associated clues, shown as &quot;pop-ups&quot;. * @exports FillInBlanks * @class * @extends TextActivityBase */ class FillInBlanks extends TextActivityBase { /** * FillInBlanks constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * This kind of activity usually makes use of the keyboard * @override * @returns {boolean} */ needsKeyboard() { return true } } Object.assign(FillInBlanks.prototype, { /** * Whether to jump or not to the next target when the current one is solved. * @name FillInBlanks#autoJump * @type {boolean} */ autoJump: false, /** * Whether to block or not the jump to other targets until the current one * is resolved. * @name FillInBlanks#forceOkToAdvance * @type {boolean} */ forceOkToAdvance: false, }) /** * The {@link TextActivityBasePanel} where {@link FillInBlanks} activities are played. * @class * @extends TextActivityBasePanel */ class FillInBlanksPanel extends TextActivityBase.Panel { /** * FillInBlanksPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Creates a target DOM element for the provided target. This DOM element can be an editable * `span` or a `select` with specific `option` elements (when the target is a drop-down list) * @override * @param {TextActivityDocument.TextTarget} target - The target related to the DOM object to be created * @param {external:jQuery} $span - - An initial DOM object (usually a `span`) that can be used * to store the target, or replaced by another type of object. * @returns {external:jQuery} - The jQuery DOM element loaded with the target data. */ $createTargetElement(target, $span) { $span.addClass('JClicTextTarget') const idLabel = `target${`000${this.targets.length - 1}`.slice(-3)}` if (target.isList &amp;&amp; target.options &amp;&amp; target.options.length &gt; 0) { // Use a `select` element $span = $('&lt;select/&gt;', { id: idLabel, name: idLabel }) if (target.options[0].trim() !== '') $('&lt;option selected/&gt;', { value: '', text: '' }).appendTo($span) target.options.forEach(op =&gt; $('&lt;option/&gt;', { value: op, text: op }).appendTo($span)) target.$comboList = $span.bind('focus change', event =&gt; { event.textTarget = target this.processEvent(event) }) } else { // Use a `span` element with the `contentEditable` attribute set `on` target.currentText = target.iniText ? target.iniText : Utils.fillString(target.iniChar, target.numIniChars) target.$span = $span.text(target.currentText).attr({ contenteditable: 'true', id: idLabel, autocomplete: 'off', spellcheck: 'false' }).bind('focus input blur', event =&gt; { event.textTarget = target this.processEvent(event) }).bind('keydown keyup', event =&gt; { // Catch `enter` key in Firefox if (event.keyCode === 13) { event.preventDefault() if (event.type === 'keydown') { // Simulate a `blur` event event.textTarget = target event.type = 'blur' this.processEvent(event) } } }) } return $span } /** * Evaluates all the targets in this panel. This method is usually called from the `Check` button. * @override * @returns {boolean} - `true` when all targets are OK, `false` otherwise. */ evaluatePanel() { let targetsOk = 0 const numTargets = this.targets.length this.targets.forEach(target =&gt; { const result = this.act.ev.evalText(target.readCurrentText(), target.answers), ok = this.act.ev.isOk(result) target.targetStatus = ok ? 'SOLVED' : 'WITH_ERROR' if (ok) targetsOk++ this.markTarget(target, result) this.ps.reportNewAction(this.act, 'WRITE', target.currentText, target.getAnswers(), ok, targetsOk) }) if (targetsOk === numTargets) { this.finishActivity(true) return true } else this.playEvent('finishedError') return false } /** * Checks if the specified TextTarget has a valid answer in its `currentText` field * @param {TextActivityDocument.TextTarget} target - The target to check * @param {boolean} onlyCheck - When `true`, the cursor will no be re-positioned * @param {number=} jumpDirection - `1` to go forward, `-1` to go back. * @returns {boolean} - `true` when the target contains a valid answer */ checkTarget(target, onlyCheck, jumpDirection) { const result = this.act.ev.evalText(target.currentText, target.answers), ok = this.act.ev.isOk(result) target.targetStatus = ok ? 'SOLVED' : 'WITH_ERROR' if (onlyCheck) return ok this.markTarget(target, result) const targetsOk = this.countSolvedTargets(false, false) if (target.currentText.length &gt; 0) this.ps.reportNewAction(this.act, 'WRITE', target.currentText, target.getAnswers(), ok, targetsOk) if (ok &amp;&amp; targetsOk === this.targets.length) { this.finishActivity(true) return ok } else if (target.currentText.length &gt; 0) this.playEvent(ok ? 'actionOk' : 'actionError') if (jumpDirection &amp;&amp; jumpDirection !== 0) { let p = target.num + jumpDirection if (p &gt;= this.targets.length) p = 0 else if (p &lt; 0) p = this.targets.length - 1 const destTarget = this.targets[p] if (destTarget.$span) { destTarget.$span.focus() Utils.setSelectionRange(destTarget.$span.get(-1), 0, 0) } else if (destTarget.$comboList) destTarget.$comboList.focus() } return ok } /** * Counts the number of targets with `SOLVED` status * @param {boolean} checkNow - When `true`, all targets will be evaluated. Otherwise, only the * current value of `targetStatus` will be checked. * @param {boolean=} mark - When `true`, errors in the target answer will be marked. * @returns {number} - The number of targets currently solved. */ countSolvedTargets(checkNow, mark) { return this.targets.reduce((n, target) =&gt; { if (checkNow) { target.readCurrentText() this.checkTarget(target, !mark) } return target.targetStatus === 'SOLVED' ? ++n : n }, 0) } /** * Visually marks the target as 'solved OK' or 'with errors'. * @param {TextActivityDocument.TextTarget} target - The text target to be marked. * @param {number[]} attributes - - Array of flags indicating the status (OK or error) for each * character in `target.currentText`. */ markTarget(target, attributes) { if (target.$comboList || this.act.ev.isOk(attributes)) target.checkColors() else if (target.$span) { // Identify text fragments const txt = target.currentText, fragments = [] let currentStatus = -1, currentFragment = -1, i = 0 for (; i &lt; attributes.length &amp;&amp; i &lt; txt.length; i++) { if (attributes[i] !== currentStatus) { fragments[++currentFragment] = '' currentStatus = attributes[i] } fragments[currentFragment] += txt.charAt(i) } if (i &lt; txt.length) fragments[currentFragment] += txt.substr(i) // Empty and re-fill $span target.$span.empty() currentStatus = attributes[0] fragments.forEach(fragment =&gt; { $('&lt;span/&gt;') .text(fragment) .css(target.doc.style[currentStatus === 0 ? 'target' : 'targetError'].css) .appendTo(target.$span) currentStatus ^= 1 }) } // Target has been marked, so clear the 'modified' flag target.flagModified = false } /** * Called by {@link JClicPlayer} when this activity panel is fully visible, just after the * initialization process. * @override */ activityReady() { super.activityReady() // Prevent strange behavior with GoogleChrome when `white-space` CSS attribute is set to // `pre-wrap` (needed for tabulated texts) $('.JClicTextTarget').css('white-space', 'normal') if (this.targets.length &gt; 0 &amp;&amp; this.targets[0].$span) this.targets[0].$span.focus() } /** * Ordinary ending of the activity, usually called form `processEvent` * @override * @param {boolean} result - `true` if the activity was successfully completed, `false` otherwise */ finishActivity(result) { this.targets.forEach(target =&gt; { if (target.$span) target.$span.removeAttr('contenteditable').blur() else if (target.$comboList) target.$comboList.attr('disabled', 'true').blur() }) return super.finishActivity(result) } /** * Main handler used to process mouse, touch, keyboard and edit events. * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (!super.processEvent(event)) return false const target = event.textTarget let $span = null, pos = 0 switch (event.type) { case 'focus': if (target) { if (target.$span &amp;&amp; target.$span.children().length &gt; 0) { // Clear inner spans used to mark errors $span = target.$span pos = Math.min( target.currentText.length, Utils.getCaretCharacterOffsetWithin($span.get(-1))) $span.empty() $span.text(target.currentText) Utils.setSelectionRange($span.get(-1), pos, pos) target.flagModified = true } else if (target.$comboList) target.$comboList.css(target.doc.style['target'].css) if (target.$popup &amp;&amp; (target.infoMode === 'always' || target.infoMode === 'onError' &amp;&amp; target.targetStatus === 'WITH_ERROR')) this.showPopup(target.$popup, target.popupMaxTime, target.popupDelay) else this.showPopup(null) } break case 'blur': if (target.flagModified &amp;&amp; !this.$checkButton) this.checkTarget(target, false, 1) break case 'input': if (target &amp;&amp; target.$span) { $span = target.$span let txt = $span.html() // Check for `enter` key if (/(&lt;br&gt;|\\n|\\r)/.test(txt)) { txt = txt.replace(/(&lt;br&gt;|\\n|\\r)/g, '') $span.html(txt) target.currentText = $span.text() return this.$checkButton ? false : this.checkTarget(target, false, 1) } // Check if text has changed // From here, use 'text' instead of 'html' to avoid HTML entities txt = $span.text() if (txt !== target.currentText) { // Span text has changed! target.flagModified = true const added = txt.length - target.currentText.length if (added &gt; 0) { if (txt.indexOf(target.iniChar) &gt;= 0) { // Remove filling chars pos = Utils.getCaretCharacterOffsetWithin($span.get(-1)) for (let i = 0; i &lt; added; i++) { const p = txt.indexOf(target.iniChar) if (p &lt; 0) break txt = txt.substr(0, p) + txt.substr(p + 1) if (p &lt; pos) pos-- } $span.text(txt) Utils.setSelectionRange($span.get(-1), pos, pos) } // Check if current text exceeds max length if (txt.length &gt; target.maxLenResp) { pos = Utils.getCaretCharacterOffsetWithin($span.get(-1)) txt = txt.substr(0, target.maxLenResp) pos = Math.min(pos, txt.length) $span.text(txt) Utils.setSelectionRange($span.get(-1), pos, pos) } } else if (txt === '') { txt = target.iniChar $span.text(txt) Utils.setSelectionRange($span.get(-1), 0, 0) } target.currentText = txt } } break case 'change': if (target &amp;&amp; target.$comboList) { target.currentText = target.$comboList.val() target.flagModified = true return this.$checkButton ? false : this.checkTarget(target, false, 1) } break default: break } return true } } Object.assign(FillInBlanksPanel.prototype, { /** * Flag indicating if the activity is open or locked * @name FillInBlanksPanel#locked * @type {boolean} */ locked: true, }) /** * Panel class associated to this type of activity: {@link FillInBlanksPanel} * @type {class} */ FillInBlanks.Panel = FillInBlanksPanel // Register class in Activity.prototype Activity.CLASSES['@text.FillInBlanks'] = FillInBlanks return FillInBlanks }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_GreenSkin.js.html":{"id":"skins_GreenSkin.js.html","title":"Source: skins/GreenSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/GreenSkin.js /** * File : skins/GreenSkin.js * Created : 04/07/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot;, &quot;./DefaultSkin&quot; ], function ($, Skin, DefaultSkin) { /** * This is a variant of the default {@link Skin} used by JClic.js * It differs from {@link DefaultSkin} only in some colors * @exports GreenSkin * @class * @extends DefaultSkin */ class GreenSkin extends DefaultSkin { /** * GreenSkin constructor * * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects needed to build this Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // GreenSkin extends [DefaultSkin](DefaultSkin.html) super(ps, name, options) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return super._getStyleSheets(media) + (media === 'default' ? this.skinCSS : '') } } Object.assign(GreenSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name GreenSkin#skinId * @override * @type {string} */ skinId: 'JClicGreenSkin', // // Buttons and other graphical resources used by this skin: /** * Fill color for icons * @name GreenSkin#iconFill * @override * @type {string} */ iconFill: '#20640E', /** * Fill-in color for counters * @name GreenSkin#counterIconFill * @override * @type {string} */ counterIconFill: '#20640E', /** * Styles used in this skin * @name GreenSkin#skinCSS * @type {string} */ skinCSS: '.ID {background-color:#4AFF19;}' }) // Register this class in the list of available skins Skin.CLASSES['green'] = GreenSkin return GreenSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_puzzles_HolePuzzle.js.html":{"id":"activities_puzzles_HolePuzzle.js.html","title":"Source: activities/puzzles/HolePuzzle.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/puzzles/HolePuzzle.js /** * File : activities/puzzles/HolePuzzle.js * Created : 01/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot;, &quot;../../shapers/Rectangular&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, BoxConnector, AWT, Rectangular) { /** * This class of {@link Activity} shows only one panel with scrambled {@link ActiveBox} cells. * * One of the cells is out of the main panel, thus allowing its neighbors occupy their space. * Only immediate neighbors of the &quot;hole&quot; can move into it. * * When all cells are on place, the initially &quot;expulsed&quot; cell comes back home and the activity is done. * @exports HolePuzzle * @class * @extends Activity */ class HolePuzzle extends Activity { /** * HolePuzzle constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity. * @override * @returns {number} */ getMinNumActions() { return this.abc.primary.getNumCells() } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * When `true`, the activity must always be scrambled * @override * @returns {boolean} */ shuffleAlways() { return true } /** * Whether the activity allows the user to request help * @override * @returns {boolean} */ helpSolutionAllowed() { return true } } /** * The {@link ActivityPanel} where {@link HolePuzzle} activities are played * @class * @extends ActivityPanel */ class HolePuzzlePanel extends Activity.Panel { /** * HolePuzzlePanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bg) { this.bg.end() this.bg = null } if (this.parkBg) { this.parkBg.end() this.parkBg = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abc = this.act.abc['primary'] if (abc) { if (abc.imgName) abc.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) this.act.acp.generateContent(abc.nch, abc.ncw, [abc], false) this.bg = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abc) this.bg.setContent(abc) this.bg.setVisible(true) this.hiddenBoxIndex = Math.floor(Math.random() * this.bg.getNumCells()) this.hiddenBox = this.bg.getActiveBox(this.hiddenBoxIndex) this.hiddenBox.setVisible(false) this.parkBg = new ActiveBoxGrid(null, this, abc.bb, this.act.margin, this.act.margin, this.hiddenBox.dim.width, this.hiddenBox.dim.height, new Rectangular(1, 1)) this.parkBg.setContent(abc, null, this.hiddenBoxIndex, 0, 1) this.parkBg.setBorder(this.bg.hasBorder()) this.parkBg.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bg) { // // This activity has an special shuffle method. Cells can move only to places near the 'hole' if (this.act.shuffles % 2 !== 1) this.act.shuffles++ for (var i = 0; i &lt; this.act.shuffles; i++) { const pth = this.bg.getCoord(this.hiddenBox) const v = Math.floor(Math.random() * 2) === 0 ? 1 : -1 if (Math.floor(Math.random() * 2) === 0) { pth.x += v; if (pth.x &lt; 0 || pth.x &gt;= this.bg.nCols) pth.x -= 2 * v } else { pth.y += v if (pth.y &lt; 0 || pth.y &gt;= this.bg.nRows) pth.y -= 2 * v } var dstBx = this.bg.getActiveBoxWithIdLoc(pth.y * this.bg.nCols + pth.x) if (dstBx !== null) this.hiddenBox.exchangeLocation(dstBx) } this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bg &amp;&amp; this.parkBg &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bg.update(ctx, dirtyRegion) this.parkBg.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return !this.bg || !this.parkBg || this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutDouble(preferredMaxSize, this.bg, this.parkBg, this.act.boxGridPos, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bg &amp;&amp; this.parkBg) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) this.$div.append(this.$canvas) // Repaint all this.invalidate().update() } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas &amp;&amp; this.bg) { super.buildAccessibleComponents() this.bg.buildAccessibleElements(this.$canvas, this.$div) } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.playing) { const p = new AWT.Point( event.pageX - this.$div.offset().left, event.pageY - this.$div.offset().top) // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] switch (event.type) { case 'click': this.ps.stopMedia(1) // Find the box behind the clicked point const bx = this.bg.findActiveBox(p) if (bx) { if (bx.isVisible()) { // Check if it's a valid move const pt = this.bg.getCoordDist(bx, this.hiddenBox); if (Math.abs(pt.x) + Math.abs(pt.y) === 1) { // Ok, the cell is adjacent to the hole. Complete the move. let m = bx.playMedia(this.ps, delayedActions) const src = `${bx.getDescription()} (${bx.idOrder})`, dest = `(${this.hiddenBox.idLoc})` bx.exchangeLocation(this.hiddenBox) const ok = bx.idOrder === bx.idLoc // Check results and notify action const cellsAtPlace = this.bg.countCellsAtEquivalentPlace(true) this.ps.reportNewAction(this.act, 'SELECT', src, dest, ok, cellsAtPlace) if (ok &amp;&amp; cellsAtPlace === this.bg.getNumCells()) { // Activity completed! this.hiddenBox.setVisible(true) this.parkBg.setVisible(false) this.finishActivity(true) } else if (!m) this.playEvent('click') } this.update() } else { this.playEvent('actionError') } } break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(HolePuzzlePanel.prototype, { /** * The {@link ActiveBoxBag} object containing the information to be displayed in the panel. * @name HolePuzzlePanel#bg * @type {ActiveBoxBag} */ bg: null, /** * An auxiliary box bag with only one box, used to store the &quot;missing piece&quot; of * the puzzle. * @name HolePuzzlePanel#parkBg * @type {ActiveBoxGrid} */ parkBg: null, /** * The hidden cell * @name HolePuzzlePanel#hiddenBox * @type {ActiveBox} */ hiddenBox: null, /** * Index of the hidden cell on the ActiveBagContent * @name HolePuzzlePanel#hiddenBoxIndex * @type {number} */ hiddenBoxIndex: -1, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name HolePuzzlePanel#events * @type {string[]} */ events: ['click'], }) /** * Panel class associated to this type of activity: {@link HolePuzzlePanel} * @type {class} */ HolePuzzle.Panel = HolePuzzlePanel // Register class in Activity.prototype Activity.CLASSES['@puzzles.HolePuzzle'] = HolePuzzle return HolePuzzle }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"shapers_Holes.js.html":{"id":"shapers_Holes.js.html","title":"Source: shapers/Holes.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: shapers/Holes.js /** * File : shapers/Holes.js * Created : 20/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Shaper&quot; ], function ($, Shaper) { /** * This {@link Shaper} consists of a set of arbitrary shapes placed over a main rectangle that * acts as a enclosure. * The components can be of type {@link AWT.Rectangle}, {@link AWT.Ellipse} or {@link AWT.Path}. * This components have internal dimension values relative to the horizontal and vertical * sizes of the enclosure. Its values (always between 0 and 1) must be scaled to real sizes * of graphic objects. * @exports Holes * @class * @extends Shaper */ class Holes extends Shaper { /** * Holes constructor * @param {number} nx - Not used * @param {number} ny - Not used */ constructor(nx, ny) { super(1, 1) this.nCols = nx this.nRows = ny this.showEnclosure = true } /** * Shapes are already loaded by {@link Shaper}, so this function just sets `initiated` to `true` * @override */ buildShapes() { if (this.nCells &gt; 0) this.initiated = true } /** * Gets the rectangle that contains all shapes * @override * @returns {AWT.Rectangle} */ getEnclosingShapeData() { return this.showEnclosure ? (this.enclosing || super.getEnclosingShapeData()) : null } } // Register this class in the list of known shapers Shaper.CLASSES['@Holes'] = Holes return Holes }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"shapers_Shaper.js.html":{"id":"shapers_Shaper.js.html","title":"Source: shapers/Shaper.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: shapers/Shaper.js /** * File : shapers/Shaper.js * Created : 13/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot;, &quot;../AWT&quot; ], function ($, Utils, AWT) { /** * The function of this class and its subclasses is to draw a set of &quot;shapes&quot; that will be used to * place {@link ActiveBox} objects at a specific position, and to determine its dimension and * appearance. * @exports Shaper * @class */ class Shaper { /** * Shaper constructor * @param {number} nx - Number of columns (in grid-based shapers) * @param {number} ny - Number of rows (in grid-based shapers) */ constructor(nx, ny) { this.reset(nx, ny) } /** * Factory constructor that returns a Shaper of the requested class. * @param {string} className - The class name of the requested Shaper. * @param {number} nx - Number of columns (in grid-based shapers) * @param {number} ny - Number of rows (in grid-based shapers) * @returns {Shaper} */ static getShaper(className, nx, ny) { const cl = Shaper.CLASSES[(className || '').replace(/^edu\\.xtec\\.jclic\\.shapers\\./, '@')] if (!cl) Utils.log('error', `Unknown shaper: ${className}`) return cl ? new cl(nx, ny) : null } /** * Initializes this Shaper to default values * @param {number} nCols - Number of columns * @param {number} nRows - Number of rows */ reset(nCols, nRows) { this.nCols = nCols this.nRows = nRows this.nCells = nRows * nCols this.initiated = false this.shapeData = [] for (let i = 0; i &lt; this.nCells; i++) this.shapeData[i] = new AWT.Shape() } /** * Loads this shaper settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element with the shaper data */ setProperties($xml) { Utils.attrForEach($xml.get(0).attributes, (name, value) =&gt; { switch (name) { case 'class': this.className = value break case 'cols': this.nCols = Number(value) break case 'rows': this.nRows = Number(value) break case 'baseWidthFactor': case 'toothHeightFactor': case 'scaleX': case 'scaleY': this[name] = Number(value) break case 'randomLines': case 'showEnclosure': this[name] = Utils.getBoolean(value, true) break } }) // Reads the 'enclosing' // (main shape area where the other shape elements are placed) $xml.children('enclosing:first').each((_n, child) =&gt; { $(child).children('shape:first').each((_n, child2) =&gt; { let sh = Shaper.readShapeData(child2, this.scaleX, this.scaleY) this.enclosing = sh this.showEnclosure = true this.hasRemainder = true }) }) // Read the shape elements $xml.children('shape').each((n, child) =&gt; { this.shapeData[n] = Shaper.readShapeData(child, this.scaleX, this.scaleY) }) // Correction needed for '@Holes' shaper if (this.shapeData.length &gt; 0 /* &amp;&amp; this.shapeData.length !== this.nRows * this.nCols */) { //this.nRows = this.shapeData.length //this.nCols = 1 //this.nCells = this.nCols * this.nRows this.nCells = this.shapeData.length } return this } /** * Reads an individual shape from an XML element. * Shapes are arrays of `stroke` objects. * Each `stroke` has an `action` (_move to_, _line to_, _quad to_...) and associated `data`. * @param {external:jQuery} $xml - The XML element with the shape data * @param {number} scaleX * @param {number} scaleY * @returns {AWT.Shape} */ static readShapeData(xml, scaleX, scaleY) { const shd = [] let result = null $.each(xml.textContent.split('|'), (_n, txt) =&gt; { const sd = txt.split(':') // Possible strokes are: `rectangle`, `ellipse`, `M`, `L`, `Q`, `B`, `X` // Also possible, but not currently used in JClic: `roundRectangle` and `pie` let data = sd.length &gt; 1 ? sd[1].split(',') : null // // Data should be always divided by the scale (X or Y) if (data) data = data.map((d, n) =&gt; d / (n % 2 ? scaleY : scaleX)) switch (sd[0]) { case 'rectangle': result = new AWT.Rectangle(data[0], data[1], data[2], data[3]) break case 'ellipse': result = new AWT.Ellipse(data[0], data[1], data[2], data[3]) break default: // It's an `AWT.PathStroke` shd.push(new AWT.PathStroke(sd[0], data)) break } }) return !result &amp;&amp; shd.length &gt; 0 ? new AWT.Path(shd) : result } /** * Builds the individual shapes that will form this Shaper */ buildShapes() { } /** * Gets a clone of the nth Shape object, scaled and located inside a Rectangle * @param {number} n * @param {AWT.Rectangle} rect * @returns {AWT.Shape} */ getShape(n, rect) { if (!this.initiated) this.buildShapes() if (n &gt;= this.nCells || this.shapeData[n] === null) return null return this.shapeData[n].getShape(rect) } /** * Gets the nth Shape data object * @param {number} n * @returns {object} */ getShapeData(n) { return n &gt;= 0 &amp;&amp; n &lt; this.shapeData.length ? this.shapeData[n] : null } /** * Gets the AWT.Rectangle that contains all shapes of this Shaper. * @returns {AWT.Rectangle} */ getEnclosingShapeData() { return new AWT.Rectangle(0, 0, 1, 1) } /** * When `hasRemainder` is true, this method gets the rectangle containing the full surface where * the Shaper develops. * @param {AWT.Rectangle} rect - The frame where to move and scale all the shapes * @returns {AWT.Rectangle} */ getRemainderShape(rect) { if (!this.hasRemainder) return null if (!this.initiated) this.buildShapes() const sh = this.getEnclosingShapeData() const r = sh ? sh.getShape(rect) : new AWT.Rectangle() for (let i = 0; i &lt; this.nCells; i++) { if (this.shapeData[i]) r.add(this.shapeData[i].getShape(rect), false) } return r } } /** * List of known classes derived from Shaper. It should be filled by real shaper classes at * declaration time. * @type {object} */ Shaper.CLASSES = {} Object.assign(Shaper.prototype, { /** * This shaper class name * @name Shaper#className * @type {string} */ className: 'Shaper', /** * Number of columns (useful in grid-based shapers) * @name Shaper#nCols * @type {number} */ nCols: 0, /** * Number of rows (useful in grid-based shapers) * @name Shaper#nRows * @type {number} */ nRows: 0, /** * Number of cells managed by this shaper * @name Shaper#nCells * @type {number} */ nCells: 0, /** * Contains the specific definition of each shape * @name Shaper#shapeData * @type {object} */ shapeData: null, /** * Flag used to check if the `Shaper` has been initialized against a real surface * @name Shaper#initiated * @type {boolean} */ initiated: false, // // Fields used only in JigSaw shapers /** * In {@link JigSaw}, ratio between the base width of the tooth and the total length of the side. * @name Shaper#baseWidthFactor * @type {number} */ baseWidthFactor: 1.0 / 3, /** * In {@link JigSaw}, ratio between the tooth height and the total length of the side. * @name Shaper#toothHeightFactor * @type {number} */ toothHeightFactor: 1.0 / 6, /** * In {@link JigSaw}, whether the tooths take random directions or not * @name Shaper#randomLines * @type {boolean} */ randomLines: false, // // Fields used only in the `Holes` shaper /** * In {@link Holes}, scale to be applied to horizontal positions and lengths to achieve the real * value of the shape placed on a real surface. * @name Shaper#scaleX * @type {number} */ scaleX: 1.0, /** * In {@link Holes}, scale to be applied to vertical positions and lengths to achieve the real * value of the shape placed on a real surface. * @name Shaper#scaleY * @type {number} */ scaleY: 1.0, /** * In {@link Holes}, the enclosing area where all shapes are placed. * @name Shaper#enclosing * @type {AWT.Shape} */ enclosing: null, /** * In {@link Holes}, when `true`, the enclosing area will be drawn * @name Shaper#showEnclosure * @type {boolean} */ showEnclosure: false, /** * Flag indicating if this shaper organizes its cells in rows and columns * @name Shaper#rectangularShapes * @type {boolean} */ rectangularShapes: false, /** * Flag indicating if this Shaper deploys over a surface biggest than the rectangle enclosing * all its shapes * @name Shaper#hasRemainder * @type {boolean} */ hasRemainder: false, }) return Shaper }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_panels_Identify.js.html":{"id":"activities_panels_Identify.js.html","title":"Source: activities/panels/Identify.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/panels/Identify.js /** * File : activities/panels/Identify.js * Created : 03/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../AWT&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, AWT) { /** * The aim of this type of {@link Activity} is to identify {@link ActiveBox} elements in a panel * that satisfy a specific condition, usually exposed in the main message. * @exports Identify * @class * @extends Activity */ class Identify extends Activity { /** * Identify constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity * @override * @returns {number} */ getMinNumActions() { return this.cellsToMatch } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } } Object.assign(Identify.prototype, { /** * Number of not assigned cells (calculated in {@link IdentifyPanel#buildVisualComponents}) * @name Identify#nonAssignedCells * @type {number} */ nonAssignedCells: 0, /** * Number of cells the user must identify to complete the activity (calculated in * {@link IdentifyPanel#buildVisualComponents}) * @name Identify#cellsToMatch * @type {number} */ cellsToMatch: 1, }) /** * The {@link ActivityPanel} where {@link Identify} activities are played. * @class * @extends ActivityPanel * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. */ class IdentifyPanel extends Activity.Panel { /** * IdentifyPanel constructor * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bg) { this.bg.end() this.bg = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abc = this.act.abc['primary'], solved = this.act.abc['solvedPrimary'] if (abc) { if (abc.imgName) { abc.setImgContent(this.act.project.mediaBag, null, false) if (abc.animatedGifFile &amp;&amp; !abc.shaper.rectangularShapes &amp;&amp; !this.act.scramble['primary']) this.$animatedBg = $('&lt;span/&gt;').css({ 'background-image': `url(${abc.animatedGifFile})`, 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (solved &amp;&amp; solved.imgName) solved.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) { const contentKit = [abc] if (solved) { contentKit.push(null) contentKit.push(solved) } this.act.acp.generateContent(abc.nch, abc.ncw, contentKit, false) } this.bg = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abc) this.bg.setContent(abc, solved || null) this.bg.setAlternative(false) if (this.$animatedBg) this.bg.setCellAttr('tmpTrans', true) this.bg.setDefaultIdAss() this.act.nonAssignedCells = 0 this.act.cellsToMatch = 0 const n = this.bg.getNumCells() for (let i = 0; i &lt; n; i++) { const bx = this.bg.getActiveBox(i), id = bx.idAss if (id === 1) this.act.cellsToMatch++ else if (id === -1) { this.act.nonAssignedCells++ bx.switchToAlt(this.ps) } } this.bg.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bg) { if (this.act.scramble['primary']) this.shuffle([this.bg], true, true) if (this.useOrder) this.currentItem = this.bg.getNextItem(-1) this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bg &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bg.update(ctx, dirtyRegion) } return super.updateContent(dirtyRegion) } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutSingle(preferredMaxSize, this.bg, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bg) { this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) // Resize animated gif background if (this.$animatedBg) { const bgRect = this.bg.getBounds() this.$animatedBg.css({ left: bgRect.pos.x, top: bgRect.pos.y, width: `${bgRect.dim.width}px`, height: `${bgRect.dim.height}px`, 'background-size': `${bgRect.dim.width}px ${bgRect.dim.height}px` }) } this.$div.append(this.$canvas) this.invalidate().update() setTimeout(() =&gt; this.bg ? this.bg.buildAccessibleElements(this.$canvas, this.$div) : null, 0) } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.bg &amp;&amp; this.$canvas &amp;&amp; this.accessibleCanvas) { super.buildAccessibleComponents() this.bg.buildAccessibleElements(this.$canvas, this.$div) } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {Event} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.playing) { const p = new AWT.Point( event.pageX - this.$div.offset().left, event.pageY - this.$div.offset().top) // Flag for assuring that only one media plays per event (avoid event sounds overlapping // cell's media sounds) let m = false // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] switch (event.type) { case 'click': this.ps.stopMedia(1) // Find the box behind the clicked point const bx = this.bg ? this.bg.findActiveBox(p) : null if (bx) { if (bx.idAss !== -1) { // Check if it's a valid move let ok = false const src = bx.getDescription() m = m || bx.playMedia(this.ps, delayedActions) if (bx.idAss === 1 &amp;&amp; (!this.act.useOrder || bx.idOrder === this.currentItem)) { ok = true bx.idAss = -1 if (bx.switchToAlt(this.ps)) m = m || bx.playMedia(this.ps, delayedActions) else bx.clear() if (this.act.useOrder) this.currentItem = this.bg.getNextItem(this.currentItem, 1) } const cellsOk = this.bg.countCellsWithIdAss(-1) this.ps.reportNewAction(this.act, 'SELECT', src, null, ok, cellsOk - this.act.nonAssignedCells) if (ok &amp;&amp; cellsOk === this.act.cellsToMatch + this.act.nonAssignedCells) this.finishActivity(true) else if (!m) this.playEvent(ok ? 'actionOk' : 'actionError') this.update() } else { this.playEvent('actionError') } } break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(IdentifyPanel.prototype, { /** * The {@link ActiveBoxBag} containing the information to be displayed on the panel. * @name IdentifyPanel#bg * @type {ActiveBoxBag} */ bg: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name IdentifyPanel#events * @type {string[]} */ events: ['click'], }) /** * Panel class associated to this type of activity: {@link IdentifyPanel} * @type {class} */ Identify.Panel = IdentifyPanel // Register class in Activity.prototype Activity.CLASSES['@panels.Identify'] = Identify return Identify }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_IdentifyText.js.html":{"id":"activities_text_IdentifyText.js.html","title":"Source: activities/text/IdentifyText.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/IdentifyText.js /** * File : activities/text/Identify.js * Created : 20/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;./TextActivityBase&quot; ], function ($, Activity, TextActivityBase) { /** * This type of text activity suggests users to click on specific words or single letters of a * given text, without any help on where these elements are placed. * @exports IdentifyText * @class * @extends TextActivityBase */ class IdentifyText extends TextActivityBase { /** * IdentifyText constructor * @param {JClicProject} project - The project to which this activity belongs */ constructor(project) { super(project) } } /** * The {@link TextActivityBasePanel} where {@link IdentifyText} activities are played. * @class * @extends TextActivityBasePanel */ class IdentifyTextPanel extends TextActivityBase.Panel { /** * IdentifyTextPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Creates a target DOM element for the provided target. * @override * @param {TextActivityDocument.TextTarget} target - The target related to the DOM object to be created * @param {external:jQuery} $span - - An initial DOM object (usually a `span`) that can be used * to store the target, or replaced by another type of object. * @returns {external:jQuery} - The jQuery DOM element loaded with the target data. */ $createTargetElement(target, $span) { super.$createTargetElement(target, $span) const idLabel = `target${`000${this.targets.length - 1}`.slice(-3)}` $span.bind('click', event =&gt; { event.textTarget = target event.idLabel = idLabel this.processEvent(event) }) return $span } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity(this) this.$div.find('.JClicTextDocument &gt; p').css('cursor', 'pointer') this.playing = true } /** * Counts the number of targets that are solved * @returns {number} */ countSolvedTargets() { return this.targets.length.reduce((n, target) =&gt; target.targetStatus === 'SOLVED' ? ++n : n, 0) } /** * Evaluates all the targets in this panel. This method is usually called from the `Check` button. * @override * @returns {boolean} - `true` when all targets are OK, `false` otherwise. */ evaluatePanel() { let targetsOk = 0 this.targets.forEach(target =&gt; { const ok = target.targetStatus === 'SOLVED' if (ok) targetsOk++ target.checkColors() this.ps.reportNewAction(this.act, 'SELECT', target.text, target.pos, ok, targetsOk) }) if (targetsOk === this.targets.length) { this.finishActivity(true) return true } else this.playEvent('finishedError') return false } /** * Ordinary ending of the activity, usually called form `processEvent` * @override * @param {boolean} result - `true` if the activity was successfully completed, `false` otherwise */ finishActivity(result) { this.$div.find('.JClicTextDocument &gt; p').css('cursor', 'pointer') return super.finishActivity(result) } /** * Main handler used to process mouse, touch, keyboard and edit events. * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (!super.processEvent(event) || event.timeStamp === this.lastTimeStamp) return false if (event.timeStamp) this.lastTimeStamp = event.timeStamp const target = event.textTarget switch (event.type) { case 'click': let text, pos, ok = false if (target) { if (target.targetStatus === 'SOLVED') target.targetStatus = 'HIDDEN' else { target.targetStatus = 'SOLVED' ok = true } text = target.text pos = target.pos // TODO: Just on/off target colors, don't mark it as error! target.checkColors() } else { // TODO: Get current text at click position, perhaps using [window|document].getSelection text = 'unknown' pos = 0 } if (!this.$checkButton) { // Check and notify action const cellsAtPlace = this.countSolvedTargets() this.ps.reportNewAction(this.act, 'SELECT', text, pos, ok, cellsAtPlace) // End activity or play event sound if (ok &amp;&amp; cellsAtPlace === this.targets.length) this.finishActivity(true) else this.playEvent(ok ? 'actionOk' : 'actionError') } event.preventDefault() break default: break } return true } } Object.assign(IdentifyTextPanel.prototype, { /** * Flag indicating if targets must be visually marked when the activity begins. In this type of * activity should be always `false` to avoid revealing the words o letters that must be found. * @name IdentifyTextPanel#targetsMarked * @type {boolean} */ targetsMarked: false, /** * Used to avoid duplicate event processing * @name IdentifyTextPanel#lastTimeStamp * @type {number} */ lastTimeStamp: 0, }) /** * Panel class associated to this type of activity: {@link IdentifyTextPanel} * @type {class} */ IdentifyText.Panel = IdentifyTextPanel // Register class in Activity.prototype Activity.CLASSES['@text.Identify'] = IdentifyText return IdentifyText }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_panels_InformationScreen.js.html":{"id":"activities_panels_InformationScreen.js.html","title":"Source: activities/panels/InformationScreen.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/panels/InformationScreen.js /** * File : activities/panels/InformationScreen.js * Created : 19/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../AWT&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, AWT) { /** * This class of {@link Activity} just shows a panel with {@link ActiveBox} objects. * Because active boxes can act as a links to specific points in the project's sequence of * activities, this kind of activity is often used as a menu where users can choose from different * options. * @exports InformationScreen * @class * @extends Activity */ class InformationScreen extends Activity { /** * InformationScreen constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) // This kind of activities are not reported this.includeInReports = false this.reportActions = false } } /** * The {@link ActivityPanel} where {@link InformationScreen} activities should display its content * @class * @extends ActivityPanel * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. */ class InformationScreenPanel extends Activity.Panel { /** * InformationScreenPanel constructor * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bg) { this.bg.end() this.bg = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abc = this.act.abc['primary'] if (abc) { if (abc.imgName) { abc.setImgContent(this.act.project.mediaBag, null, false) if (abc.animatedGifFile &amp;&amp; !abc.shaper.rectangularShapes) this.$animatedBg = $('&lt;span/&gt;').css({ 'background-image': `url(${abc.animatedGifFile})`, 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (this.act.acp !== null) this.act.acp.generateContent(abc.nch, abc.ncw, [abc], false) this.bg = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abc) this.bg.setContent(abc) if (this.$animatedBg) this.bg.setCellAttr('tmpTrans', true) this.bg.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false this.invalidate().update() this.setAndPlayMsg('initial', 'start') this.playing = true } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bg &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bg.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return this.getBounds().equals(preferredMaxSize) ? preferredMaxSize : BoxBag.layoutSingle(preferredMaxSize, this.bg, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bg) { this.$canvas = $('&lt;canvas width=&quot;' + rect.dim.width + '&quot; height=&quot;' + rect.dim.height + '&quot;/&gt;').css({ position: 'absolute', top: 0, left: 0 }) // Resize animated gif background if (this.$animatedBg) { const bgRect = this.bg.getBounds() this.$animatedBg.css({ left: bgRect.pos.x, top: bgRect.pos.y, width: `${bgRect.dim.width}px`, height: `${bgRect.dim.height}px`, 'background-size': `${bgRect.dim.width}px ${bgRect.dim.height}px` }) } this.$div.append(this.$canvas) this.invalidate().update() setTimeout(() =&gt; this.bg ? this.bg.buildAccessibleElements(this.$canvas, this.$div) : null, 0) } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas &amp;&amp; this.bg) { super.buildAccessibleComponents() this.bg.buildAccessibleElements(this.$canvas, this.$div) } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.playing) { const p = new AWT.Point( event.pageX - this.$div.offset().left, event.pageY - this.$div.offset().top) // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] this.ps.stopMedia(1) const bx = this.bg.findActiveBox(p) if (bx) { if (!bx.playMedia(this.ps, delayedActions)) this.playEvent('click') } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(InformationScreenPanel.prototype, { /** * The {@link ActiveBoxBag} containing the information to be displayed. * @name InformationScreenPanel#bg * @type {ActiveBoxBag} */ bg: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name InformationScreenPanel#events * @type {string[]} */ events: ['click'], }) /** * Panel class associated to this type of activity: {@link InformationScreenPanel} * @type {class} */ InformationScreen.Panel = InformationScreenPanel // Register class in Activity.prototype Activity.CLASSES['@panels.InformationScreen'] = InformationScreen return InformationScreen }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"JClicPlayer.js.html":{"id":"JClicPlayer.js.html","title":"Source: JClicPlayer.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: JClicPlayer.js /** * File : JClicPlayer.js * Created : 28/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, JSON, location, window */ define([ &quot;jquery&quot;, &quot;jszip&quot;, &quot;jszip-utils&quot;, &quot;scriptjs&quot;, &quot;./i18n&quot;, &quot;./Utils&quot;, &quot;./AWT&quot;, &quot;./PlayerHistory&quot;, &quot;./media/ActiveMediaBag&quot;, &quot;./skins/Skin&quot;, &quot;./media/EventSounds&quot;, &quot;./project/JClicProject&quot;, &quot;./bags/JumpInfo&quot;, &quot;./boxes/ActiveBoxContent&quot;, &quot;./report/Reporter&quot; ], function ($, JSZip, JSZipUtils, ScriptJS, i18n, Utils, AWT, PlayerHistory, ActiveMediaBag, Skin, EventSounds, JClicProject, JumpInfo, ActiveBoxContent, Reporter) { /** * JClicPlayer is one of the the main classes of the JClic system. It implements the * {@link http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html PlayStation} * interface, needed to host JClic activities. * JClicPlayer offers to {@link Activity#Panel} objects all the necessary resources and functions: * media bags (to load and realize images and other media contents), sequence control, management * of the reporting system, user interface, display of system messages, etc. * @exports JClicPlayer * @class * @extends AWT.Container */ class JClicPlayer extends AWT.Container { /** * JClicPlayer constructor * @param {external:jQuery} $topDiv - The HTML `div` element where this JClicPlayer will deploy. * @param {object=} options - A set of optional customized options. */ constructor($topDiv, options) { // JClicPlayer extends AWT.Container super() // Build cascading options //this.options = Object.assign({}, this.options, Utils.init(options)) options = Utils.init(options) this.options = $.extend(Object.create(this.options), options) // Generate unique ID this.id = `JC${(0x10000 + Math.round(Math.random() * 0xFFFF)).toString(16).toUpperCase().substr(1)}` // Identify the HTML element where this player will deploy this.$topDiv = $topDiv || $('&lt;div/&gt;') // Avoid side effects of 'align=center' in old HTML pages this.$topDiv.css({ 'text-align': 'initial' }) // Special case: $topDiv inside a TD (like in http://clic.xtec.cat/gali) if (this.$topDiv.parent().is('td')) { // Set explicit width and height to fill-in the TD this.$topDiv.css({ width: this.options.width || '100%', height: this.options.height || '100%' }) } // Build the main container this.$mainContainer = $('&lt;div/&gt;', { class: 'JClicContainer', id: this.id }) .css({ width: '100%', height: '100%' }) .appendTo(this.$topDiv) // Attach the localization i18n(this) // Intitialize other elements this.localFS = location &amp;&amp; location.protocol === 'file:' this.$div = $('&lt;div/&gt;', { class: 'JClicPlayer' }) this.project = new JClicProject() this.activeMediaBag = new ActiveMediaBag() this.counterVal = { score: 0, actions: 0, time: 0 } this.bgImageOrigin = new AWT.Point() this.buildActions() this.history = new PlayerHistory(this) this.audioEnabled = this.options.audioEnabled this.navButtonsAlways = this.options.navButtonsAlways this.defaultSkin = Skin.getSkin(this.options.skin, this) this.setSkin(Skin.getSkin('@empty.xml', this)) this.initTimers() Utils.log('info', 'JClicPlayer ready') } /** * Generates an unique ID for elements being used with this player * @param {string} lb - The element's label * @returns {string} */ getUniqueId(lb) { return `${this.id}-${lb}` } /** * Builds the {@link AWT.Action} objects for this player */ buildActions() { this.actions = { 'next': new AWT.Action('next', () =&gt; this.history.processJump(this.project.activitySequence.getJump(false, this.reporter), false)), 'prev': new AWT.Action('prev', () =&gt; this.history.processJump(this.project.activitySequence.getJump(true, this.reporter), false)), 'return': new AWT.Action('return', () =&gt; this.history.pop()), 'reset': new AWT.Action('reset', () =&gt; { if (this.actPanel &amp;&amp; this.actPanel.act.canReinit()) this.initActivity() }), 'help': new AWT.Action('help', () =&gt; { if (this.actPanel) this.actPanel.showHelp() }), 'info': new AWT.Action('info', () =&gt; { if (this.actPanel &amp;&amp; this.actPanel.act.hasInfo()) { if (this.actPanel.act.infoUrl) this.displayURL(this.act.infoUrl, true) else if (this.actPanel.act.infoCmd) this.runCmd(this.actPanel.act.infoCmd) } }), 'reports': new AWT.Action('reports', () =&gt; this.showReports()), 'audio': new AWT.Action('audio', () =&gt; { this.audioEnabled = !this.audioEnabled if (!this.audioEnabled) this.stopMedia() EventSounds.prototype.globalEnabled = this.audioEnabled }) } $.each(this.actions, (key, value) =&gt; { value.addStatusListener(action =&gt; { if (this.skin) this.skin.actionStatusChanged(action) }) }) } /** * Resets the main components of this player */ reset() { Utils.log('info', 'Restoring player') this.removeActivity() this.end() this.activeMediaBag = new ActiveMediaBag() this.history.clearHistory() this.setSkin(null) this.setMsg(null) this.setCounterValue('score', 0) this.setCounterValue('actions', 0) this.setCounterValue('time', 0) if (this.skin) this.skin.setWaitCursor('reset') } /** * Instructs the player to stop working */ stop() { this.stopMedia(-1) } /** * Executes miscellaneous finalization routines. * @returns {Promise} - A promise to be fullfilled when all pending tasks are finished. */ end() { let result = null this.stopMedia() this.closeHelpWindow() if (this.reporter) { result = this.reporter.end() this.reporter = null } if (this.actPanel) { this.actPanel.end() this.actPanel.$div.remove() this.actPanel = null } if (this.project) { this.project.end() this.project = null } if (this.activeMediaBag) this.activeMediaBag.removeAll() return result || Promise.resolve(true) } /** * Creates and initializes the {@link Reporter} member * @return {Promise} */ initReporter() { if (this.reporter) { this.reporter.end() this.reporter = null } this.reporter = Reporter.getReporter(null, this) return this.reporter.init() } /** * * Creates and initializes objects of type {@link AWT.Timer} */ initTimers() { // Main timer if (this.timer) this.timer.stop() this.timer = new AWT.Timer(() =&gt; { this.incCounterValue('time') if (this.actPanel &amp;&amp; this.actPanel.act.maxTime &gt; 0 &amp;&amp; this.actPanel.playing &amp;&amp; this.counterVal['time'] &gt;= this.actPanel.act.maxTime) this.actPanel.finishActivity(false) }, 1000, false) // One-time timer, for delayed actions if (this.delayedTimer) this.delayedTimer.stop() this.delayedTimer = new AWT.Timer(() =&gt; { if (this.delayedAction) this.delayedAction.processEvent(this.delayedAction, null) }, 1000, false) this.delayedTimer.repeats = false } /** * Opens the reports dialog */ showReports() { if (this.skin) this.skin.showReports(this.reporter) } /** * Closes the help dialog window */ closeHelpWindow() { if (this.skin) this.skin._closeDlg(false) } /** * Sets the current skin * @param {?Skin} newSkin - The skin to use. When `null`, `defaultSkin` will be used. */ setSkin(newSkin) { newSkin = newSkin || (this.project &amp;&amp; this.project.skin ? this.project.skin : this.defaultSkin) if (newSkin &amp;&amp; (this.skin === null || newSkin.name !== this.skin.name)) { newSkin.attach(this) this.skin = newSkin this.skin.doLayout() } } /** * Sets the current project of this player, without starting any activity * @param {JClicProject} project - The project to be set */ setProject(project) { if (this.project) { if (this.project !== project) this.project.end() this.removeActivity() } this.project = project || new JClicProject() this.project.realize(this) } /** * Loads the specified project and starts playing at the specified activity or sequence tag. * @param {?(string|JClicProject)} project - The project to load (if it's a string) or to use (if it's an object of type {@link JClicProject}). * When it's a `string`, it can be the absolute or relative path to: * - A '.jclic' project file * - A '.jclic.zip' compressed project file (containing one '.jclic' file) * - A '.scorm.zip' file, as exported by JClic Author. * - A 'project.json' file, as exported by JClic Author * When `null` or `undefined`, refers to the current project. * @param {(string|number)=} sequence - Sequence tag or numeric order in the {@link ActivitySequence} * to be loaded. If _sequence_ and _activity_ are both `null`, the first {@link ActivitySequenceElement} * will be loaded. * @param {string=} activity - Name of the activity to be loaded (usually `null`) */ load(project, sequence, activity) { this.forceFinishActivity() this.setWaitCursor(true) // The ActivityPanel object to be obtained as a result of the loading process let actp = null // step one: load the project if (project) { if (typeof project === 'string') { // Param `project` is a file name or URL (otherwise, is a realized `JClicProject` object) const fullPath = Utils.getPath(this.basePath, project) // Previous step: Check if `project` points to a &quot;project.json&quot; file if (fullPath.endsWith('project.json')) { Utils.log('info', `Loading JSON info from: ${fullPath}`) $.getJSON(fullPath).done(json =&gt; { // Read the `mainFile` field of `project.json` if (Utils.endsWith(json['mainFile'], '.jclic')) { // Load project's main file this.load(Utils.getPath(Utils.getBasePath(fullPath), json['mainFile']), sequence, activity) } else { Utils.log('error', `Invalid or null &quot;mainFile&quot; specified in ${fullPath} - &quot;project.json&quot;.`) } }).fail((jqhxr, textStatus, error) =&gt; { const errMsg = `${textStatus} (${error}) while loading ${project}` Utils.log(errMsg) alert(`Error!\\n${errMsg}`) }).always( () =&gt; this.setWaitCursor(false) ) return } // Step 0: Check if `project` points to a ZIP file if (fullPath.endsWith('.zip')) { // TODO: Implement register of zip files in PlayerHistory this.zip = null Utils.log('info', `Loading ZIP file: ${fullPath}`) // Launch loading of ZIP file in a separated thread JSZipUtils.getBinaryContent(fullPath, (err, data) =&gt; { if (err) { this.setWaitCursor(false) Utils.log('error', `Error loading ZIP file: ${err.toString()}`) return } new JSZip().loadAsync(data).then(zip =&gt; { this.zip = zip this.zip.fullZipPath = fullPath this.zip.zipBasePath = Utils.getBasePath(fullPath) let fileName = null // Check if ZIP contains a &quot;project.json&quot; file (as in the &quot;.scorm.zip&quot; files generated by JClic Author) if (this.zip.files['project.json']) { this.zip.files['project.json'].async('string').then(content =&gt; { try { const json = JSON.parse(content) // Read the `mainFile` field of `project.json` if (Utils.endsWith(json['mainFile'], '.jclic')) { // Load project's main file this.load(Utils.getPath(this.zip.zipBasePath, json['mainFile']), sequence, activity) } else { Utils.log('error', `Invalid or null &quot;mainFile&quot; specified in ${fullPath} - &quot;project.json&quot;.`) } } catch (err) { Utils.log('error', `Error reading &quot;project.json&quot; in ${fullPath}: ${err ? err.toString() : 'unknown error'}`) } }).catch(reason =&gt; { Utils.log('error', `Error reading ZIP file: ${reason ? reason.toString() : 'unknown reason'}`) }) } else { // Find first file with extension '.jclic' inside the zip file fileName = Object.keys(this.zip.files).find(fn =&gt; fn.endsWith('.jclic')) || null if (fileName) this.load(Utils.getPath(this.zip.zipBasePath, fileName), sequence, activity) else Utils.log('error', 'This ZIP file does not contain any JClic project!') } this.setWaitCursor(false) }).catch(reason =&gt; { Utils.log('error', `Error reading ZIP file: ${reason ? reason.toString() : 'unknown reason'}`) this.setWaitCursor(false) }) }) return } else if (this.localFS &amp;&amp; window.JClicObject &amp;&amp; !window.JClicObject.projectFiles[fullPath]) { ScriptJS(`${fullPath}.js`, () =&gt; this.load(project, sequence, activity)) this.setWaitCursor(false) return } // Step one: load the project file const processProjectFile = fp =&gt; { $.get(fp, null, null, 'xml').done(data =&gt; { if (data === null || typeof data !== 'object') { Utils.log('error', `Bad data. Project not loaded: ${project}`) return } const prj = new JClicProject() prj.setProperties($(data).find('JClicProject'), fullPath, this.zip, this.options) Utils.log('info', `Project file loaded and parsed: ${project}`) const elements = prj.mediaBag.buildAll(null, element =&gt; { Utils.log('trace', `&quot;${element.name}&quot; ready.`) this.incProgress(1) }, this) Utils.log('info', `Media elements to be loaded: ${elements}`) this.setProgress(0, elements) let loops = 0 const interval = 500 this.setWaitCursor(true) const checkMedia = window.setInterval(() =&gt; { // Wait for a maximum time of two minutes if (++loops &gt; this.options.maxWaitTime / interval) { window.clearInterval(checkMedia) this.setProgress(-1) this.setWaitCursor(false) Utils.log('error', 'Error loading media') } const waitingObjects = prj.mediaBag.countWaitingElements() // player.setProgress(waiting) if (waitingObjects === -1) { window.clearInterval(checkMedia) this.setProgress(-1) this.setWaitCursor(false) // Call `load` again, passing the loaded [JClicProject](JClicProject.html) as a parameter this.load(prj, sequence, activity) } }, interval) }).fail((jqXHR, textStatus, errorThrown) =&gt; { const errMsg = `${textStatus} (${errorThrown}) while loading ${project}` Utils.log(errMsg) alert(`Error!\\n${errMsg}`) }).always(() =&gt; this.setWaitCursor(false)) } Utils.log('info', `Loading project: ${project}`) let fp = fullPath // Special case for ZIP files if (this.zip) { const fName = Utils.getRelativePath(fp, this.zip.zipBasePath) if (this.zip.files[fName]) { this.zip.file(fName).async('string').then(text =&gt; { processProjectFile(`data:text/xml;charset=UTF-8,${text}`) }).catch(reason =&gt; { Utils.log('error', `Unable to extract &quot;${fName}&quot; from ZIP file because of: ${reason ? reason.toString() : 'unknown reason'}`) this.setWaitCursor(false) }) return } } // Special case for local file systems (using `file` protocol) else if (this.localFS) { // Check if file is already loaded in the global variable `JClicObject` if (window.JClicObject &amp;&amp; window.JClicObject.projectFiles[fullPath]) { fp = `data:text/xml;charset=UTF-8,${window.JClicObject.projectFiles[fullPath]}` } else { Utils.log('error', `Unable to load: ${fullPath}.js`) this.setWaitCursor(false) return } } processProjectFile(fp) return } // From here, assume that `project` is a [JClicProject](JClicProject.html) this.setProject(project) // If none specified, start with the first element of the sequence if (!sequence &amp;&amp; !activity) sequence = '0' // start reporter session if (this.reporter) this.reporter.newSession(project) } // Step two: load the ActivitySequenceElement if (!Utils.isNullOrUndef(sequence)) { Utils.log('info', `Loading sequence: ${sequence}`) this.navButtonsDisabled = false // Try to load sequence by tag let ase = null if (typeof sequence === 'string') ase = this.project.activitySequence.getElementByTag(sequence, true) if (ase === null) { // Try to treat 'sequence' as a number const n = parseInt(sequence, 10) if (typeof n === 'number') ase = this.project.activitySequence.getElement(n, true) } if (ase !== null) { // Success! We have a real [ActivitySequenceElement](ActivitySequenceElement.html) if (this.reporter) this.reporter.newSequence(ase) activity = ase.activityName } } // Step three: load the activity if (activity) { const act = this.project.getActivity(activity) if (act) { // Success! We have a real [Activity](Activity.html) Utils.log('info', `Loading activity: ${activity}`) act.prepareMedia(this) this.project.activitySequence.checkCurrentActivity(act.name) actp = act.getActivityPanel(this) actp.buildVisualComponents() } else { Utils.log('error', `Missing activity: ${activity}`) } } // Step four: put the activity panel on place // Remove the current ActivityPanel if (this.actPanel !== null) { this.actPanel.end() this.actPanel.$div.remove() this.actPanel = null this.setCounterValue('time', 0) } // Attach the new ActivityPanel if (actp) { // Sets the actPanel member to this ActivityPanel this.actPanel = actp if (this.options.fade &gt; 0) this.actPanel.$div.css('display', 'none') // Places the JQuery DOM element of actPanel within the player main panel this.$div.prepend(this.actPanel.$div) if (this.skin) this.skin.resetAllCounters(false) // Sets the current skin if (this.actPanel.skin) this.setSkin(this.actPanel.skin) else if (this.project.skin) { this.setSkin(this.project.skin) this.lastProjectSkin = this.project.skin } else if (this.lastProjectSkin) this.setSkin(this.lastProjectSkin) else this.setSkin(null) if (this.skin) { // Enable or disable actions const hasReturn = this.history.storedElementsCount() &gt; 0 || this.options.returnAsExit const navBtnFlag = this.navButtonsAlways ? 'both' : this.navButtonsDisabled ? 'none' : this.project.activitySequence.getNavButtonsFlag() this.actions['next'].setEnabled((navBtnFlag === 'fwd' || navBtnFlag === 'both') &amp;&amp; this.project.activitySequence.hasNextAct(hasReturn)) this.actions['prev'].setEnabled((navBtnFlag === 'back' || navBtnFlag === 'both') &amp;&amp; this.project.activitySequence.hasPrevAct(hasReturn)) this.actions['return'].setEnabled(hasReturn) this.actions['help'].setEnabled(this.actPanel.act.helpWindowAllowed()) this.actions['reset'].setEnabled(this.actPanel.act.canReinit()) this.actions['info'].setEnabled(this.actPanel.act.hasInfo()) } this.doLayout() this.initActivity() this.actPanel.$div.fadeIn(this.options.fade, () =&gt; this.activityReady()) } this.setWaitCursor(false) } /** * Forces the current activity to stop playing. */ forceFinishActivity() { this.timer.stop() this.delayedTimer.stop() if (this.actPanel) { this.closeHelpWindow() this.actPanel.forceFinishActivity() this.stopMedia() this.activeMediaBag.removeAll() } } /** * * Removes the current {@link Activity#Panel} from this player */ removeActivity() { this.forceFinishActivity() if (this.actPanel) { this.actPanel.end() this.actPanel.$div.remove() this.actPanel = null this.setMsg(null) this.doLayout() } } /** * * Initializes the activity */ initActivity() { this.setWaitCursor(true) this.timer.stop() this.delayedTimer.stop() this.setCounterValue('time', 0) this.stopMedia() if (this.actPanel) { this.actPanel.initActivity() this.timer.start() if (!this.actPanel.act.mustPauseSequence()) this.startAutoPassTimer() Utils.log('info', `Activity &quot;${this.actPanel.act.name}&quot; running`) } this.setWaitCursor(false) } /** * Called by {@link JClicPlayer#load} when the {@link Activity#Panel} is fully visible, just * after the JQuery animation effect. */ activityReady() { if (this.actPanel) { this.actPanel.activityReady() Utils.log('info', 'Activity ready') } } /** * Starts the activity. This method is usually called from text activities with previous text. */ startActivity() { this.setWaitCursor(true) if (this.actPanel) this.actPanel.startActivity() this.setWaitCursor(false) } /** * Configures the layout and visual aspect of the player area. */ doLayout() { // Main player area settings const width = this.dim.width = this.$div.width(), height = this.dim.height = this.$div.height(), mainCss = { 'background-color': this.actPanel ? this.actPanel.act.bgColor : 'azure', 'background-image': '' } if (this.actPanel) { const act = this.actPanel.act if (act.bgGradient) // Canvas version also available mainCss['background-image'] = act.bgGradient.getCss() if (act.bgImageFile &amp;&amp; act.bgImageFile.length &gt; 0) { this.project.mediaBag.getElement(act.bgImageFile, true).getFullPathPromise().then(bgImageUrl =&gt; { this.$div.css({ 'background-image': 'url(\\'' + bgImageUrl + '\\')', 'background-repeat': act.tiledBgImg ? 'repeat' : 'no-repeat', 'background-position': act.tiledBgImg ? '' : 'center center' }) }) } // Activity panel settings // Calc the maximum rectangle available for the activity panel const m = Utils.settings.BoxBase.AC_MARGIN, proposedRect = new AWT.Rectangle(m, m, width - 2 * m, height - 2 * m) if (this.actPanel.bgImage &amp;&amp; !act.tiledBgImg &amp;&amp; act.absolutePositioned) { // Special case: when the activity has a background image not tiled, and an absolute // position has been specified, the ActivityPanel must be placed at this absolute // position, relative to the background image this.bgImageOrigin.x = (width - this.actPanel.bgImage.width) / 2 this.bgImageOrigin.y = (height - this.actPanel.bgImage.height) / 2 proposedRect.pos.moveTo(this.bgImageOrigin) proposedRect.dim.width -= this.bgImageOrigin.x - m proposedRect.dim.height -= this.bgImageOrigin.y - m proposedRect.dim.width = Math.min(proposedRect.dim.width, width) proposedRect.dim.height = Math.min(proposedRect.dim.height, height) } // ActivityPanel will calculate and set its position and size based on the maximum and optimal // available space /* TODO: Try with a computed rectangle instead of &quot;this&quot;, to avoid the loss of the right margin * in narrow displays */ this.actPanel.fitTo(proposedRect, this) } this.$div.css(mainCss) } /** * Plays the specified media. * @param {MediaContent} mediaContent - The media to be played * @param {ActiveBox=} mediaPlacement - The cell where the graphic component of this media should be placed (used with video objects) * @param {(function[])=} delayedActions - If set, store the the action in this array for future execution */ playMedia(mediaContent, mediaPlacement = null, delayedActions = null) { let ji = null const fn = mediaContent.mediaFileName let action = null switch (mediaContent.mediaType) { case 'PLAY_AUDIO': case 'PLAY_VIDEO': case 'PLAY_MIDI': case 'RECORD_AUDIO': case 'PLAY_RECORDED_AUDIO': if (this.audioEnabled) { const amp = this.activeMediaBag.getActiveMediaPlayer(mediaContent, this.project.mediaBag, this) if (amp) action = () =&gt; amp.play(mediaPlacement) } break case 'RUN_CLIC_PACKAGE': ji = new JumpInfo('JUMP', fn) if (mediaContent.externalParam) { // Relative path computed in History.processJump ji.projectPath = mediaContent.externalParam } action = () =&gt; this.history.processJump(ji, true) break case 'RUN_CLIC_ACTIVITY': this.history.push() action = () =&gt; this.load(null, null, fn) break case 'RETURN': if (this.history.storedElementsCount() &gt; 0 || !this.options.returnAsExit) { action = () =&gt; this.history.pop() break } case 'EXIT': ji = new JumpInfo('EXIT', fn) action = () =&gt; this.history.processJump(ji, false) break case 'RUN_EXTERNAL': action = () =&gt; this.runCmd(fn) break case 'URL': if (fn) // When mediaContent.level is 2 or more, the URL will be opened in a separate window. action = () =&gt; this.displayURL(fn, mediaContent.level &gt; 1) break default: Utils.log('error', `Unknown media type: ${mediaContent.mediaType}`) break } // Execute the action or pass callback if (delayedActions &amp;&amp; action) delayedActions.push(action) else if (action) action() } /** * Stops currently playing media * @param {number=} [level=-1] - Sets the threshold above which all media objects with equal * or greater `level` will also also be muted. */ stopMedia(level) { if (typeof level !== 'number') level = -1 this.activeMediaBag.stopAll(level) } /** * Launches the specified system command. * Currently not implemented. * @param {string} cmd */ runCmd(cmd) { Utils.log('warn', `Unsupported call to external command: &quot;${cmd}&quot;`) } /** * Called from {@link Activity} when finished. * @param {boolean} _completedOK - `true` when the activity was successfully completed, `false` * otherwise. */ activityFinished(_completedOK) { this.closeHelpWindow() Utils.log('info', 'Activity finished') this.timer.stop() this.startAutoPassTimer() } /** * Starts the automatic jump to next activity, when applicable. */ startAutoPassTimer() { const ase = this.project.activitySequence.getCurrentAct() if (ase !== null &amp;&amp; ase.delay &gt; 0 &amp;&amp; !this.delayedTimer.isRunning() &amp;&amp; !this.navButtonsDisabled) { this.delayedAction = this.actions['next'] this.delayedTimer.interval = ase.delay * 1000 this.delayedTimer.start() } } /** * Function obtained from `i18next` that will return the translation of the provided key * into the current language. * The real function will be initiated by constructor. Meanwhile, it returns always `key`. * @param {string} key - ID of the expression to be translated * @returns {string} - Translated text */ getMsg(key) { return key } /** * * Sets the current main message. * @param {ActiveBoxContent} abc - The content of the message */ setMsg(abc) { const ab = this.skin ? this.skin.getMsgBox() : null if (ab) { ab.clear() this.skin.invalidate(ab).update() ab.setContent(abc ? abc : ActiveBoxContent.EMPTY_CONTENT) // TODO: Move this method to Skin this.skin.invalidate(ab).update() ab.playMedia(this) } } /** * Launches the active media content associated to the main message, if any. */ playMsg() { if (this.skin &amp;&amp; this.skin.getMsgBox()) this.skin.getMsgBox().playMedia(this) } /** * Sets a value to the specified counter * @param {string} counter - The id of the counter ('score', 'actions' or 'time') * @param {number} newValue - The value to be set */ setCounterValue(counter, newValue) { this.counterVal[counter] = newValue if (this.skin &amp;&amp; this.skin.counters[counter]) this.skin.counters[counter].setValue(newValue) } /** * Gets the current value for the specified counter * @param {string} counter - The id of the counter ('score', 'actions' or 'time') * @returns {number} */ getCounterValue(counter) { return this.counterVal[counter] } /** * Enables or disables a specific counter * @param {string} counter - The id of the counter ('score', 'actions' or 'time') * @param {boolean} bEnabled - When `true`, the counter will be enabled. */ setCounterEnabled(counter, bEnabled) { if (this.skin) { this.skin.enableCounter(counter, bEnabled) this.setCountDown(counter, 0) } } /** * Increments by 1 the value of the specified counter * @param {string} counter - The id of the counter ('score', 'actions' or 'time') */ incCounterValue(counter) { this.counterVal[counter]++ const actp = this.actPanel, cnt = this.skin ? this.skin.counters[counter] : null if (cnt) cnt.setValue(this.counterVal[counter]) if (counter === 'actions' &amp;&amp; actp !== null &amp;&amp; actp.act.maxActions &gt; 0 &amp;&amp; actp.playing &amp;&amp; this.counterVal['actions'] &gt;= actp.act.maxActions) window.setTimeout(() =&gt; { actp.finishActivity(actp.solved) }, 0) } /** * Sets the specified counter in count-down status, starting at `maxValue`. * @param {string} counter - The id of the counter ('score', 'actions' or 'time') * @param {number} maxValue - The value from which to start counting down */ setCountDown(counter, maxValue) { //this.counterVal[counter] = maxValue if (this.skin &amp;&amp; this.skin.counters[counter]) this.skin.counters[counter].setCountDown(maxValue) } /** * Set/unset the panel in 'wait' state * @param {boolean} status */ setWaitCursor(status) { if (this.skin) this.skin.setWaitCursor(status) } /** * Sets the current value of the progress bar * @param {number} val - The current value. Should be less or equal than `max`. When -1, the progress bar will be hidden. * @param {number=} max - Optional parameter representing the maximum value. When passed, the progress bar will be displayed. */ setProgress(val, max) { if (this.skin) this.skin.setProgress(val, max) } /** * Increments the progress bar value by the specified amount, only when the progress bar is running. * @param {number=} val - The amount to increment. When not defined, it's 1. */ incProgress(val) { if (this.skin) this.skin.incProgress(val) } /** * Builds an {@link ActiveMediaPlayer} for the specified {@link MediaContent} * @param {MediaContent} mediaContent - The media content to be played * @returns {ActiveMediaPlayer} */ getActiveMediaPlayer(mediaContent) { return this.activeMediaBag &amp;&amp; mediaContent ? this.activeMediaBag.getActiveMediaPlayer(mediaContent, this.project.mediaBag, this) : null } /** * Notifies the reporting system that a new activity has started * @param {Activity} act - The activity that is sending the notification */ reportNewActivity(act) { const ase = this.project.activitySequence.getCurrentAct() if (this.reporter) { if (ase.tag === this.reporter.getCurrentSequenceTag()) // Notify that the sequence has changed this.reporter.newSequence(ase) if (act.includeInReports) this.reporter.newActivity(act) } this.setCounterValue('actions', 0) this.setCounterValue('score', 0) } /** * Notifies the reporting system that a new action has been performed on the current activity * @param {Activity} act - The activity that is sending the notification * @param {string} type - Type of action (match, move, switch...) * @param {?string} source - Object acting as a source of the action (cell, grid, clue...) * @param {?string} dest - When applicable, object acting as a receiver of the action (cell, grid...) * @param {boolean} ok - Whether the action was OK or not * @param {number} currentScore - The current score of the activity */ reportNewAction(act, type, source, dest, ok, currentScore) { if (this.reporter &amp;&amp; act.includeInReports &amp;&amp; act.reportActions) this.reporter.newAction(type, source, dest, ok) if (currentScore &gt;= 0) { this.incCounterValue('actions') this.setCounterValue('score', currentScore) } } /** * Notifies the reporting system that the current activity has finished * @param {Activity} act - The activity that is sending the notification * @param {boolean} solved - Whether the activity was successfully completed or not. */ reportEndActivity(act, solved) { if (this.reporter &amp;&amp; act.includeInReports) this.reporter.endActivity(this.counterVal['score'], this.counterVal['actions'], solved) } /** * Shows the help info provided by the activity * @param {external:jQuery} $hlpComponent - The jQuery DOM component to be shown. * @returns {boolean} - True when the component was successfully displayed */ showHelp($hlpComponent) { return this.skin ? this.skin.showHelp($hlpComponent) : false } /** * Navigates to the requested URL * @param {string} url - The URL to navigate to * @param {boolean} inFrame - When `true` opens in a new frame */ displayURL(url, inFrame) { if (url) { if (inFrame) window.open(url, this.options.infoUrlFrame) else { this.end().then(() =&gt; { window.location.href = url }) } } } /** * Only when `exitUrl` has been specified in `options`, navigates to the specified URL * @param {string} url - The URL to navigate to. */ exit(url) { this.displayURL(url || this.options.exitUrl, false) } /** * Sets a title in a specific HTML element, if provided. * @param {string} docTitle */ setWindowTitle(docTitle) { Utils.log('info', `running ${docTitle}`) } } Object.assign(JClicPlayer.prototype, { /** * Current version will be updated by i18n.js * @name JClicPlayer#JClicVersion * @type {string} */ JClicVersion: '0', /** * Object with miscellaneous options. * @name JClicPlayer#options * @type {object} */ options: { // // Max waiting time to have all media loaded (milliseconds) maxWaitTime: 120000, // // Name of the frame where to open links infoUrlFrame: '_blank', // // URL where to navigate to on exit exitUrl: null, // // When `true` and no elements on sequence stack, RETURN acts as EXIT returnAsExit: false, // // At the beginning, the audio should be enabled or disabled audioEnabled: true, // // Navigation buttons are always visible (for debugging purposes) navButtonsAlways: false, // // Time (milliseconds) of the fade-in animation of the activity panel. When 0, no animation // is performed fade: 300 }, /** * Unique ID of this player, randomly generated by the constructor * @name JClicPlayer#id * @type {string} */ id: 'JC0000', /** * The JQuery &quot;div&quot; element used by this player as stage for activities * @name JClicPlayer#$div * @type {external:jQuery} */ $div: null, /** * The JQuery top container where this player will deploy * @name JClicPlayer#$topDiv * @type {external:jQuery} */ $topDiv: null, /** * The main container of all JClic components * @name JClicPlayer#$mainContainer * @type {external:jQuery} */ $mainContainer: null, /** * Flag indicatig that this player has switched to full screen at least once * @name JClicPlayer#fullScreenChecked * @type {boolean} */ fullScreenChecked: false, /** * The {@link JClicProject} currently hosted in this player * @name JClicPlayer#project * @type {JClicProject} */ project: null, /** * Relative path or absolute URL to be used as a base to access files * @name JClicPlayer#basePath * @type {string} */ basePath: '', /** * A {@link external:JSZip} object pointing to a `jclic.zip` or `jclic.scorm.zip` file containing * the current project. * Two extra properties will be added to this object when loaded: * - __zip.fullZipPath__ {string} - The full path of the ZIP file * - __zip.zipBasePath__ {string} - The path to the folder containing the ZIP file * @name JClicPlayer#zip * @type {external:JSZip} */ zip: null, /** * This flag indicates if the player is running inside a document loaded by `file:` protocol * @name JClicPlayer#localFS * @type {boolean} */ localFS: false, /** * The {@link Activity#Panel} currently running on this player. * @name JClicPlayer#actPanel * @type {Activity#Panel} */ actPanel: null, /** * This object records the list of the activities played during the current session. * @name JClicPlayer#history * @type {PlayerHistory} */ history: null, /** * The Skin currently used by this player. * @name JClicPlayer#skin * @type {Skin} */ skin: null, /** * The default Skin to be used if none specified * @name JClicPlayer#defaultSkin * @type {Skin} */ defaultSkin: null, /** * The last skin directly specified by a {@link JClicProject} * @name JClicPlayer#defaultSkin * @type {Skin} */ lastProjectSkin: null, /** * Object containing references to realized media objects, ready to play. * @name JClicPlayer#activeMediaBag * @type {ActiveMediaBag} */ activeMediaBag: null, /** * Object responsible for passing the scores obtained by users to a external reporting systems * when playing activities. * @name JClicPlayer#reporter * @type {Reporter} */ reporter: null, /** * Collection of {@link AWT.Action} objects used by this player. * @name JClicPlayer#actions * @type {AWT.Action[]} */ actions: {}, /** * Main timer object used to feed the time counter. Ticks every second. * @name JClicPlayer#timer * @type {AWT.Timer} */ timer: null, /** * Timer for delayed actions * @name JClicPlayer#delayedTimer * @type {AWT.Timer} */ delayedTimer: null, /** * This variable holds the action to be executed by `delayedTimer` * @name JClicPlayer#delayedAction * @type {AWT.Action} */ delayedAction: null, /** * @typedef JClicPlayer~counterValType * @type {object} * @property {number} score * @property {number} actions * @property {number} time */ /** * Current values of the counters * @name JClicPlayer#counterVal * @type {JClicPlayer~counterValType} */ counterVal: { score: 0, actions: 0, time: 0 }, /** * Point indicating the upper-left corner of the current background image * @name JClicPlayer#bgImageOrigin * @type {AWT.Point} */ bgImageOrigin: null, /** * Whether the player must play all sounds (including system sounds) and other media content * of the activities. * @name JClicPlayer#audioEnabled * @type {boolean} */ audioEnabled: true, /** * Whether the navigation buttons `next` and `back` are enabled o disabled. * @name JClicPlayer#navButtonsDisabled * @type {boolean} */ navButtonsDisabled: false, /** * When this flag is `true`, the navigation buttons are always enabled despite * of the indications made by the activities or the sequence control system. * This is used only to debug projects with complicated sequence chaining. * @name JClicPlayer#navButtonsAlways * @type {boolean} */ navButtonsAlways: false, }) return JClicPlayer }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"project_JClicProject.js.html":{"id":"project_JClicProject.js.html","title":"Source: project/JClicProject.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: project/JClicProject.js /** * File : project/JClicProject.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./ProjectSettings&quot;, &quot;../bags/ActivitySequence&quot;, &quot;../bags/MediaBag&quot;, &quot;../Activity&quot;, &quot;../Utils&quot;, &quot;../AWT&quot; ], function ($, ProjectSettings, ActivitySequence, MediaBag, Activity, Utils, AWT) { /** * JClicProject contains all the components of a JClic project: activities, sequences, media * files, descriptors and metadata. * * This encapsulation is achieved by three auxiliary objects: * - {@link ProjectSettings}: stores metadata like full title, description, authors, languages, * educational topics... * - {@link ActivitySequence}: defines the order in which the activities must be shown. * - {@link MediaBag}: contains the list of all media files used by the activities * @exports JClicProject * @class */ class JClicProject { /** * JClicProject constructor */ constructor() { this.settings = new ProjectSettings(this) this.activitySequence = new ActivitySequence(this) this._activities = {} this.mediaBag = new MediaBag(this) } /** * Loads the project settings from a main jQuery XML element * @param {external:jQuery} $xml - The XML element * @param {string} path - The full path of this project * @param {?external:JSZip} zip - An optional JSZip object where this project is encapsulated * @param {?object} options - An object with miscellaneous options * @returns {JClicProject} */ setProperties($xml, path, zip, options) { if (path) { this.path = path if (path.file) this.basePath = path else this.basePath = Utils.getBasePath(path) } this.zip = zip this.name = $xml.attr('name') this.version = $xml.attr('version') this.type = $xml.attr('type') this.code = $xml.attr('code') this.settings.setProperties($xml.children('settings')) this.activitySequence.setProperties($xml.children('sequence')) this.mediaBag.setProperties($xml.children('mediaBag')) this.reportableActs = 0 this._activities = {} const $node = $xml.children('activities') const $acts = $node.children('activity') const ownFonts = this.mediaBag.getElementsOfType('font') if (ownFonts.length &gt; 0) options.ownFonts = (options.ownFonts || []).concat(ownFonts) AWT.Font.checkTree($acts, options) $acts.each((_n, act) =&gt; { const $act = $(act) this._activities[Utils.nSlash($act.attr('name'))] = $act if ($act.children('settings').attr('report') === 'true') this.reportableActs++ }) return this } /** * Finds activities by name and builds the corresponding {@link Activity} object. * @param {string} name - The name of the requested activity * @returns {Activity} */ getActivity(name) { return Activity.getActivity(this._activities[Utils.nSlash(name)], this) } /** * * Builds the {@link Skin}, {@link EventSounds} and {@link MediaBag} fonts associated to this project. * @param {PlayStation} ps - The PlayStation (usually a {@link JClicPlayer}) linked to this project. */ realize(ps) { // Build skin if (this.skin === null &amp;&amp; this.settings.skinFileName !== null &amp;&amp; this.settings.skinFileName.length &gt; 0) this.skin = this.mediaBag.getSkinElement(this.settings.skinFileName, ps) this.settings.eventSounds.realize(ps, this.mediaBag) // Build all elements of type `font` this.mediaBag.buildAll('font', null, ps) } /** * Run finalizers on realized objects */ end() { // TODO: Implement JClicProject.end() } } Object.assign(JClicProject.prototype, { /** * The project's name * @name JClicProject#name * @type {string} */ name: 'unknown', /** * The version of the XML file format used to save the project (currently 0.1.3) * @name JClicProject#version * @type {string} */ version: '0.1.3', /** * Optional property that can be used by reporting systems * @name JClicProject#type * @type {string} */ type: null, /** * Optional property that can be used by reporting systems * @name JClicProject#code * @type {string} */ code: null, /** * Object containing the project settings * @name JClicProject#settings * @type {ProjectSettings} */ settings: null, /** * Object containing the order in which the activities should be played * @name JClicProject#activitySequence * @type {ActivitySequence} */ activitySequence: null, /** * Array of jQuery xml elements containing the data of each activity. Don't rely on this object * to retrieve real activities. Use the method {@link @JClicProject#getActivity} instead. * @name JClicProject#_activities * @private * @type {external:jQuery[]} */ _activities: null, /** * Number of activities suitable to be included reports * @name JClicProject#reportableActs * @type {number} */ reportableActs: 0, /** * The collection of all media elements used in this project * @name JClicProject#mediaBag * @type {MediaBag} */ mediaBag: null, /** * The object that builds and manages the visual interface presented to users * @name JClicProject#skin * @type {Skin} */ skin: null, /** * Relative path or absolute URL to be used as a base to access files, usually in conjunction * with {@link JClicPlayer#basePath} * @name JClicProject#basePath * @type {string} */ basePath: '', /** * Full path of this project * @name JClicProject#path * @type {string} */ path: null, /** * The JSZip object where this project is stored (can be `null`) * @name JClicProject#zip * @type {external:JSZip} */ zip: null, }) return JClicProject }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_MediaBag.js.html":{"id":"bags_MediaBag.js.html","title":"Source: bags/MediaBag.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/MediaBag.js /** * File : bags/MediaBag.js * Created : 07/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./MediaBagElement&quot;, &quot;../skins/Skin&quot;, &quot;../Utils&quot; ], function ($, MediaBagElement, Skin, Utils) { /** * This class stores and manages all the media components (images, sounds, animations, video, * MIDI files, etc.) needed to run the activities of a {@link JClicProject}. The main member of * the class is `elements`. This is where {@link MediaBagElement} objects are stored. * @exports MediaBag * @class */ class MediaBag { /** * MediaBag constructor * @param {JClicProject} project - The JClic project to which this media bag belongs */ constructor(project) { this.project = project this.elements = {} } /** * Loads this object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { $xml.children('media').each((_n, child) =&gt; { const mbe = new MediaBagElement(this.project.basePath, null, this.project.zip) mbe.setProperties($(child)) this.elements[mbe.name] = mbe }) return this } /** * Finds a {@link MediaBagElement} by its name, creating a new one if not found and requested. * @param {string} name - The name of the element * @param {boolean=} create - When `true`, a new MediaBagElement will be created if not found, * using 'name' as its fileName.. * @returns {MediaBagElement} */ getElement(name, create) { name = Utils.nSlash(name) let result = this.elements[name] if (create &amp;&amp; !result) result = this.getElementByFileName(name, create) return result } /** * Gets a {@link MediaBagElement} by its file name. * @param {string} fileName - The requested file name * @param {boolean=} create - When `true`, a new {@link MediaBagElement} will be created if not * found. * @returns {MediaBagElement} */ getElementByFileName(fileName, create) { let result = null if (fileName) { fileName = Utils.nSlash(fileName) for (let name in this.elements) { if (this.elements[name].fileName === fileName) { result = this.elements[name] break } } if (!result &amp;&amp; create) { result = new MediaBagElement(this.project.basePath, null, this.project.zip) result.name = fileName result.fileName = fileName result.ext = fileName.toLowerCase().split('#')[0].split('.').pop() result.type = result.getFileType(result.ext) this.elements[result.name] = result } } return result } /** * Get the names of the media elements that are of the given type. * When the search type is `font`, the `fontName` property is used instead of `name` * @param {string} type - The type of elements to search * @returns {String[]} */ getElementsOfType(type) { const result = [] $.each(this.elements, (name, element) =&gt; { if (element.type === type) result.push(type === 'font' ? element.fontName : name) }) return result } /** * Preloads all resources. * * __Use with care!__ Calling this method will start loading all the resources defined in the * MediaBag, whether used or not in the current activity. * @param {string} type - The type of media to be build. When `null` or `undefined`, all * resources will be build. * @param {function=} callback - Function to be called when each element is ready. * @param {PlayStation=} ps - An optional `PlayStation` (currently a {@link JClicPlayer}) used to dynamically load fonts * @returns {number} - The total number of elements that will be build * */ buildAll(type, callback, ps) { let count = 0 $.each(this.elements, (name, element) =&gt; { if (!type || element.type === type) { element.build(callback, ps) count++ } }) return count } /** * Checks if there are media waiting to be loaded * @returns {number} - The amount of media elements already loaded, or -1 if all elements are ready */ countWaitingElements() { let ready = 0, allReady = true // Only for debug purposes: return always 'false' // TODO: Check loading process! $.each(this.elements, (name, element) =&gt; { if (element.data &amp;&amp; !element.ready &amp;&amp; !element.checkReady() &amp;&amp; !element.checkTimeout()) { Utils.log('debug', '... waiting for: %s', name) allReady = false } else ready++ }) return allReady ? -1 : ready } /** * Loads a {@link Skin} object * @param {string} name - The skin name to be loaded * @param {string} ps - The {@link PlayStation} linked to the skin * @returns {Skin} */ getSkinElement(name, ps) { return Skin.getSkin(name, ps) } } Object.assign(MediaBag.prototype, { /** * The collection of {@link MediaBagElement} objects * @name MediaBag#elements * @type {object} */ elements: null, /** * The JClic project to which this MediaBag belongs * @name MediaBag#project * @type {JClicProject} */ project: null, }) return MediaBag }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"bags_MediaBagElement.js.html":{"id":"bags_MediaBagElement.js.html","title":"Source: bags/MediaBagElement.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: bags/MediaBagElement.js /** * File : bags/MediaBagElement.js * Created : 07/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, Uint8Array */ define([ &quot;jquery&quot;, &quot;../Utils&quot;, &quot;../AWT&quot; ], function ($, Utils, AWT) { /** * This kind of objects are the components of {@link MediaBag}. * * Media elements have a name, a reference to a file (the `fileName` field) and, when initialized, * a `data` field pointing to a object containing the real media. They have also a flag indicating * if the data must be saved on the {@link JClicProject} zip file or just maintained as a reference * to an external file. * @exports MediaBagElement * @class */ class MediaBagElement { /** * MediaBagElement constructor * @param {string} basePath - Path to be used as a prefix of the file name * @param {string} fileName - The media file name * @param {external:JSZip=} zip - An optional JSZip object from which the file must be extracted. */ constructor(basePath, fileName, zip) { if (basePath) this.basePath = basePath if (fileName) { this.fileName = Utils.nSlash(fileName) this.name = Utils.nSlash(fileName) this.ext = this.fileName.toLowerCase().split('.').pop() this.type = this.getFileType(this.ext) if (this.ext === 'gif') this.checkAnimatedGif() } if (zip) this.zip = zip this.timeout = Date.now() + Utils.settings.LOAD_TIMEOUT } /** * Loads this object settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { this.name = Utils.nSlash($xml.attr('name')) this.fileName = Utils.nSlash($xml.attr('file')) this.ext = this.fileName.toLowerCase().split('.').pop() this.type = this.getFileType(this.ext) // Check if it's an animated GIF if (this.ext === 'gif') { const anim = $xml.attr('animated') if (typeof anim === 'undefined') this.checkAnimatedGif() else this.animated = anim === 'true' } if (this.type === 'font') { this.fontName = this.name === this.fileName &amp;&amp; this.name.lastIndexOf('.') &gt; 0 ? this.name.substring(0, this.name.lastIndexOf('.')) : this.name } return this } /** * Checks if the image associated with this MediaBagElement is an animated GIF * * Based on: {@link https://gist.github.com/marckubischta/261ad8427a214022890b} * Thanks to `@lakenen` and `@marckubischta` */ checkAnimatedGif() { const request = new XMLHttpRequest() // Set `responseType` moved after calling `open` // see: https://stackoverflow.com/questions/20760635/why-does-setting-xmlhttprequest-responsetype-before-calling-open-throw // request.responseType = 'arraybuffer' request.addEventListener('load', () =&gt; { const arr = new Uint8Array(request.response), length = arr.length // make sure it's a gif (GIF8) if (arr[0] !== 0x47 || arr[1] !== 0x49 || arr[2] !== 0x46 || arr[3] !== 0x38) { this.animated = false return } // Ported from PHP [http://www.php.net/manual/en/function.imagecreatefromgif.php#104473] // an animated gif contains multiple &quot;frames&quot;, with each frame having a // header made up of: // * a static 3-byte sequence (\\x00\\x21\\xF9 // * one byte indicating the length of the header (usually \\x04) // * variable length header (usually 4 bytes) // * a static 2-byte sequence (\\x00\\x2C) (some variants may use \\x00\\x21 ?) // We read through the file as long as we haven't reached the end of the file // and we haven't yet found at least 2 frame headers for (let i = 0, len = length - 3, frames = 0; i &lt; len &amp;&amp; frames &lt; 2; ++i) { if (arr[i] === 0x00 &amp;&amp; arr[i + 1] === 0x21 &amp;&amp; arr[i + 2] === 0xF9) { const blocklength = arr[i + 3], afterblock = i + 4 + blocklength if (afterblock + 1 &lt; length &amp;&amp; arr[afterblock] === 0x00 &amp;&amp; (arr[afterblock + 1] === 0x2C || arr[afterblock + 1] === 0x21)) { if (++frames &gt; 1) { this.animated = true Utils.log('debug', `Animated GIF detected: ${this.fileName}`) break } } } } }) this.getFullPathPromise().then(fullPath =&gt; { request.open('GET', fullPath, true) // ------------------ Here we go: request.responseType = 'arraybuffer' // --------------------------------- request.send() }) } /** * Checks if the MediaBagElement has been initiated * @returns {boolean} */ isEmpty() { return this.data === null } /** * Determines the type of a file from its extension * @param {string} ext - The file name extension * @returns {string} */ getFileType(ext) { let result = null for (let type in Utils.settings.FILE_TYPES) { if (Utils.settings.FILE_TYPES[type].indexOf(ext) &gt;= 0) { result = type break } } return result } /** * Instantiates the media content * @param {function} callback - Callback method called when the referred resource is ready * @param {PlayStation=} ps - An optional `PlayStation` (currently a {@link JClicPlayer}) used to dynamically load fonts */ build(callback, ps) { if (callback) { if (!this._whenReady) this._whenReady = [] this._whenReady.push(callback) } if (!this.data) this.getFullPathPromise().then(fullPath =&gt; { switch (this.type) { case 'font': const format = this.ext === 'ttf' ? 'truetype' : this.ext === 'otf' ? 'embedded-opentype' : this.ext, css = `@font-face{font-family:&quot;${this.fontName}&quot;;src:url(${fullPath}) format(&quot;${format}&quot;);}` Utils.appendStyleAtHead(css, ps) this.data = new AWT.Font(this.name) this.ready = true break case 'image': this.data = new Image() $(this.data).on('load', () =&gt; this._onReady.call(this)) this.data.src = fullPath break case 'audio': case 'video': this.data = document.createElement(this.type) $(this.data).on('canplay', () =&gt; this._onReady.call(this)) this.data.src = fullPath this.data.pause() break case 'anim': this.data = $(`&lt;object type&quot;application/x-shockwave-flash&quot; width=&quot;300&quot; height=&quot;200&quot; data=&quot;${fullPath}&quot;/&gt;`).get(-1) // Unable to check the loading progress in elements of type `object`. so we mark it always as `ready`: this.ready = true break case 'xml': $.get(fullPath, null, null, 'xml').done(xmlData =&gt; { const children = xmlData ? xmlData.children || xmlData.childNodes : null this.data = children &amp;&amp; children.length &gt; 0 ? Utils.parseXmlNode(children[0]) : null this._onReady() }).fail(err =&gt; { Utils.log('error', `Error loading ${this.name}: ${err}`) this._onReady() }) break default: // TODO: Load the real resource Utils.log('trace', `Media currently not supported: ${this.name}`) this.ready = true } if (this.ready) this._onReady() }) else if (this.ready) this._onReady() return this } /** * Checks if this media element is ready to start * @returns {Boolean} - `true` if ready, `false` otherwise */ checkReady() { if (this.data &amp;&amp; !this.ready) { switch (this.type) { case 'image': this.ready = this.data.complete === true break case 'audio': case 'video': case 'anim': this.ready = this.data.readyState &gt;= 1 break default: this.ready = true } } return this.ready } /** * Checks if this resource has timed out. * @returns {Boolean} - `true` if the resource has exhausted the allowed time to load, `false` otherwise */ checkTimeout() { const result = Date.now() &gt; this.timeout if (result) Utils.log('warn', `Timeout while loading: ${this.name}`) return result } /** * Notify listeners that the resource is ready */ _onReady() { this.ready = true if (this._whenReady) { this._whenReady.forEach(fn =&gt; fn.call(this, this)) this._whenReady = null } } /** * Gets the full path of the file associated to this element. * WARNING: This function should be called only after a successful call to `getFullPathPromise` * @returns {string} */ getFullPath() { return this._fullPath } /** * Gets a promise with the full path of the file associated to this element. * @returns {Promise} */ getFullPathPromise() { return new Promise((resolve, reject) =&gt; { Utils.getPathPromise(this.basePath, this.fileName, this.zip).then(fullPath =&gt; { this._fullPath = fullPath resolve(fullPath) }).catch(reject) }) } } Object.assign(MediaBagElement.prototype, { /** * The name of this element. Usually is the same as `fileName` * @name MediaBagElement#name * @type {string} */ name: '', /** * The name of the file where this element is stored * @name MediaBagElement#fileName * @type {string} */ fileName: '', /** * The font family name, used only in elements of type 'font' * @name MediaBagElement#fontName * @type {string} */ fontName: '', /** * The path to be used as base to access this media element * @name MediaBagElement#basePath * @type {string} */ basePath: '', /** * An optional JSZip object that can act as a container of this media * @name MediaBagElement#zip * @type {external:JSZip} */ zip: null, /** * When loaded, this field will store the realized media object * @name MediaBagElement#data * @type {object} */ data: null, /** * Flag indicating that `data` is ready to be used * @name MediaBagElement#ready * @type {boolean} */ ready: false, /** * Array of callback methods to be called when the resource becomes ready * @name MediaBagElement#_whenReady * @private * @type {function[]} */ _whenReady: null, /** * Normalized extension of `fileName`, useful to determine the media type * @name MediaBagElement#ext * @type {string} */ ext: '', /** * The resource type ('audio', 'image', 'midi', 'video', 'font') * @name MediaBagElement#type * @type {string} */ type: null, /** * Time set to load the resource before leaving * @name MediaBagElement#timeout * @type {number} */ timeout: 0, // /** * Flag used for animated GIFs * @name MediaBagElement#animated * @type {boolean} */ animated: false, /** * Full path obtained after a successful call to getFullPathPromise * @name MediaBagElement#_fullPath * @private * @type {string} */ _fullPath: null, }) return MediaBagElement }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"media_MediaContent.js.html":{"id":"media_MediaContent.js.html","title":"Source: media/MediaContent.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: media/MediaContent.js /** * File : media/MediaContent.js * Created : 13/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../AWT&quot;, &quot;../Utils&quot; ], function ($, AWT, Utils) { /** * This object contains a description of any multimedia content (sound, video, MIDI, voice * recording..) or special actions (jump to another point in the sequence, link to an URL, etc.) * associated to an {@link ActiveBox} object. * @exports MediaContent * @class */ class MediaContent { /** * MediaContent constructor * @param {string} type - The type of media. Valid values are: `UNKNOWN`, `PLAY_AUDIO`, `PLAY_VIDEO`, * `PLAY_MIDI`, `PLAY_CDAUDIO`, `RECORD_AUDIO`, `PLAY_RECORDED_AUDIO`, `RUN_CLIC_ACTIVITY`, * `RUN_CLIC_PACKAGE`, `RUN_EXTERNAL`, `URL`, `EXIT` and `RETURN` * @param {string=} mediaFileName - Optional parameter indicating the media file name */ constructor(type, mediaFileName) { this.mediaType = type if (mediaFileName) this.mediaFileName = mediaFileName } /** * Loads the MediaContent settings from a specific JQuery XML element * @param {external:jQuery} $xml */ setProperties($xml) { Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'type': this['mediaType'] = val break case 'file': this['mediaFileName'] = Utils.nSlash(val) break case 'params': this['externalParam'] = Utils.nSlash(val) break case 'pFrom': this['absLocationFrom'] = val break case 'buffer': this['recBuffer'] = Number(val) break case 'level': case 'from': case 'to': case 'length': this[name] = Number(val) break case 'px': case 'py': if (this.absLocation === null) this.absLocation = new AWT.Point(0, 0) if (name === 'px') this.absLocation.x = Number(val) else this.absLocation.y = Number(val) break case 'stretch': case 'free': case 'catchMouseEvents': case 'loop': case 'autostart': this[name] = Utils.getBoolean(val) break } }) return this } /** * Compares this object with another MediaContent. * @param {MediaContent} mc - The Media Content to compare against to. * @returns {boolean} - `true` when both objects are equivalent. */ isEquivalent(mc) { return this.mediaType === mc.mediaType &amp;&amp; (this.mediaFileName === mc.mediaFileName || this.mediaFileName !== null &amp;&amp; mc.mediaFileName !== null &amp;&amp; this.mediaFileName.toLocaleLowerCase() === mc.mediaFileName.toLocaleLowerCase()) &amp;&amp; this.from === mc.from &amp;&amp; this.to === mc.to &amp;&amp; this.recBuffer === mc.recBuffer } /** * Gets a string representing this media content, useful for checking if two different elements * are equivalent. * @returns {string} */ getDescription() { let result = `${this.mediaType}` if (this.mediaFileName) result = `${result} ${this.mediaFileName}${this.from &gt;= 0 ? ` from:${this.from}` : ''}${this.to &gt;= 0 ? ` to:${this.to}` : ''}` else if (this.externalParam) result = `${result} ${this.externalParam}` return result } /** * Returns a simplified description of this media content. Useful for accessibility methods. * @returns {string} */ toString() { return `${this.mediaType}${this.mediaFileName ? ` ${this.mediaFileName}` : ''}` } /** * Returns an image to be used as icon for representing this media content. * @returns {external:HTMLImageElement} */ getIcon() { let icon = null switch (this.mediaType) { case 'PLAY_AUDIO': case 'PLAY_RECORDED_AUDIO': icon = 'audio' break case 'RECORD_AUDIO': icon = 'mic' break case 'PLAY_VIDEO': icon = 'movie' break case 'PLAY_MIDI': icon = 'music' break case 'URL': icon = 'url' break default: icon = 'default' break } return icon ? MediaContent.ICONS[icon] : null } } Object.assign(MediaContent.prototype, { /** * The type of media. Valid values are: `UNKNOWN`, `PLAY_AUDIO`, `PLAY_VIDEO`, * `PLAY_MIDI`, `PLAY_CDAUDIO`, `RECORD_AUDIO`, `PLAY_RECORDED_AUDIO`, `RUN_CLIC_ACTIVITY`, * `RUN_CLIC_PACKAGE`, `RUN_EXTERNAL`, `URL`, `EXIT` and `RETURN` * @name MediaContent#mediaType * @type {string} */ mediaType: 'UNKNOWN', /** * The priority level is important when different medias want to play together. Objects with * highest priority level can mute lower ones. * @name MediaContent#level * @type {number} */ level: 1, /** * Media file name * @name MediaContent#mediaFileName * @type {String} */ mediaFileName: null, /** * Optional parameters passed to external calls * @name MediaContent#externalParams * @type {string} */ externalParam: null, /** * Special setting used to play only a fragment of media. `-1` means not used (plays full * length, from the beginning) * @name MediaContent#from * @type {number} */ from: -1, /** * Special setting used to play only a fragment of media. `-1` means not used (plays to the end * of the media) * @name MediaContent#to * @type {number} */ to: -1, /** * When `mediaType` is `RECORD_AUDIO`, this member stores the maximum length of the recorded * sound, in seconds. * @name MediaContent#length * @type {number} */ length: 3, /** * When `mediaType` is `RECORD_AUDIO`, this member stores the buffer ID where the recording * will be stored. * @name MediaContent#recBuffer * @type {number} */ recBuffer: 0, /** * Whether to stretch or not the video size to fit the cell space. * @name MediaContent#stretch * @type {boolean} */ stretch: false, /** * When `true`, the video plays out of the cell, centered on the activity window. * @name MediaContent#free * @type {boolean} */ free: false, /** * Places the video window at a specific location. * @name MediaContent#absLocation * @type {AWT.Point} */ absLocation: null, /** * When {@link MediaContent#absLocation} is not `null`, this field indicates from where to * measure its coordinates. Valid values are: `BOX`, `WINDOW` or `FRAME`. * @name MediaContent#absLocationFrom * @type {string} */ absLocationFrom: null, /** * `true` when the video window must catch mouse clicks. * @name MediaContent#catchMouseEvents * @type {boolean} */ catchMouseEvents: false, /** * Whether to repeat the media in loop, or just one time. * @name MediaContent#loop * @type {boolean} */ loop: false, /** * When `true`, the media will automatically start playing when the associated {@link ActiveBox} * become active. * @name MediaContent#autoStart * @type {boolean} */ autoStart: false, }) /** * Default icons for media types. * @type {object} */ const ICONS = { default: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGhlaWdodD0iNDgiIHZp' + 'ZXdCb3g9IjAgMCA0OCA0OCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAw' + 'MC9zdmciPjxwYXRoIGQ9Ik0yOC44IDEyTDI4IDhIMTB2MzRoNFYyOGgxMS4ybC44IDRoMTRWMTJ6' + 'Ij48L3BhdGg+PC9zdmc+Cg==', audio: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAi' + 'IGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zIDl2Nmg0bDUgNVY0TDcgOUgzem0xMy41' + 'IDNjMC0xLjc3LTEuMDItMy4yOS0yLjUtNC4wM3Y4LjA1YzEuNDgtLjczIDIuNS0yLjI1IDIuNS00' + 'LjAyek0xNCAzLjIzdjIuMDZjMi44OS44NiA1IDMuNTQgNSA2Ljcxcy0yLjExIDUuODUtNSA2Ljcx' + 'djIuMDZjNC4wMS0uOTEgNy00LjQ5IDctOC43N3MtMi45OS03Ljg2LTctOC43N3oiPjwvcGF0aD48' + 'cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PC9zdmc+Cg==', movie: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAi' + 'IGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xOCA0bDIgNGgtM2wtMi00aC0ybDIgNGgt' + 'M2wtMi00SDhsMiA0SDdMNSA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIg' + 'MiAyaDE2YzEuMSAwIDItLjkgMi0yVjRoLTR6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgw' + 'eiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=', mic: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAi' + 'IGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMiAxNGMxLjY2IDAgMi45OS0xLjM0IDIu' + 'OTktM0wxNSA1YzAtMS42Ni0xLjM0LTMtMy0zUzkgMy4zNCA5IDV2NmMwIDEuNjYgMS4zNCAzIDMg' + 'M3ptNS4zLTNjMCAzLTIuNTQgNS4xLTUuMyA1LjFTNi43IDE0IDYuNyAxMUg1YzAgMy40MSAyLjcy' + 'IDYuMjMgNiA2LjcyVjIxaDJ2LTMuMjhjMy4yOC0uNDggNi0zLjMgNi02LjcyaC0xLjd6Ij48L3Bh' + 'dGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=', music: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAi' + 'IGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUi' + 'PjwvcGF0aD48cGF0aCBkPSJNMTIgM3YxMC41NWMtLjU5LS4zNC0xLjI3LS41NS0yLS41NS0yLjIx' + 'IDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRWN2g0VjNoLTZ6Ij48L3BhdGg+PC9z' + 'dmc+Cg==', url: 'data:image/svg+xml;base64,' + 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAi' + 'IGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDov' + 'L3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUi' + 'PjwvcGF0aD48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAx' + 'MC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTEgMTcuOTNjLTMuOTUtLjQ5LTctMy44NS03LTcu' + 'OTMgMC0uNjIuMDgtMS4yMS4yMS0xLjc5TDkgMTV2MWMwIDEuMS45IDIgMiAydjEuOTN6bTYuOS0y' + 'LjU0Yy0uMjYtLjgxLTEtMS4zOS0xLjktMS4zOWgtMXYtM2MwLS41NS0uNDUtMS0xLTFIOHYtMmgy' + 'Yy41NSAwIDEtLjQ1IDEtMVY3aDJjMS4xIDAgMi0uOSAyLTJ2LS40MWMyLjkzIDEuMTkgNSA0LjA2' + 'IDUgNy40MSAwIDIuMDgtLjggMy45Ny0yLjEgNS4zOXoiPjwvcGF0aD48L3N2Zz4K' } /** * Collection of icon {@link external:HTMLImageElement} objects * @name MediaContent.ICONS * @type {object} */ MediaContent.ICONS = {} // Load the icons $.each(ICONS, (key, value) =&gt; { const img = new Image() img.src = value MediaContent.ICONS[key] = img }) return MediaContent }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_memory_MemoryGame.js.html":{"id":"activities_memory_MemoryGame.js.html","title":"Source: activities/memory/MemoryGame.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/memory/MemoryGame.js /** * File : activities/memory/MemoryGame.js * Created : 04/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot;, &quot;../../shapers/Rectangular&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, BoxConnector, AWT, Rectangular) { /** * This class of {@link Activity} shows a panel with duplicate {@link ActiveBox} objects initially * hidden and scrambled. To complete the activity, all object pairs must be found. Only two objects * are revealed in every move, so the user must remember the content of each cell. * * The cell pairs can have identical content, defined in the `primary` {@link ActiveBagContent} of * the activity, or two different contents. In this case, the `secondary` bag elements will have * content related to each `primary` element. * @exports MemoryGame * @class * @extends Activity */ class MemoryGame extends Activity { /** * MemoryGame constructor * @param {JClicProject} project - The {@link JClicProject} to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity. * @override * @returns {number} */ getMinNumActions() { return this.abc.primary.getNumCells() } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * When `true`, the activity must always be scrambled * @override * @returns {boolean} */ shuffleAlways() { return true } } /** * The {@link ActivityPanel} where {@link MemoryGame} activities are played. * @class * @extends ActivityPanel */ class MemoryGamePanel extends Activity.Panel { /** * MemoryGamePanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Miscellaneous cleaning operations * @override */ clear() { if (this.bg) { this.bg.end() this.bg = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abcA = this.act.abc['primary'], abcB = this.act.abc['secondary'] if (abcA) { if (abcA.imgName) abcA.setImgContent(this.act.project.mediaBag, null, false) if (abcB &amp;&amp; abcB.imgName) abcB.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) { const contentKit = [abcA] if (abcB) contentKit.push(abcB) this.act.acp.generateContent(abcA.nch, abcA.ncw, contentKit, false) } let ncw = abcA.ncw, nch = abcA.nch if (this.act.boxGridPos === 'AB' || this.act.boxGridPos === 'BA') ncw *= 2 else nch *= 2 this.bg = new ActiveBoxGrid(null, this, abcA.bb, this.act.margin, this.act.margin, abcA.w * ncw, abcA.h * nch, new Rectangular(ncw, nch)) const nc = abcA.getNumCells() this.bg.setBorder(abcA.border) this.bg.setContent(abcA, null, 0, 0, nc) this.bg.setContent(abcB ? abcB : abcA, null, 0, nc, nc) for (let i = 0; i &lt; 2; i++) { for (let j = 0; j &lt; nc; j++) { const bx = this.bg.getActiveBox(i * nc + j) bx.idAss = j bx.setInactive(true) } } this.bg.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bg) { this.shuffle([this.bg], true, true) this.invalidate().update() this.setAndPlayMsg('initial', 'start') this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bg &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bg.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { if (!this.bg || this.getBounds().equals(preferredMaxSize)) return preferredMaxSize return BoxBag.layoutSingle(preferredMaxSize, this.bg, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bg) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) this.$div.append(this.$canvas) // Create a [BoxConnector](BoxConnector.html) and attach it to the canvas context this.bc = new BoxConnector(this, this.$canvas.get(-1).getContext('2d')) // Repaint all this.invalidate().update() } } /** * Builds the accessible components needed for this ActivityPanel * This method is called when all main elements are placed and visible, when the activity is ready * to start or when resized. * @override */ buildAccessibleComponents() { if (this.$canvas &amp;&amp; this.accessibleCanvas &amp;&amp; this.bg) { super.buildAccessibleComponents() this.bg.setCellAttr('accessibleAlwaysActive', true) this.bg.buildAccessibleElements(this.$canvas, this.$div, 'mousedown') } } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.bc &amp;&amp; this.playing) { // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated let p = null // // Two [ActiveBox](ActiveBox.html) pointers used for the [BoxConnector](BoxConnector.html) // `origin` and `dest` points. let bx1, bx2, // Array to be filled with actions to be executed at the end of event processing delayedActions = [] // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent &amp;&amp; event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } // Flag for tracking `mouseup` events let up = false switch (event.type) { case 'touchcancel': // Canvel movement if (this.bc.active) this.bc.end() break case 'mouseup': case 'touchend': // Don't consider drag moves below 3 pixels. Can be a &quot;trembling click&quot; if (this.bc.active &amp;&amp; p.distanceTo(this.bc.origin) &lt;= 3) break up = true /* falls through */ case 'touchstart': case 'mousedown': if (!this.bc.active) { // New pairing starts // // Pairings can never start with a `mouseup` event if (up) break this.ps.stopMedia(1) // // Find the ActiveBox behind the clicked point bx1 = this.bg ? this.bg.findActiveBox(p) : null if (bx1 &amp;&amp; bx1.idAss !== -1) { // Play cell media or event sound if (!bx1.playMedia(this.ps, delayedActions)) this.playEvent('click') bx1.setInactive(false) // Start the [BoxConnector](BoxConnector.html) this.update() if (this.act.dragCells) this.bc.begin(p, bx1) else this.bc.begin(p) } } else { this.ps.stopMedia(1) // Pairing completed // // Find the active boxes behind `bc.origin` and `p` if (this.act.dragCells) bx1 = this.bc.bx else bx1 = this.bg ? this.bg.findActiveBox(this.bc.origin) : null this.bc.end() bx2 = this.bg ? this.bg.findActiveBox(p) : null // // Check if the pairing was OK if (bx1 &amp;&amp; bx1.idAss !== -1 &amp;&amp; bx2 &amp;&amp; bx2.idAss !== -1) { if (bx1 !== bx2) { let ok = false if (bx1.idAss === bx2.idAss || bx1.getContent().isEquivalent(bx2.getContent(), true)) { ok = true bx1.idAss = -1 bx1.setInactive(false) bx2.idAss = -1 bx2.setInactive(false) } else { bx1.setInactive(true) if (this.act.dragCells) bx2.setInactive(true) else { bx2.setInactive(false) // Start the [BoxConnector](BoxConnector.html) this.update() if (this.act.dragCells) this.bc.begin(p, bx1) else this.bc.begin(p) } } let m = bx2.playMedia(this.ps, delayedActions) if (this.bg) { const cellsAtPlace = this.bg.countCellsWithIdAss(-1) this.ps.reportNewAction(this.act, 'MATCH', bx1.getDescription(), bx2.getDescription(), ok, cellsAtPlace / 2) if (ok &amp;&amp; cellsAtPlace === this.bg.getNumCells()) this.finishActivity(true) else if (!m) this.playEvent(ok ? 'actionOk' : 'actionError') } } else { this.playEvent('CLICK') bx1.setInactive(true) } } else if (bx1 !== null) bx1.setInactive(true) this.invalidate().update() } break case 'mousemove': case 'touchmove': this.bc.moveTo(p) break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(MemoryGamePanel.prototype, { /** * The {@link ActiveBoxBag} containing the information to be displayed. * @name MemoryGamePanel#bg * @type {ActiveBoxBag} */ bg: null, /** * The {@link BoxConnector} used to reveal pairs of cells * @name MemoryGamePanel#bc * @type {BoxConnector} */ bc: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name MemoryGamePanel#events * @type {string[]} */ events: ['mousedown', 'mouseup', 'mousemove', 'touchstart', 'touchend', 'touchmove', 'touchcancel'], }) /** * Panel class associated to this type of activity: {@link MemoryGamePanel} * @type {class} */ MemoryGame.Panel = MemoryGamePanel // Register class in Activity.prototype Activity.CLASSES['@memory.MemoryGame'] = MemoryGame return MemoryGame }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_MiniSkin.js.html":{"id":"skins_MiniSkin.js.html","title":"Source: skins/MiniSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/MiniSkin.js /** * File : skins/MiniSkin.js * Created : 05/07/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot;, &quot;./DefaultSkin&quot; ], function ($, Skin, DefaultSkin) { /** * This is a variant of the default {@link Skin} used by JClic.js * It differs from {@link DefaultSkin} in colors and sizes * @exports MiniSkin * @class * @extends DefaultSkin */ class MiniSkin extends DefaultSkin { /** * MiniSkin constructor * * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects meeded tot build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // MiniSkin extends [DefaultSkin](DefaultSkin.html) super(ps, name, Object.assign({}, options, { counters: false, reportsBtn: true })) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return super._getStyleSheets(media) + (media === 'default' ? this.skinCSS : '') } } Object.assign(MiniSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name MiniSkin#skinId * @override * @type {string} */ skinId: 'JClicMiniSkin', // Buttons and other graphical resources used by this skin. // /** * Icon width * @name MiniSkin#iconWidth * @override * @type {number} */ iconWidth: 18, /** * Icon height * @name MiniSkin#iconHeight * @override * @type {number} */ iconHeight: 18, /** * Fill color for icons * @name MiniSkin#iconFill * @override * @type {string} */ iconFill: '#080808', /** * Fill-in color for counters * @name MiniSkin#counterIconFill * @override * @type {string} */ counterIconFill: '#080808', /** * Default margin between elements * @name MiniSkin#margin * @override * @type {number} */ margin: 8, /** * Styles used in this skin * @name MiniSkin#skinCSS * @type {string} */ skinCSS: '\\ .ID {background-color:#F4F4F4;}\\ .ID .JClicPlayerCnt {margin:4px;}\\ .ID .JClicCtrlCnt {margin:0 2px 4px 2px;}\\ .ID .JClicMsgBox {height:25px;}', /** * Styles used in this skin, sized to half its regular size. * (_null_ here because MiniSkin it's already very small) * @name MiniSkin#mainCSSHalf * @override * @type {string} */ mainCSSHalf: '', /** * Styles used in this skin, sized to two thirds of its regular size * (_null_ here because MiniSkin it's already very small) * @name MiniSkin#mainCSSTwoThirds * @override * @type {string} */ mainCSSTwoThirds: '', }) // Register this class in the list of available skins Skin.CLASSES['mini'] = MiniSkin return MiniSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_OrangeSkin.js.html":{"id":"skins_OrangeSkin.js.html","title":"Source: skins/OrangeSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/OrangeSkin.js /** * File : skins/OrangeSkin.js * Created : 04/07/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot;, &quot;./DefaultSkin&quot; ], function ($, Skin, DefaultSkin) { /** * This is a variant of the default {@link Skin} used by JClic.js * It differs from {@link DefaultSkin} only in some colors * @exports OrangeSkin * @class * @extends DefaultSkin */ class OrangeSkin extends DefaultSkin { /** * OrangeSkin constructor * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects meeded tot build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // OrangeSkin extends [DefaultSkin](DefaultSkin.html) super(ps, name, options) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return super._getStyleSheets(media) + (media === 'default' ? this.skinCSS : '') } } Object.assign(OrangeSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name OrangeSkin#skinId * @override * @type {string} */ skinId: 'JClicOrangeSkin', /** * Styles used in this skin * @name OrangeSkin#skinCSS * @type {string} */ skinCSS: '.ID {background-color:#FF8B19;}' }) // Register this class in the list of available skins Skin.CLASSES['orange'] = OrangeSkin return OrangeSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_OrderText.js.html":{"id":"activities_text_OrderText.js.html","title":"Source: activities/text/OrderText.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/OrderText.js /** * File : activities/text/OrderText.js * Created : 20/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;./TextActivityBase&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot; ], function ($, Activity, TextActivityBase, BoxConnector, AWT) { /** * In this type of text activity users must put in order some words or paragraphs that have been * initially scrambled. * @exports OrderText * @class * @extends TextActivityBase */ class OrderText extends TextActivityBase { /** * OrderText constructor * @param {JClicProject} project - The project to which this activity belongs */ constructor(project) { super(project) } /** * Whether or not the activity uses random to scramble internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * When `true`, the activity must always be scrambled * @override * @returns {boolean} */ shuffleAlways() { return true } /** * Whether the activity allows the user to request help. * @override * @returns {boolean} */ helpSolutionAllowed() { return true } } Object.assign(OrderText.prototype, { /** * Whether to allow or not to scramble words among different paragraphs. * @name OrderText#amongParagraphs * @type {boolean} */ amongParagraphs: false, /** * The box connector * @name OrderText#bc * @type {BoxConnector} */ bc: null, }) /** * The {@link TextActivityBasePanel} where {@link OrderText} activities are played. * @class * @extends TextActivityBasePanel */ class OrderTextPanel extends TextActivityBase.Panel { /** * OrderTextPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Prepares the text panel * @override */ buildVisualComponents() { this.act.document.style['target'].css.cursor = 'pointer' super.buildVisualComponents() } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (!this.act.dragCells) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0, 'pointer-events': 'none' }) this.$div.append(this.$canvas) // Create a [BoxConnector](BoxConnector.html) and attach it to the canvas context this.bc = new BoxConnector(this, this.$canvas.get(-1).getContext('2d')) this.bc.compositeOp = this.bc.DEFAULT_COMPOSITE_OP // Repaint all this.invalidate().update() } } /** * Creates a target DOM element for the provided target. * @override * @param {TextActivityDocument.TextTarget} target - The target related to the DOM object to be created * @param {external:jQuery} $span - - An initial DOM object (usually a `span`) that can be used * to store the target, or replaced by another type of object. * @returns {external:jQuery} - The jQuery DOM element loaded with the target data. */ $createTargetElement(target, $span) { super.$createTargetElement(target, $span) const idLabel = `target${`000${this.targets.length - 1}`.slice(-3)}` $span.addClass('JClicTextTarget').bind('click', event =&gt; { event.textTarget = target event.idLabel = idLabel this.processEvent(event) }) return $span } /** * Swaps the position of two targets in the document * @param {TextActivityDocument.TextTarget} t1 - One target * @param {TextActivityDocument.TextTarget} t2 - Another target */ swapTargets(t1, t2) { const $span1 = t1.$span, $span2 = t2.$span, $marker = $('&lt;span/&gt;') $marker.insertAfter($span2) $span2.detach() $span2.insertAfter($span1) $span1.detach() $span1.insertAfter($marker) $marker.remove() const pos = t1.pos, $p = t1.$p t1.pos = t2.pos t1.$p = t2.$p t2.pos = pos t2.$p = $p } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false } /** * Called when the activity starts playing * @override */ startActivity() { super.startActivity() if (!this.showingPrevScreen) { if (this.act.type === 'orderWords' &amp;&amp; !this.act.amongParagraphs) { // Group targets by paragraph const groups = [] let lastTarget = null, currentGroup = [] this.targets.forEach(t =&gt; { if (lastTarget !== null &amp;&amp; lastTarget.$p !== t.$p) { groups.push(currentGroup) currentGroup = [] } currentGroup.push(t) lastTarget = t }) if (currentGroup.length &gt; 0) groups.push(currentGroup) // Scramble group by group groups.forEach(group =&gt; this.shuffleTargets(group, this.act.shuffles)) } else this.shuffleTargets(this.targets, this.act.shuffles) this.playing = true } this.setBounds(this) } /** * Randomly shuffles a set of targets * @param {TextActivityDocument.TextTarget[]} targets - The set of targets to shuffle (can be all * document targets or just the targets belonging to the same paragraph, depending on the value of * `amongParagraphs` in {@link Activity}. * @param {number} steps - The number of times to shuffle the elements */ shuffleTargets(targets, steps) { const nt = targets.length if (nt &gt; 1) { let repeatCount = 100 for (let i = 0; i &lt; steps; i++) { const r1 = Math.floor(Math.random() * nt), r2 = Math.floor(Math.random() * nt) if (r1 !== r2) { this.swapTargets(targets[r1], targets[r2]) } else { if (--repeatCount) i++ } } } } /** * Sets the current target * @param {TextActivityDocument.TextTarget} target - The currently selected target. Can be `null`. */ setCurrentTarget(target) { const targetCss = this.act.document.getFullStyle('target').css if (this.currentTarget &amp;&amp; this.currentTarget.$span) this.currentTarget.$span.css(targetCss) if (target &amp;&amp; target.$span) { target.$span.css({ color: targetCss['background-color'], 'background-color': targetCss.color }) } this.currentTarget = target } /** * Counts the number of targets that are at right position * @returns {number} */ countSolvedTargets() { return this.targets.reduce((n, target) =&gt; target.num === target.pos ? ++n : n, 0) } /** * Evaluates all the targets in this panel. This method is usually called from the `Check` button. * @override * @returns {boolean} - `true` when all targets are OK, `false` otherwise. */ evaluatePanel() { if (this.bc &amp;&amp; this.bc.active) this.bc.end() this.setCurrentTarget(null) let targetsOk = 0 this.targets.forEach(target =&gt; { const ok = target.num === target.pos target.targetStatus = ok ? 'SOLVED' : 'WITH_ERROR' if (ok) targetsOk++ target.checkColors() this.ps.reportNewAction(this.act, 'PLACE', target.text, target.pos, ok, targetsOk) }) if (targetsOk === this.targets.length) { this.finishActivity(true) return true } else { this.playEvent('finishedError') } return false } /** * Ordinary ending of the activity, usually called form `processEvent` * @override * @param {boolean} result - `true` if the activity was successfully completed, `false` otherwise */ finishActivity(result) { $('.JClicTextTarget').css('cursor', 'pointer') return super.finishActivity(result) } /** * Main handler used to process mouse, touch, keyboard and edit events. * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (!super.processEvent(event)) return false const target = event.textTarget let p = null if (this.bc &amp;&amp; this.playing &amp;&amp; !this.showingPrevScreen) { // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } switch (event.type) { case 'click': if (target &amp;&amp; target !== this.currentTarget) { if (this.currentTarget) { if (this.bc &amp;&amp; this.bc.active) this.bc.end() this.swapTargets(target, this.currentTarget) this.setCurrentTarget(null) if (!this.$checkButton) { // Check and notify action const cellsAtPlace = this.countSolvedTargets(), ok = target.pos === target.num this.ps.reportNewAction(this.act, 'PLACE', target.text, target.pos, ok, cellsAtPlace) // End activity or play event sound if (ok &amp;&amp; cellsAtPlace === this.targets.length) this.finishActivity(true) else this.playEvent(ok ? 'actionOk' : 'actionError') } } else { this.setCurrentTarget(target) this.bc.begin(p) this.playEvent('click') } } break case 'mousemove': this.bc.moveTo(p) break default: break } event.preventDefault() return true } } } // Properties and methods specific to OrderTextPanel Object.assign(OrderTextPanel.prototype, { /** * Currently selected text target * @name OrderTextPanel#currentTarget * @type {TextActivityDocument.TextTarget} */ currentTarget: null, /** * The box connector * @name OrderTextPanel#bc * @type {BoxConnector} */ bc: null, /** * List of mouse, touch and keyboard events intercepted by this panel * @override * @name OrderTextPanel#events * @type {string[]} */ events: ['click', 'mousemove'], }) /** * Panel class associated to this type of activity: {@link OrderTextPanel} * @type {class} */ OrderText.Panel = OrderTextPanel // Register class in Activity.prototype Activity.CLASSES['@text.Order'] = OrderText return OrderText }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"PlayerHistory.js.html":{"id":"PlayerHistory.js.html","title":"Source: PlayerHistory.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: PlayerHistory.js /** * File : PlayerHistory.js * Created : 28/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;./Utils&quot; ], function (Utils) { /** * * PlayerHistory uses an array to store the list of projects and activities done by the user. * This class allows {@link JClicPlayer} objects to rewind a sequence or to go back to a caller menu. * @exports PlayerHistory * @class */ class PlayerHistory { /** * PlayerHistory constructor * @param {JClicPlayer} player - The JClicPlayer associated to this history */ constructor(player) { this.player = player this.sequenceStack = [] } /** * * Counts the number of {@link PlayerHistory#HistoryElement HistoryElement} objects stored in * {@link PlayerHistory#sequenceStack sequenceStack} * @returns {number} */ storedElementsCount() { return this.sequenceStack.length } /** * * Removes all elements from {@link PlayerHistory#sequenceStack sequenceStack} */ clearHistory() { this.sequenceStack = [0] } /** * Adds the current project and activity to the top of the history stack. */ push() { if (this.player.project !== null &amp;&amp; this.player.project.path !== null) { const ase = this.player.project.activitySequence, act = ase.currentAct if (act &gt;= 0) { if (this.sequenceStack.length &gt; 0) { const last = this.sequenceStack[this.sequenceStack.length - 1] if (last.projectPath === this.player.project.path &amp;&amp; last.activity === act) return } this.sequenceStack.push( new this.HistoryElement( this.player.project.path, ase.getSequenceForElement(act), act, this.player.zip ? this.player.zip.fullZipPath : null)) } } } /** * Retrieves the {@link PlayerHistory#HistoryElement HistoryElement} placed at the top of the * stack (if any) and instructs {@link JClicPlayer} to load it. The obtained effect is to * &quot;rewind&quot; or &quot;go back&quot;, usually to an activity that acts as a menu. * @returns {boolean} */ pop() { // todo: check return value if (this.sequenceStack.length &gt; 0) { const e = this.sequenceStack.pop() if (e.projectPath === this.player.project.path &amp;&amp; Utils.isEquivalent(e.fullZipPath, this.player.zip ? this.player.zip.fullZipPath : null)) this.player.load(null, e.activity, null) else if (this.testMode &amp;&amp; e.projectPath !== null &amp;&amp; e.projectPath.length &gt; 0) Utils.log('info', `At this point, a jump to &quot;${e.projectPath}&quot; should be performed.`) else this.player.load(e.fullZipPath || e.projectPath, e.activity, null) } return true } /** * * Processes the provided {@link JumpInfo} object, instructing {@link JClicPlayer} to go back, * stop or jump to another point in the sequence. * @param {JumpInfo} ji - The object to be processed * @param {boolean} allowReturn - When this parameter is `true`, the jump instructed by `ji` (if any) * will be recorded, thus allowing to return to the current activity. * @returns {boolean} - `true` if the jump can be processed without errors, `false` otherwise. */ processJump(ji, allowReturn) { let result = false if (ji !== null &amp;&amp; this.player.project !== null) { switch (ji.action) { case 'STOP': break case 'RETURN': if (this.sequenceStack.length &gt; 0 || !this.player.options.returnAsExit) { result = this.pop() break } case 'EXIT': if (this.testMode) Utils.log('info', 'At this point, the program should exit.') else this.player.exit(ji.sequence) break case 'JUMP': if (!ji.sequence &amp;&amp; !ji.projectPath) { const ase = this.player.project.activitySequence.getElement(ji.actNum, true) if (ase !== null) { if (allowReturn) this.push() this.player.load(null, null, ase.activityName) result = true } } else { if (this.testMode &amp;&amp; ji.projectPath !== null &amp;&amp; ji.projectPath.length &gt; 0) { Utils.log('info', `At this point, a jump to &quot;${ji.projectPath}&quot; should be performed.`) } else { result = this.jumpToSequence(ji.sequence, ji.projectPath ? Utils.getPath(this.player.project.basePath, ji.projectPath) : null, allowReturn) } } break } } return result } /** * Performs a jump to the specified sequence * @param {string} sequence - The {@link ActivitySequence} tag to jump to. * @param {?string} path - When not `null`, indicates a new project file that must be loaded. * Otherwise, the `sequence` parameter refers to a tag on the {@link ActivitySequence} of the * current project. * @param {boolean} allowReturn - When this parameter is `true`, the jump will be recorded, thus * allowing to return to the current activity. */ jumpToSequence(sequence, path, allowReturn) { if (Utils.isNullOrUndef(sequence) &amp;&amp; Utils.isNullOrUndef(path)) return false if (Utils.isNullOrUndef(path)) path = this.player.project.path if (this.sequenceStack.length &gt; 0) { const e = this.sequenceStack[this.sequenceStack.length - 1] if (!Utils.isNullOrUndef(sequence) &amp;&amp; path === e.projectPath) { let same = sequence === e.sequence if (path === this.player.project.path) { const ase = this.player.project.activitySequence.getElement(e.activity, false) same = ase !== null &amp;&amp; sequence === ase.tag } if (same) return this.pop() } } if (allowReturn) this.push() if (path === this.player.project.path) this.player.load(null, sequence, null) else this.player.load(path, sequence, null) return true } } Object.assign(PlayerHistory.prototype, { /** * The {@link JClicPlayer} object to which this `PlayerHistory` belongs * @name PlayerHistory#player * @type {JClicPlayer} */ player: null, /** * This is the main member of the class. PlayerHistory puts and retrieves * on it information about the proects and activities done by the current user. * @name PlayerHistory#sequenceStack * @type {PlayerHistory#HistoryElement[]} */ sequenceStack: [], /** * When in test mode, jumps are only simulated. * @name PlayerHistory#testMode * @type {boolean} */ testMode: false, /** * Inner class used to store history elements. * @name PlayerHistory#HistoryElement * @class */ HistoryElement: class { /** * HistoryElement constructor * @param {string} projectPath - The full path of the project file * @param {?string} sequence - The nearest sequence tag * @param {number} activity - The index of the current activity on the project's {@link ActivitySequence} * @param {?type} fullZipPath - If `projectPath` resides in a {@link external:JSZip JSZip} object, * the full path of the zip file. */ constructor(projectPath, sequence, activity, fullZipPath) { this.projectPath = projectPath this.sequence = sequence this.activity = activity this.fullZipPath = fullZipPath } } }) return PlayerHistory }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"project_ProjectSettings.js.html":{"id":"project_ProjectSettings.js.html","title":"Source: project/ProjectSettings.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: project/ProjectSettings.js /** * File : project/ProjectSettings.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, window */ define([ &quot;jquery&quot;, &quot;../media/EventSounds&quot;, &quot;../Utils&quot; ], function ($, EventSounds, Utils) { /** * This class contains miscellaneous settings of JClic projects. * * In addition to the members of this class, there can be other properties in JClic project files * that are not currently loaded: * - iconFileName * - descriptors * - area * - level * - locale * - authors * - organizations * - revisions * @exports ProjectSettings * @class */ class ProjectSettings { /** * ProjectSettings constructor * @param {JClicProject} project - The project to which this settings belongs */ constructor(project) { this.project = project this.languages = [] this.locales = [] } /** * Reads the ProjectSettings values from a JQuery XML element * @param {external:jQuery} $xml - The XML element to parse */ setProperties($xml) { $xml.children().each((_n, child) =&gt; { switch (child.nodeName) { case 'title': this.title = child.textContent break case 'description': this.description = child.textContent break case 'language': this.languages.push(child.textContent) break case 'eventSounds': this.eventSounds = new EventSounds() this.eventSounds.setProperties($(child)) break case 'skin': this.skinFileName = $(child).attr('file') break } }) // Try to find an array of valid locales // See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl if (this.languages.length &gt; 0 &amp;&amp; window.Intl &amp;&amp; window.Intl.getCanonicalLocales) { this.locales = [] this.languages.forEach(lang =&gt; { // Languages usually are stored in the form: &quot;English (en)&quot; const matches = /\\(([a-z,A-Z,-]+)\\)/.exec(lang) if (matches &amp;&amp; matches.length &gt; 1) { try { const canonicals = window.Intl.getCanonicalLocales(matches[1]) if (canonicals) this.locales = this.locales.concat(canonicals) } catch (err) { Utils.log('error', `Invalid language: ${lang}`) } } }) } return this } } Object.assign(ProjectSettings.prototype, { /** * The JClicProject to which this ProjectSettings belongs * @name ProjectSettings#project * @type {JClicProject} */ project: null, /** * The project title * @name ProjectSettings#title * @type {string} */ title: 'Untitled', /** * Project's description. Can have multiple paragraphs, separated by `&lt;p&gt;` * @name ProjectSettings#description * @type {string} */ description: '', /** * JClic projects can use more than one language, so use a string array * @name ProjectSettings#languages * @type {string[]} */ languages: null, /** * Array of canonical locales, as defined in * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#Locale_identification_and_negotiation|Intl} * @name ProjectSettings#locales * @type {string[]} */ locales: null, /** * The name of an optional 'skin' (visual aspect) can be set for the whole project, or for each {@link Activity} * @name ProjectSettings#skinFileName * @type {string} */ skinFileName: null, /** * The main {@link EventSounds} object of the project * @name ProjectSettings#eventSounds * @type {EventSounds} */ eventSounds: new EventSounds(), }) return ProjectSettings }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"shapers_Rectangular.js.html":{"id":"shapers_Rectangular.js.html","title":"Source: shapers/Rectangular.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: shapers/Rectangular.js /** * File : shapers/Rectangular.js * Created : 19/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Shaper&quot;, &quot;../AWT&quot; ], function ($, Shaper, AWT) { /** * * This is the simplest {@link Shaper}. It divides the graphic object in a set of rectangular * shapes distributed in the specified number of rows and columns. * @exports Rectangular * @class * @extends Shaper */ class Rectangular extends Shaper { /** * Rectangular constructor * @param {number} nx - Number of columns * @param {number} ny - Number of rows */ constructor(nx, ny) { super(nx, ny) } /** * Builds the rectangular shapes based on the number of rows and columns * @override */ buildShapes() { const w = 1 / this.nCols, h = 1 / this.nRows for (let y = 0; y &lt; this.nRows; y++) { for (let x = 0; x &lt; this.nCols; x++) { this.shapeData[y * this.nCols + x] = new AWT.Rectangle(new AWT.Point(x * w, y * h), new AWT.Dimension(w, h)) } } this.initiated = true } } Object.assign(Rectangular.prototype, { /** * Overrides same flag in {@link Shaper#rectangularShapes} * @name Rectangular#rectangularShapes * @override * @type {boolean} */ rectangularShapes: true, }) // Register this class in the list of known shapers Shaper.CLASSES['@Rectangular'] = Rectangular return Rectangular }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_TCPReporter.js.html":{"id":"report_TCPReporter.js.html","title":"Source: report/TCPReporter.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/TCPReporter.js /** * File : report/TCPReporter.js * Created : 08/06/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, document */ define([ &quot;jquery&quot;, &quot;./Reporter&quot;, &quot;../Utils&quot; ], function ( $, Reporter, Utils) { /** * This special case of {@link Reporter} connects with an external service reporter providing * the {@link https://github.com/projectestac/jclic/wiki/JClic-Reports-developers-guide JClic Reports API}. * Connection parameters to the reports server (`path`, `service`, `userId`, `key`, `context`...) * are passed through the `options` element of {@link JClicPlayer} (acting as {@link PlayStation}). * @exports TCPReporter * @class * @extends Reporter */ class TCPReporter extends Reporter { /** * TCPReporter constructor * @param {PlayStation} ps - The {@link PlayStation} used to retrieve settings and localized messages */ constructor(ps) { super(ps) this.tasks = [] } /** * Gets a specific property from this reporting system * @override * @param {string} key - Requested property * @param {string}+ defaultValue - Default return value when requested property does not exist * @returns {string} */ getProperty(key, defaultValue) { return this.dbProperties !== null &amp;&amp; this.dbProperties.hasOwnProperty(key) ? this.dbProperties[key] : defaultValue } /** * Adds a new element to the list of report beans pending to be transmitted. * @param {ReportBean} bean */ addTask(bean) { if (this.processingTasks) { if (this.waitingTasks === null) this.waitingTasks = [bean] else this.waitingTasks.push(bean) } else this.tasks.push(bean) } /** * Transmits all report beans currently stored in `tasks` to the reports server * @returns {Promise} */ flushTasksPromise() { if (this.processingTasks || this.currentSessionId === null || this.tasks.length === 0 || this.serviceUrl === null) { // The task list cannot be processed now. Pass and wait until the next timer cycle: if (this.processingTasks) this.forceFlush = true return Promise.resolve(true) } else { // Set up the `processingTasks` flag to avoid re-entrant processing this.processingTasks = true const reportBean = new ReportBean('multiple') for (let i = 0; i &lt; this.tasks.length; i++) reportBean.appendData(this.tasks[i].$bean) Utils.log('debug', 'Reporting:', reportBean.$bean[0]) return new Promise((resolve, reject) =&gt; { this.transaction(reportBean.$bean) .done((_data, _textStatus, _jqXHR) =&gt; { // TODO: Check returned message for possible errors on the server side this.failCount = 0 // Clear waiting tasks if (this.waitingTasks) { this.tasks = this.waitingTasks this.waitingTasks = null } else { this.forceFlush = false this.tasks = [] } if (this.forceFlush &amp;&amp; this.tasks.length &gt; 0) { this.forceFlush = false this.processingTasks = false this.flushTasksPromise().then(() =&gt; { resolve(true) }) } else { this.forceFlush = false resolve(true) this.processingTasks = false } }) .fail((jqXHR, textStatus, errorThrown) =&gt; { if (++this.failCount &gt; this.maxFails) this.stopReporting().then() reject(`Error reporting results to ${this.serviceUrl} [${textStatus} ${errorThrown}]`) this.processingTasks = false }) }) } } /** * Initializes this report system with an optional set of parameters. * Returns a Promise, fulfilled when the reporter is fully initialized. * @override * @param {?Object} options - Initial settings passed to the reporting system * @returns {Promise} */ init(options) { if (typeof options === 'undefined' || options === null) options = this.ps.options super.init(options) this.initiated = false this.stopReporting() this.serverPath = options.path || this.DEFAULT_SERVER_PATH this.descriptionDetail = this.serverPath let serverService = options.service || this.DEFAULT_SERVER_SERVICE if (!Utils.startsWith(serverService, '/')) serverService = `/${serverService}` const serverProtocol = options.protocol || this.DEFAULT_SERVER_PROTOCOL this.serviceUrl = `${serverProtocol}://${this.serverPath}${serverService}` const bean = new ReportBean('get_properties') return new Promise((resolve, reject) =&gt; { this.transaction(bean.$bean) .done((data, _textStatus, _jqXHR) =&gt; { this.dbProperties = {} $(data).find('param').each((_n, param) =&gt; { const $param = $(param) this.dbProperties[$param.attr('name')] = $param.attr('value') }) this.promptUserId(false).then(userId =&gt; { this.userId = userId const tl = options.lap || this.getProperty('TIME_LAP', this.DEFAULT_TIMER_LAP) this.timerLap = Math.min(30, Math.max(1, parseInt(tl))) this.timer = window.setInterval(() =&gt; this.flushTasksPromise().then(), this.timerLap * 1000) // Warn before leaving the current page with unsaved data: this.beforeUnloadFunction = event =&gt; { if (this.serviceUrl !== null &amp;&amp; (this.tasks.length &gt; 0 || this.processingTasks)) { this.flushTasksPromise().then() const result = this.ps.getMsg('Please wait until the results of your activities are sent to the reports system') if (event) event.returnValue = result return result } } window.addEventListener('beforeunload', this.beforeUnloadFunction) this.initiated = true resolve(true) }).catch(msg =&gt; { this.stopReporting() reject(`Error getting the user ID: ${msg}`) }) }) .fail((jqXHR, textStatus, errorThrown) =&gt; { this.stopReporting() reject(`Error initializing reports service ${this.serviceUrl} [${textStatus} ${errorThrown}]`) }) }) } /** * This method should be invoked when a new session starts. * @override * @param {JClicProject} jcp - The {@link JClicProject} this session refers to. */ newSession(jcp) { super.newSession(jcp) if (this.serviceUrl &amp;&amp; this.userId !== null) { // Session ID will be obtained when reporting first activity this.currentSessionId = null } } /** * Creates a new session in the remote database and records its ID for future use * @param {boolean} forceNewSession - When `true`, a new session will always be created. * @returns {Promise} - A Promise reporter will be successfully resolved * only when `currentSessionId` have a valid value. */ createDBSession(forceNewSession) { if (this.currentSessionId !== null &amp;&amp; !forceNewSession) // A valid session is available, so just return it return Promise.resolve(this.currentSessionId) else // A new session must be created: return new Promise((resolve, reject) =&gt; { if (this.initiated &amp;&amp; this.userId !== null &amp;&amp; this.currentSession !== null) { this.flushTasksPromise().then(() =&gt; { this.currentSessionId = null const bean = new ReportBean('add session') bean.setParam('project', this.currentSession.projectName) bean.setParam('activities', Number(this.currentSession.reportableActs)) bean.setParam('time', Number(this.currentSession.started)) bean.setParam('code', this.currentSession.code) bean.setParam('user', this.userId) bean.setParam('key', this.sessionKey) bean.setParam('context', this.sessionContext) this.transaction(bean.$bean) .done((data, _textStatus, _jqXHR) =&gt; { this.currentSessionId = $(data).find('param[name=&quot;session&quot;]').attr('value') resolve(this.currentSessionId) }) .fail((jqXHR, textStatus, errorThrown) =&gt; { this.stopReporting() reject(`Error creating new reports session in ${this.serviceUrl} [${textStatus} ${errorThrown}]`) }) }) } else reject('Unable to start session in remote server!') }) } /** * Closes this reporting system * @override * @returns {Promise} - A promise to be fullfilled when all pending tasks are finished, or _null_ if not active. */ end() { this.reportActivity(true) return this.stopReporting().then(super.end()) } /** * Performs a transaction on the remote server * @param {external:jQuery} $xml - The XML element to be transmited, wrapped into a jQuery object * @returns {external:jqXHR} - The {@link external:jqXHR} obtained as a result of a call to `$.ajax`. * This object should be treated as a Promise or * as a JQuery {@link https://api.jquery.com/category/deferred-object|Deferred} object. */ transaction($xml) { return this.serviceUrl === null ? null : $.ajax({ method: 'POST', url: this.serviceUrl, data: '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;' + (new XMLSerializer()).serializeToString($xml.get(0)).replace('minactions', 'minActions').replace('reportactions', 'reportActions'), contentType: 'text/xml', dataType: 'xml' }) } /** * Gets the list of current groups or organizations registered on this reporting system. * @override * @returns {Promise} - When fulfilled, an array of group data is returned as a result */ getGroups() { return new Promise((resolve, reject) =&gt; { if (!this.userBased()) reject('This system does not manage users!') else { const bean = new ReportBean('get groups') this.transaction(bean.$bean) .done((data, _textStatus, _jqXHR) =&gt; { const currentGroups = [] $(data).find('group').each((_n, gr) =&gt; { const $group = $(gr) currentGroups.push({ id: $group.attr('id'), name: $group.attr('name') }) }) resolve(currentGroups) }) .fail((jqXHR, textStatus, errorThrown) =&gt; { reject(`Error retrieving groups list from ${this.serviceUrl} [${textStatus} ${errorThrown}]`) }) } }) } /** * Gets the list of users currently registered in the system, optionally filtered by * a specific group ID. * @override * @param {string}+ groupId - Optional group ID to be used as a filter criteria * @returns {Promise} - When fulfilled, an object with a collection of user data records * is returned */ getUsers(groupId) { return new Promise((resolve, reject) =&gt; { if (!this.userBased()) reject('This system does not manage users!') else { const bean = new ReportBean('get users') if (typeof groupId !== 'undefined' &amp;&amp; groupId !== null) bean.setParam('group', groupId) this.transaction(bean.$bean) .done((data, _textStatus, _jqXHR) =&gt; { const currentUsers = [] $(data).find('user').each((_n, usr) =&gt; { const $user = $(usr) const user = { id: $user.attr('id'), name: $user.attr('name') } if ($user.attr('pwd')) user.pwd = $user.attr('pwd') currentUsers.push(user) }) resolve(currentUsers) }) .fail((jqXHR, textStatus, errorThrown) =&gt; { reject(`Error retrieving users list from ${this.serviceUrl} [${textStatus} ${errorThrown}]`) }) } }) } /** * Gets extended data associated with a specific user. * @param {string} userId - The requested user ID * @returns {Promise} - When fulfilled, an object with user data is returned. */ getUserData(userId) { return new Promise((resolve, reject) =&gt; { if (!this.userBased()) reject('This system does not manage users!') else { const bean = new ReportBean('get user data') if (typeof userId !== 'undefined' &amp;&amp; userId !== null) bean.setParam('user', userId) else reject('Invalid user ID') this.transaction(bean.$bean) .done((data, _textStatus, _jqXHR) =&gt; { const $user = $(data).find('user') if ($user.length !== 1) { alert(this.ps.getMsg('Invalid user')) resolve('Invalid user ID') } else { const user = { id: $user.attr('id'), name: $user.attr('name') } if ($user.attr('pwd')) user.pwd = $user.attr('pwd') resolve(user) } }) .fail((jqXHR, textStatus, errorThrown) =&gt; { reject(`Error retrieving user data from ${this.serviceUrl} [${textStatus} ${errorThrown}]`) }) } }) } /** * Stops the reporting system, usually as a result of repeated errors or because the player * shuts down. * @returns {Promise} - A promise to be fullfilled when all pending tasks are finished. */ stopReporting() { let result = null if (this.timer &gt;= 0) { window.clearInterval(this.timer) this.timer = -1 } if (this.beforeUnloadFunction) { window.removeEventListener('beforeunload', this.beforeUnloadFunction) this.beforeUnloadFunction = null } if (this.initiated) { result = this.flushTasksPromise().then(() =&gt; { this.serviceUrl = null this.descriptionDetail = `${this.serverPath} (${this.ps.getMsg('not connected')})` this.initiated = false }) } return result || Promise.resolve(true) } /** * Prepares a {@link ReportBean} object with information related to the current * activity, and pushes it into the list of pending `tasks`, to be processed by the main `timer`. * @param {boolean} flushNow - When `true`, the activity data will be sent to server as soon as possible */ reportActivity(flushNow) { if (this.lastActivity) { if (!this.lastActivity.closed) this.lastActivity.closeActivity() const actCount = this.actCount++, act = this.lastActivity this.createDBSession(false).then(() =&gt; { const bean = new ReportBean('add activity') bean.setParam('session', this.currentSessionId) bean.setParam('num', actCount) bean.appendData(act.$getXML()) this.addTask(bean) if (flushNow) this.flushTasksPromise().then() }) } if (this.currentSession !== null &amp;&amp; this.currentSession.currentSequence !== null &amp;&amp; this.currentSession.currentSequence.currentActivity !== this.lastActivity) { this.lastActivity = this.currentSession.currentSequence.currentActivity } else this.lastActivity = null } /** * This method should be invoked when the user starts a new activity * @override * @param {Activity} act - The {@link Activity} reporter has just started */ newActivity(act) { super.newActivity(act) this.reportActivity(false) } /** * This method should be called when the current activity finishes. Data about user's final results * on the activity will then be saved. * @override * @param {number} score - The final score, usually in a 0-100 scale. * @param {number} numActions - The total number of actions done by the user to solve the activity * @param {boolean} solved - `true` if the activity was finally solved, `false` otherwise. */ endActivity(score, numActions, solved) { super.endActivity(score, numActions, solved) this.reportActivity(true) } } Object.assign(TCPReporter.prototype, { /** * Description of this reporting system * @name TCPReporter#descriptionKey * @override * @type {string} */ descriptionKey: 'Reporting to remote server', /** * Additional info to display after the reporter's `description` * @name TCPReporter#descriptionDetail * @override * @type {string} */ descriptionDetail: '(not connected)', /** * Main path of the reports server (without protocol nor service) * @name TCPReporter#serverPath * @type {string} */ serverPath: '', /** * Function to be called by the browser before leaving the current page * @name TCPReporter#beforeUnloadFunction * @type {function} */ beforeUnloadFunction: null, /** * Identifier of the current session, provided by the server * @name TCPReporter#currentSessionId * @type {string} */ currentSessionId: '', /** * Last activity reported * @name TCPReporter#lastActivity * @type {ActivityReg} */ lastActivity: null, /** * Number of activities processed * @name TCPReporter#actCount * @type {number} */ actCount: 0, /** * Service URL of the JClic Reports server * @name TCPReporter#serviceUrl * @type {string} */ serviceUrl: null, /** * Object used to store specific properties of the connected reports system * @name TCPReporter#dbProperties * @type {object} */ dbProperties: null, /** * List of {@link ReportBean} objects pending to be processed * @name TCPReporter#tasks * @type {ReportBean[]} */ tasks: null, /** * Waiting list of tasks, to be used while `tasks` is being processed * @name TCPReporter#waitingTasks * @type {ReportBean[]} */ waitingTasks: null, /** * Flag used to indicate if `transaction` is currently running * @name TCPReporter#processingTasks * @type {boolean} */ processingTasks: false, /** * Force processing of pending tasks as soon as possible * @name TCPReporter#forceFlush * @type {boolean} */ forceFlush: false, /** * Identifier of the background function obtained with a call to `window.setInterval` * @name TCPReporter#timer * @type {number} */ timer: -1, /** * Time between calls to the background function, in seconds * @name TCPReporter#timerLap * @type {number} */ timerLap: 5, /** * Counter of unsuccessful connection attempts with the report server * @name TCPReporter#failCount * @type {number} */ failCount: 0, /** * Maximum number of failed attempts allowed before disconnecting * @name TCPReporter#maxFails * @type {number} */ maxFails: 5, /** * Default path of JClic Reports Server * @name TCPReporter#DEFAULT_SERVER_PATH * @type {string} */ DEFAULT_SERVER_PATH: 'localhost:9000', /** * Default name for the reports service * @name TCPReporter#DEFAULT_SERVER_SERVICE * @type {string} */ DEFAULT_SERVER_SERVICE: '/JClicReportService', /** * Default server protocol * Use always 'https' except when in 'http' and protocol not set in options * @name TCPReporter#DEFAULT_SERVER_PROTOCOL * @type {string} */ DEFAULT_SERVER_PROTOCOL: (document &amp;&amp; document.location &amp;&amp; document.location.protocol === 'http:') ? 'http' : 'https', /** * Default lap between calls to `flushTasks`, in seconds * @name TCPReporter#DEFAULT_TIMER_LAP * @type {number} */ DEFAULT_TIMER_LAP: 20, }) /** * This inner class encapsulates a chunk of information in XML format, ready to be * transmitted to the remote reports server. * @class */ class ReportBean { /** * ReportBean constructor * @param id {string} - The main identifier of this ReportBean. Current valid values are: * `get property`, `get_properties`, `add session`, `add activity`, `get groups`, `get users`, * `get user data`, `get group data`, `new group`, `new user` and `multiple`. * @param $data {external:jQuery}+ - Optional XML data to be added to this bean */ constructor(id, $data) { this.$bean = $('&lt;bean/&gt;').attr({ id: id }) if ($data) this.appendData($data) } /** * Adds an XML element to the bean * @param {external:jQuery} $data - The XML element to be added to this bean */ appendData($data) { if ($data) { this.$bean.append($data) } } /** * Adds an XML element of type `param` to this ReportBean * @param {string} name - The key name of the parameter * @param {string|number|boolean} value - The value of the parameter */ setParam(name, value) { if (typeof value !== 'undefined' &amp;&amp; value !== null) this.appendData($('&lt;param/&gt;').attr({ name: name, value: value })) } } Object.assign(ReportBean.prototype, { /** * The main jQuery XML object managed by this ReportBean * @name ReportBean#$bean * @type {external:jQuery} */ $bean: null, }) TCPReporter.ReportBean = ReportBean // Register class in Reporter.CLASSES Reporter.CLASSES['TCPReporter'] = TCPReporter return TCPReporter }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_Reporter.js.html":{"id":"report_Reporter.js.html","title":"Source: report/Reporter.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/Reporter.js /** * File : report/Reporter.js * Created : 17/05/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./SessionReg&quot;, &quot;./EncryptMin&quot;, &quot;./SCORM&quot;, &quot;../Utils&quot; ], function ($, SessionReg, Encryption, Scorm, Utils) { /** * This class implements the basic operations related with the processing of times and scores * done by users playing JClic activities. These operations include: identification of users, * compilation of data coming from the activities, storage of this data for later use, and * presentation of summarized results. * @exports Reporter * @class */ class Reporter { /** * Reporter constructor * @param {PlayStation} ps - The {@link PlayStation} used to retrieve localized messages */ constructor(ps) { this.ps = ps this.sessions = [] this.started = new Date() this.initiated = false this.info = new ReporterInfo(this) } /** * Creates a new Reporter of the requested class * The resulting object must be prepared to operate with a call to its `init` method. * @param {string} className - Class name of the requested reporter. When `null`, a basic Reporter is created. * @param {PlayStation} ps - The {@link PlayStation} used to retrieve localized messages * @returns {Reporter} */ static getReporter(className, ps) { let result = null if (className === null) { className = 'Reporter' if (ps.options.hasOwnProperty('reporter')) className = ps.options.reporter } if (Reporter.CLASSES.hasOwnProperty(className)) result = new Reporter.CLASSES[className](ps) else Utils.log('error', 'Unknown reporter class: %s', className) return result } /** * Returns the `info` element associated to this Reporter. * @returns {ReporterInfo} */ getInfo() { return this.info.recalc() } /** * Gets a specific property from this reporting system * @param {string} key - Requested property * @param {string}+ defaultValue - Default return value when requested property does not exist * @returns {string} */ getProperty(key, defaultValue) { return defaultValue } /** * Gets a specific boolean property from this reporting system * @param {string} key - Requested property * @param {boolean}+ defaultValue - Default return when requested property does not exist * @returns {boolean} */ getBooleanProperty(key, defaultValue) { const s = this.getProperty(key, defaultValue === true ? 'true' : 'false') return key === null ? defaultValue : s === 'true' ? true : false } /** * Gets the list of groups or organizations currently registered in the system. This * method should be implemented by classes derived of `Reporter`. * @returns {Promise} - When fulfilled, an array of group data is returned as a result */ getGroups() { return Promise.reject('No groups defined!') } /** * Gets the list of users currently registered in the system, optionally filtered by * a specific group ID. This method should be implemented by classes derived of `Reporter`. * @param {string}+ groupId - Optional group ID to be used as a filter criteria * @returns {Promise} - When fulfilled, an object with a collection of user data records * is returned */ getUsers(groupId) { return Promise.reject('No users defined in ' + groupId) } /** * Gets extended data associated with a specific user. This is a method intended to be * implemented in subclasses. * @param {string} _userId - The requested user ID * @returns {Promise} - When fulfilled, an object with user data is returned. */ getUserData(_userId) { return Promise.reject('Unknown user!') } /** * Gets extended data associated with a specific group or organization. This * is a method intended to be implemented in subclasses. * @param {string} _groupId - The requested group ID * @returns {Promise} - When fulfilled, an object with group data is returned. */ getGroupData(_groupId) { return Promise.reject('Unknown group!') } /** * Checks if this reporting system manages its own database of users and groups. Defaults to `false` * @returns {boolean} */ userBased() { if (this.bUserBased === null) this.bUserBased = this.getBooleanProperty('USER_TABLES', false) return this.bUserBased } /** * Allows the current user to create a new group, and asks his name * @returns {Promise} - When fulfilled, the chosen name for the new group is returned. */ promptForNewGroup() { // TODO: Implement promptForNewGroup return Promise.reject('Remote creation of groups not yet implemented!') } /** * Allows the current user to create a new user ID, and asks his ID and password * @returns {Promise} - When fulfilled, an object with the new user ID and password * is returned. */ promptForNewUser() { // TODO: Implement promptForNewUser return Promise.reject('Remote creation of users not yet implemented!') } /** * Allows the current user to select its group or organization from the current groups list * @returns {Promise} */ promptGroupId() { return new Promise((resolve, reject) =&gt; { if (!this.userBased()) reject('This system does not manage users!') else { this.getGroups().then((groupList) =&gt; { // Creation of new groups not yet implemented! if (!groupList || groupList.length &lt; 1) reject('No groups defined!') else { let sel = 0 const $groupSelect = $('&lt;select/&gt;').attr({ size: Math.max(3, Math.min(15, groupList.length)) }) groupList.forEach(g =&gt; $groupSelect.append($('&lt;option/&gt;').attr({ value: g.id }).text(g.name))) $groupSelect.change(ev =&gt; { sel = ev.target.selectedIndex }) this.ps.skin.showDlg(true, { main: [ $('&lt;h2/&gt;', { class: 'subtitle' }).html(this.ps.getMsg('Select group:')), $groupSelect], bottom: [ this.ps.skin.$okDlgBtn, this.ps.skin.$cancelDlgBtn] }).then(() =&gt; { resolve(groupList[sel].id) }).catch(reject) } }).catch(reject) } }) } /** * Asks for a valid user ID fulfilling the promise if found, rejecting it otherwise * @param {boolean}+ forcePrompt - Prompt also if `userId` is already defined (default is `false`) * @returns {Promise} */ promptUserId(forcePrompt) { return new Promise((resolve, reject) =&gt; { if (this.userId !== null &amp;&amp; !forcePrompt) resolve(this.userId) else if (!this.userBased()) reject('This system does not manage users!') else { const $pwdInput = $('&lt;input/&gt;', { type: 'password', size: 8, maxlength: 64 }) if (this.getBooleanProperty('SHOW_USER_LIST', true)) { this.promptGroupId().then(groupId =&gt; { this.getUsers(groupId).then(userList =&gt; { // Creation of new users not yet implemented // let userCreationAllowed = this.getBooleanProperty('ALLOW_CREATE_USERS', false) if (!userList || userList.length &lt; 1) reject('Group ' + groupId + ' has no users!') else { let sel = -1 const $userSelect = $('&lt;select/&gt;').attr({ size: Math.max(3, Math.min(15, userList.length)) }) userList.forEach(u =&gt; $userSelect.append($('&lt;option/&gt;').attr({ value: u.id }).text(u.name))) $userSelect.change(ev =&gt; { sel = ev.target.selectedIndex }) this.ps.skin.showDlg(true, { main: [ $('&lt;h2/&gt;', { class: 'subtitle' }).html(this.ps.getMsg('Select user:')), $userSelect, $('&lt;h2/&gt;', { class: 'subtitle' }).html(this.ps.getMsg('Password:')).append($pwdInput)], bottom: [ this.ps.skin.$okDlgBtn, this.ps.skin.$cancelDlgBtn] }).then(() =&gt; { if (sel &gt;= 0) { if (userList[sel].pwd &amp;&amp; Encryption.Decrypt(userList[sel].pwd) !== $pwdInput.val()) { window.alert(this.ps.getMsg('Incorrect password')) reject('Incorrect password') } else { this.userId = userList[sel].id resolve(this.userId) } } else reject('No user has been selected') }).catch(reject) } }).catch(reject) }).catch(reject) } else { const $userInput = $('&lt;input/&gt;', { type: 'text', size: 8, maxlength: 64 }) this.ps.skin.showDlg(true, { main: [ $('&lt;div/&gt;').css({ 'text-align': 'right' }) .append($('&lt;h2/&gt;', { class: 'subtitle' }).html(this.ps.getMsg('User:')) .append($userInput)) .append($('&lt;h2/&gt;', { class: 'subtitle' }).html(this.ps.getMsg('Password:')) .append($pwdInput))], bottom: [ this.ps.skin.$okDlgBtn, this.ps.skin.$cancelDlgBtn] }).then(() =&gt; { this.getUserData($userInput.val()).then(user =&gt; { if (user.pwd &amp;&amp; Encryption.Decrypt(user.pwd) !== $pwdInput.val()) { window.alert(this.ps.getMsg('Incorrect password')) reject('Incorrect password') } else { this.userId = user.id resolve(this.userId) } }).catch(reject) }).catch(reject) } } }) } /** * Builds a complex object containing all the results reported while playing activities * @returns {Object} - The current results */ getData() { // Force the re-calculation of all scores this.info.recalc() const result = { started: this.started.toISOString(), descriptionKey: this.descriptionKey, descriptionDetail: this.descriptionDetail, projects: this.info.numSessions, sequences: this.info.numSequences, activitiesDone: this.info.nActivities, playedOnce: this.info.nActPlayed, reportable: this.info.reportableActs, ratioPlayed: Math.round(this.info.ratioPlayed * 100), activitiesSolved: this.info.nActSolved, ratioSolved: Math.round(this.info.ratioSolved * 100), actScore: this.info.nActScore, partialScore: Math.round(this.info.partialScore * 100), globalScore: Math.round(this.info.globalScore * 100), time: Math.round(this.info.tTime / 10) / 100, actions: this.info.nActions, sessions: [] } if (this.userId) result.userId = this.userId else if (this.SCORM) result.user = this.SCORM.studentName + (this.SCORM.studentId === '' ? '' : ` (${this.SCORM.studentId})`) this.sessions.forEach(sr =&gt; { if (sr.getInfo().numSequences &gt; 0) result.sessions.push(sr.getData(false, false)) }) return result } /** * Initializes this report system with an optional set of parameters. * Returns a Promise, fulfilled when the reporter is fully initialized. * @param {?Object} options - Initial settings passed to the reporting system * @returns {Promise} */ init(options) { if (!options) options = this.ps.options this.userId = Utils.getVal(options.user) this.sessionKey = Utils.getVal(options.key) this.sessionContext = Utils.getVal(options.context) this.groupCodeFilter = Utils.getVal(options.groupCodeFilter) this.userCodeFilter = Utils.getVal(options.userCodeFilter) if (options.SCORM !== false) { this.SCORM = Scorm.getSCORM(this) if (this.SCORM !== null &amp;&amp; this.descriptionKey === Reporter.prototype.descriptionKey) this.descriptionKey = this.SCORM.getScormType() } this.initiated = true Utils.log('debug', 'Basic Reporter initialized') return Promise.resolve(true) } /** * Closes this reporting system * @returns {Promise} - A Promise object to be fullfilled when all pending tasks are finished. */ end() { Utils.log('debug', 'Basic Reporter ending') this.endSession() return Promise.resolve(true) } /** * Finalizes the current sequence */ endSequence() { if (this.currentSession) { this.currentSession.endSequence() this.info.valid = false } } /** * Finalizes the current session */ endSession() { this.endSequence() this.currentSession = null } /** * Creates a new group (method to be implemented in subclasses) * @param {GroupData} _gd */ newGroup(_gd) { throw &quot;No database!&quot; } /** * Creates a new user (method to be implemented in subclasses) * @param {UserData} _ud */ newUser(_ud) { throw &quot;No database!&quot; } /** * This method should be invoked when a new session starts. * @param {JClicProject} jcp - The {@link JClicProject} this session refers to. */ newSession(jcp) { this.endSession() this.currentSession = new SessionReg(jcp) this.sessions.push(this.currentSession) this.info.valid = false } /** * This method should be invoked when a new sequence starts * @param {ActivitySequenceElement} ase - The {@link ActivitySequenceElement} referenced by this sequence. */ newSequence(ase) { if (this.currentSession) { this.currentSession.newSequence(ase) this.info.valid = false if (this.SCORM) this.SCORM.commitInfo() } } /** * This method should be invoked when the user starts a new activity * @param {Activity} act - The {@link Activity} reporter has just started */ newActivity(act) { if (this.currentSession) { this.currentSession.newActivity(act) this.info.valid = false } } /** * This method should be called when the current activity finishes. Data about user's final results * on the activity will then be saved. * @param {number} score - The final score, usually in a 0-100 scale. * @param {number} numActions - The total number of actions done by the user to solve the activity * @param {boolean} solved - `true` if the activity was finally solved, `false` otherwise. */ endActivity(score, numActions, solved) { if (this.currentSession) { this.currentSession.endActivity(score, numActions, solved) this.info.valid = false } } /** * Reports a new action done by the user while playing the current activity * @param {string} type - Type of action (`click`, `write`, `move`, `select`...) * @param {string}+ source - Description of the object on which the action is done. * @param {string}+ dest - Description of the object reporter acts as a target of the action (usually in pairings) * @param {boolean} ok - `true` if the action was OK, `false`, `null` or `undefined` otherwhise */ newAction(type, source, dest, ok) { if (this.currentSession) { this.currentSession.newAction(type, source, dest, ok) this.info.valid = false } } /** * Gets information about the current sequence * @returns {SequenceReg.Info} */ getCurrentSequenceInfo() { return this.currentSession === null ? null : this.currentSession.getCurrentSequenceInfo() } /** * Gets the name of the current sequence * @returns {string} */ getCurrentSequenceTag() { return this.currentSession === null ? null : this.currentSession.getCurrentSequenceTag() } } Object.assign(Reporter.prototype, { /** * The {@link ReporterInfo} used to calculate and store global results. * @name Reporter#info * @type {ReporterInfo} */ info: null, /** * The {@link PlayStation} used to retrieve messages * @name Reporter#ps * @type {PlayStation} */ ps: null, /** * A valid SCORM bridge, or `null` if no SCORM API detected. * @name Reporter#SCORM */ SCORM: null, /** * User ID currently associated with this reporting system * @name Reporter#userId * @type {string} */ userId: null, /** * Optional key to be added as a field in session records * @name Reporter#sessionKey * @type {string} */ sessionKey: null, /** * A second optional key to be reported as a field in session records * @name Reporter#sessionContext * @type {string} */ sessionContext: null, /** * Optional filter key to be used in the group selection dialog * @name Reporter#groupCodeFilter * @type {string} */ groupCodeFilter: null, /** * Another optional filter key to be used in the user selection dialog * @name Reporter#userCodeFilter * @type {string} */ userCodeFilter: null, /** * Description of this reporting system * @name Reporter#descriptionKey * @type {string} */ descriptionKey: 'Results are not currently being saved', /** * Additional info to display after the reporter's `description` * @name Reporter#descriptionDetail * @type {string} */ descriptionDetail: '', /** * Starting date and time of this report * @name Reporter#started * @type {Date} */ started: null, /** * Array of sessions included in this report * @name Reporter#sessions * @type {SessionReg[]} */ sessions: [], /** * Currently active session * @name Reporter#currentSession * @type {SessionReg} */ currentSession: null, /** * `true` if the system was successfully initiated, `false` otherwise * @name Reporter#initiated * @type {boolean} */ initiated: false, /** * `true` if the system is connected to a database with user's data. * When `false`, a generic ID will be used. * @name Reporter#bUserBased * @type {boolean} */ bUserBased: null, /** * Maximum number of incorrect UserID attempts * @name Reporter#MAX_USERID_PROMPT_ATTEMPTS * @type {number} */ MAX_USERID_PROMPT_ATTEMPTS: 3, }) /** * This object stores the global results of a {@link Reporter} * @class */ class ReporterInfo { /** * ReporterInfo constructor * @param {Reporter} rep - The {@link Reporter} associated tho this `Info` object. */ constructor(rep) { this.rep = rep } /** * Clears all data associated with this ReporterInfo */ clear() { this.numSessions = this.numSequences = this.nActivities = this.reportableActs = this.nActSolved = this.nActPlayed = this.nActScore = this.nActions = this.ratioSolved = this.ratioPlayed = this.tScore = this.tTime = this.partialScore = this.globalScore = 0 this.valid = false } /** * Computes the value of all global variables based on the data stored in `sessions` * @returns {ReporterInfo} - This &quot;info&quot; object */ recalc() { if (!this.valid) { this.clear() this.rep.sessions.forEach(ses =&gt; { const inf = ses.getInfo() this.reportableActs += inf.sReg.reportableActs if (inf.numSequences &gt; 0) { this.numSessions++ this.numSequences += inf.numSequences if (inf.nActivities &gt; 0) { this.nActivities += inf.nActivities this.nActPlayed += inf.sReg.actNames.length this.nActSolved += inf.nActSolved this.nActions += inf.nActions if (inf.nActScore &gt; 0) { this.tScore += inf.tScore * inf.nActScore this.nActScore += inf.nActScore } this.tTime += inf.tTime } } }) if (this.nActivities &gt; 0) { this.ratioSolved = this.nActSolved / this.nActivities if (this.reportableActs &gt; 0) this.ratioPlayed = this.nActPlayed / this.reportableActs this.partialScore = this.tScore / (this.nActScore * 100) this.globalScore = this.partialScore * this.ratioPlayed } this.valid = true } return this } } Object.assign(ReporterInfo.prototype, { /** * The Reporter linked to this Info object * @name ReporterInfo#rep * @type {Reporter} */ rep: null, /** * When `false`, data must be recalculated * @name ReporterInfo#valid * @type {boolean} */ valid: false, /** * Number of sessions registered * @name ReporterInfo#numSessions * @type {number} */ numSessions: 0, /** * Number of sequences played * @name ReporterInfo#numSequences * @type {number} */ numSequences: 0, /** * Number of activities played * @name ReporterInfo#nActivities * @type {number} */ nActivities: 0, /** * Number of activities in existing in the played projects suitable to be reported * @name ReporterInfo#reportableActs * @type {number} */ reportableActs: 0, /** * Number of activities solved * @name ReporterInfo#nActSolved * @type {number} */ nActSolved: 0, /** * Number of different activities played * @name ReporterInfo#nActPlayed * @type {number} */ nActPlayed: 0, /** * Global score obtained in all sessions registered by this reporter * @name ReporterInfo#nActScore * @type {number} */ nActScore: 0, /** * Number of actions done by the user while in this working session * @name ReporterInfo#nActions * @type {number} */ nActions: 0, /** * Percentage of solved activities * @name ReporterInfo#ratioSolved * @type {number} */ ratioSolved: 0, /** * Percentage of reportable activities played * @name ReporterInfo#ratioPlayed * @type {number} */ ratioPlayed: 0, /** * Sum of the scores of all the activities played * @name ReporterInfo#tScore * @type {number} */ tScore: 0, /** * Global score obtained * @name ReporterInfo#partialScore * @type {number} */ partialScore: 0, /** * Sum of the playing time reported by each activity (not always equals to the sum of all session's time) * @name ReporterInfo#tTime * @type {number} */ tTime: 0, /** * Final score based on the percent of reportable activities played. If the user plays all the * activities, this result equals to `partialScore`. * @name ReporterInfo#globalScore * @type {number} */ globalScore: 0, }) Reporter.Info = ReporterInfo /** * Static list of classes derived from Reporter. It should be filled by Reporter classes at declaration time. * @type {Object} */ Reporter.CLASSES = { 'Reporter': Reporter } return Reporter }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_SCORM.js.html":{"id":"report_SCORM.js.html","title":"Source: report/SCORM.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/SCORM.js /** * File : report/SCORM.js * Created : 18/07/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot; ], function ($, Utils) { /** * This class detects if JClic.js is running in an SCORM environment and, if true, * exposes the methods needed to notify the results of activities. * Both SCORM 1.2 and 2004 are supported. * @exports SCORM * @class */ class SCORM { /** * SCORM constructor * @param {object} API - The global SCORM API object * @param {Reporter} reporter - The {@link Reporter} associated to this SCORM object */ constructor(API, reporter) { this.API = API // Check if 'API' has a function named 'Initialized' if (typeof API.Initialize === 'function') this.is2004 = true else { // SCORM 1.2 this.prefix = 'LMS' this.core = 'cmi.core.' } this.reporter = reporter } /** * Recursive function used to find the SCORM &quot;API&quot; object * @param {object} win - The 'window' object to scan for global SCORM API objects * @param {number} tries - Recursive attempts currently achieved * @returns {object} - The global SCORM API object, or `null` if not found */ static scanForAPI(win, tries) { if (win.API_1484_11 &amp;&amp; win.API_1184_11.Initialize &amp;&amp; win.API_1184_11.SetValue &amp;&amp; win.API_1184_11.Commit) return win.API_1184_11 else if (win.API &amp;&amp; win.API.LMSInitialize &amp;&amp; win.API.LMSSetValue &amp;&amp; win.API.LMSCommit) return win.API else if (win.parent &amp;&amp; win.parent !== win &amp;&amp; tries++ &lt; SCORM.DISCOVER_MAX_TRIES) return SCORM.scanForAPI(win.parent, tries) else return null } /** * Checks for the presence of a SCORM API on the current browser session. * @returns {SCORM} - A valid SCORM object, or `null` if no SCORM API was found. * @param {Reporter} reporter - The {@link Reporter} linked to the requested SCORM object */ static getSCORM(reporter) { let result = null try { let api = SCORM.scanForAPI(window, 0) if (api === null &amp;&amp; window.opener) api = SCORM.scanForAPI(window.opener, 0) if (api) { result = new SCORM(api, reporter) if (!result.initialize()) result = null } } catch (ex) { result = null Utils.log('warn', 'Unable to use SCORM: %s', ex.toString()) } return result } /** * Initializes communication with the SCORM API * @returns {Boolean} */ initialize() { let result = false try { result = this.API[this.prefix + 'Initialize']('') if (result) { this.studentId = this.getValue(this.core + (this.is2004 ? 'learner_id' : 'student_id')) this.studentName = this.getValue(this.core + (this.is2004 ? 'learner_name' : 'student_name')) this.setValue(this.core + 'score.min', 0) this.setValue(this.core + 'score.max', 100) $(window).on('unload', () =&gt; { this.commitInfo() this.terminate() this.API = null }) } Utils.log('debug', 'SCORM initialized') } catch (ex) { Utils.log('error', `Error initializing SCORM API: ${ex.message}`) } return result } /** * Terminates communication with the SCORM API * @returns {Boolean} */ terminate() { let result = false try { result = this.API[this.is2004 ? 'Terminate' : 'LMSFinish']('') } catch (ex) { Utils.log('error', `Error terminating SCORM API: ${ex.message}`) } return result } /** * Commits the current information to the SCORM API */ commitInfo() { const info = this.reporter.getInfo(), score = Math.round(info.globalScore * 100), time = this.getTimeExpression(info.tTime) this.setValue(this.core + 'score.raw', score) this.setValue(this.core + 'session_time', time) this.commit() Utils.log('debug', `SCORM results reported: ${score} (${time})`) } /** * Commits current pending data to the SCORM API * @returns {Boolean} */ commit() { let result = false try { result = this.API[this.prefix + 'Commit']('') } catch (ex) { Utils.log('error', 'Error commiting data to the SCORM API: ${ex.message}') } return result } /** * Sends a specific value to the SCORM API * @param {tring} key - A SCORM valid key * @param {string|number} value - The value associated with this key * @returns {string} */ setValue(key, value) { let result = false try { result = this.API[this.prefix + 'SetValue'](key, value) } catch (ex) { Utils.log('error', `Error setting value &quot;${value}&quot; to &quot;${key}&quot; in SCORM API: ${ex.message}`) } return result } /** * Gets a specific value from the SCORM API * @param {tring} key - A SCORM valid key * @returns {string} - The value associated with the provided key, or `null` if not found */ getValue(key) { let result = false try { result = this.API[this.prefix + 'GetValue'](key) } catch (ex) { Utils.log('error', `Error retrieving &quot;${key}&quot; from SCORM API: ${ex.message}`) } return result } /** * Gets a string expression of the given time (in milliseconds) suitable for a SCORM transaction. * @see {@link http://www.ostyn.com/standards/scorm/samples/ISOTimeForSCORM.htm} * @param {type} millis - The amount of time, in milliseconds * @returns {String} - An ISO8601 valid expression */ getTimeExpression(millis) { const d = new Date(millis), h = d.getUTCHours(), m = d.getUTCMinutes(), s = d.getUTCSeconds() return this.is2004 ? `PT${h}H${m}M${s}S` : `${('0000' + h).slice(-4)}:${('00' + m).slice(-2)}:${('00' + s).slice(-2)}` } /** * Gets the SCORM type of this SCORM object * @returns {string} */ getScormType() { return `SCORM ${this.is2004 ? '2004' : '1.2'}` } } Object.assign(SCORM.prototype, { /** * True when the API is of type SCORM 2004, false for SCORM 1.2 * @name SCORM#is2004 * @type {boolean} */ is2004: false, /** * The Reporter associated to this SCORM object * @name SCORM#reporter * @type {Reporter} */ reporter: null, /** * Prefix to be used in SCORM function names. Should be 'LMS' for SCORM 1.2 * @name SCORM#prefix * @type {string} */ prefix: '', /** * Prefix used in core SCORM keys. Should be 'cmi.core.' for 1.2 and 'cmi.' for 2004 * @name SCORM#core * @type {string} */ core: 'cmi.', /** * SCORM API object used to communicate with the LMS * @name SCORM#API * @type {object} */ API: null, /** * The student ID retrieved from the SCORM API * @name SCORM#studentId * @type {string} */ studentId: '', /** * The student name retrieved from the SCORM API * @name SCORM#studentName * @type {string} */ studentName: '', }) /** * Maximum recursive attempts allowed to find the global SCORM API object * @type {number} */ SCORM.DISCOVER_MAX_TRIES = 50 return SCORM }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_SequenceReg.js.html":{"id":"report_SequenceReg.js.html","title":"Source: report/SequenceReg.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/SequenceReg.js /** * File : report/SequenceReg.js * Created : 17/05/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./ActivityReg&quot; ], function ($, ActivityReg) { /** * This class stores the results of the activities related to an {@link ActivitySequenceElement}. * It's main component is an array of {@link ActivityReg} elements. * @exports SequenceReg * @class */ class SequenceReg { /** * SequenceReg constructor * @param {ActivitySequenceElement} ase - The {@link ActivitySequenceElement} related to this sequence. */ constructor(ase) { this.name = ase.tag this.description = ase.description this.activities = [] this.currentActivity = null this.totalTime = 0 this.closed = false this.info = new SequenceRegInfo(this) } /** * Builds a complex object with data about the results of the activities done in this sequence * @returns {Object} - The sequence results */ getData() { const result = { sequence: this.name, activities: [] } this.activities.forEach(act =&gt; result.activities.push(act.getData())) return result } /** * Returns the `info` element associated to this SequenceReg. * @returns {SequenceRegInfo} */ getInfo() { return this.info.recalc() } /** * This method should be called when the current working session finishes. */ endSequence() { if (this.currentActivity &amp;&amp; this.activities.length &gt; 0) { if (!this.currentActivity.closed) this.currentActivity.closeActivity() this.totalTime = this.currentActivity.startTime + this.currentActivity.totalTime - this.activities[0].startTime this.info.valid = false } } /** * This method should be invoked when the user starts a new activity * @param {Activity} act - The {@link Activity} that has just started */ newActivity(act) { if (!this.closed) { this.currentActivity = new ActivityReg(act) this.activities.push(this.currentActivity) this.info.valid = false } } /** * This method should be called when the current activity finishes. Data about user's final results * on the activity will then be saved. * @param {number} score - The final score, usually in a 0-100 scale. * @param {number} numActions - The total number of actions done by the user to solve the activity * @param {boolean} solved - `true` if the activity was finally solved, `false` otherwise. */ endActivity(score, numActions, solved) { if (this.currentActivity) { this.currentActivity.endActivity(score, numActions, solved) this.info.valid = false } } /** * Reports a new action done by the user while playing the current activity * @param {string} type - Type of action (`click`, `write`, `move`, `select`...) * @param {string}+ source - Description of the object on which the action is done. * @param {string}+ dest - Description of the object that acts as a target of the action (used in pairings) * @param {boolean} ok - `true` if the action was OK, `false`, `null` or `undefined` otherwise */ newAction(type, source, dest, ok) { if (this.currentActivity) { this.currentActivity.newAction(type, source, dest, ok) this.info.valid = false } } } Object.assign(SequenceReg.prototype, { /** * The `tag` member of the associated {@link ActivitySequenceElement} * @name SequenceReg#name * @type {string} */ name: '', /** * Optional description given to the {@link ActivitySequenceElement} * @name SequenceReg#description * @type {string} */ description: '', /** * Collection of all the {@link ActivityReg} elements done during this sequence. * @name SequenceReg#activities * @type {ActivityReg[]} */ activities: [], /** * Registry linked to the {@link Activity} that is currently running * @name SequenceReg#currentActivity * @type {ActivityReg} */ currentActivity: null, /** * Total time spent on the activities of this sequence * @name SequenceReg#totalTime * @type {number} */ totalTime: 0, /** * Flag indicating if the sequence is closed or already available for more activities * @name SequenceReg#closed * @type {boolean} */ closed: false, /** * Object with global information associated to this sequence * @name SequenceReg#info * @type {SequenceRegInfo} */ info: null, }) /** * This object stores the global results of a {@link SequenceReg} * @class */ class SequenceRegInfo { /** * SequenceRegInfo constructor * @param {SequenceReg} sqReg - The {@link SequenceReg} associated tho this `Info` object. */ constructor(sqReg) { this.sqReg = sqReg } /** * Clears all global data associated with this sequence */ clear() { this.nActivities = this.nActClosed = this.nActSolved = this.nActScore = 0 this.ratioSolved = this.nActions = this.tScore = this.tTime = 0 this.valid = false } /** * Computes the value of all global variables based on the data stored in `activities` * @returns {SequenceRegInfo} - This &quot;info&quot; object */ recalc() { if (!this.valid) { this.clear() this.nActivities = this.sqReg.activities.length if (this.nActivities &gt; 0) { this.sqReg.activities.forEach(ar =&gt; { if (ar.closed) { this.nActClosed++ this.tTime += ar.totalTime this.nActions += ar.numActions if (ar.solved) this.nActSolved++ const r = ar.getPrecision() if (r &gt;= 0) { this.tScore += r this.nActScore++ } } }) if (this.nActClosed &gt; 0) this.ratioSolved = this.nActSolved / this.nActClosed if (this.nActScore &gt; 0) this.tScore = Math.round(this.tScore / this.nActScore) } this.valid = true } return this } } Object.assign(SequenceRegInfo.prototype, { /** * The {@link SequenceReg} associated to this &quot;info&quot; object * @name SequenceRegInfo#sqReg * @type {SequenceReg} */ sqReg: null, /** * When `false`, data must be recalculated * @name SequenceRegInfo#valid * @type {boolean} */ valid: false, /** * Number of activities played in this sequence * @name SequenceRegInfo#nActivities * @type {number} */ nActivities: 0, /** * Number of activities already closed * @name SequenceRegInfo#nActClosed * @type {number} */ nActClosed: 0, /** * Number of activities solved * @name SequenceRegInfo#nActSolved * @type {number} */ nActSolved: 0, /** * Number of activities with score &gt; 0 * @name SequenceRegInfo#nActScore * @type {number} */ nActScore: 0, /** * Percentage of solved activities * @name SequenceRegInfo#ratioSolved * @type {number} */ ratioSolved: 0, /** * Number of actions done by the user while in this sequence * @name SequenceRegInfo#nActions * @type {number} */ nActions: 0, /** * Sum of the scores of all the activities played * @name SequenceRegInfo#tScore * @type {number} */ tScore: 0, /** * Sum of the playing time reported by each activity (not always equals to the sequence's total time) * @name SequenceRegInfo#tTime * @type {number} */ tTime: 0, }) SequenceReg.Info = SequenceRegInfo return SequenceReg }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_SessionReg.js.html":{"id":"report_SessionReg.js.html","title":"Source: report/SessionReg.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/SessionReg.js /** * File : report/SessionReg.js * Created : 17/05/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2016 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot;, &quot;../project/JClicProject&quot;, &quot;./SequenceReg&quot; ], function ($, Utils, JClicProject, SequenceReg) { /** * This class encapsulates data of a user's working session, usually associated to a single {@link JClicProject} * It's main component is `sequences`, an array of {@link SequenceReg} objects. * @exports SessionReg * @class */ class SessionReg { /** * SessionReg constructor * @param {JClicProject} project - The JClicProject referenced by this session. * @param {string=} code - Optional code to be used by this SessionReg */ constructor(project, code) { this.projectName = project.name; this.code = code || project.code this.sequences = [] this.actNames = [] this.started = new Date() this.info = new SessionRegInfo(this) this.reportableActs = project.reportableActs } /** * Builds a complex object with the results of all activities done during this working session * @param {booolean} recalcInfo - When `true`, global variables (number of sequences, score, total time...) * will be recalculated from the data stored in the {@link SequenceReg} objects. * @param {booolean} includeEmpty - When `true`, sequences without reported activities will be also included in the results * @returns {Object} - An object containing the full session data */ getData(recalcInfo, includeEmpty) { if (recalcInfo) this.info.recalc() const result = { projectName: this.projectName, played: this.info.nActivities, ratioPlayed: Math.round(this.info.ratioPlayed * 100), solved: this.info.nActSolved, ratioSolved: Math.round(this.info.ratioSolved * 100), actions: this.info.nActions, score: this.info.tScore, time: Math.round(this.info.tTime / 10) / 100, sequences: [] } this.sequences.forEach(s =&gt; { const seq = s.getData() if (includeEmpty || seq.activities.length &gt; 0) result.sequences.push(seq) }) return result } /** * Returns the `info` element associated to this SessionReg. * @returns {SessionRegInfo} */ getInfo() { return this.info.recalc() } /** * Closes this session */ end() { this.endSequence() } /** * This method should be called when the current working session finishes. */ endSequence() { if (this.currentSequence &amp;&amp; this.currentSequence.totalTime === 0) this.currentSequence.endSequence() this.currentSequence = null this.info.valid = false } /** * This method should be invoked when a new sequence starts * @param {ActivitySequenceElement} ase - The {@link ActivitySequenceElement} referenced by this sequence. */ newSequence(ase) { this.endSequence() this.currentSequence = new SequenceReg(ase) this.sequences.push(this.currentSequence) this.info.valid = false } /** * This method should be invoked when the user starts a new activity * @param {Activity} act - The {@link Activity} that has just started */ newActivity(act) { if (this.currentSequence) { // Save activity name if not yet registered if (this.actNames.indexOf(act.name) === -1) this.actNames.push(act.name) this.currentSequence.newActivity(act) this.info.valid = false } } /** * This method should be called when the current activity finishes. Data about user's final results * on the activity will then be saved. * @param {number} score - The final score, usually in a 0-100 scale. * @param {number} numActions - The total number of actions done by the user to solve the activity * @param {boolean} solved - `true` if the activity was finally solved, `false` otherwise. */ endActivity(score, numActions, solved) { if (this.currentSequence) { this.currentSequence.endActivity(score, numActions, solved) this.info.valid = false } } /** * Reports a new action done by the user while playing the current activity * @param {string} type - Type of action (`click`, `write`, `move`, `select`...) * @param {string}+ source - Description of the object on which the action is done. * @param {string}+ dest - Description of the object that acts as a target of the action (used in pairings) * @param {boolean} ok - `true` if the action was OK, `false`, `null` or `undefined` otherwise */ newAction(type, source, dest, ok) { if (this.currentSequence) { this.currentSequence.newAction(type, source, dest, ok) this.info.valid = false } } /** * Gets the name of the current sequence * @returns {string} */ getCurrentSequenceTag() { return this.currentSequence ? this.currentSequence.name : null } /** * Gets information about the current sequence * @returns {SequenceReg.Info} */ getCurrentSequenceInfo() { return this.currentSequence ? this.currentSequence.getInfo() : null } } Object.assign(SessionReg.prototype, { /** * Number of activities suitable to be reported in this session * @name SessionReg#reportableActs * @type {number} */ reportableActs: 0, /** * Array with unique names of the activities being reported in this session * @name SessionReg#actNames * @type {string[]} */ actNames: null, /** * List of sequences done in this session * @name SessionReg#sequences * @type {SequenceReg[]} */ sequences: null, /** * The sequence currently active * @name SessionReg#currentSequence * @type {SequenceReg} */ currentSequence: null, /** * Starting date and time of this session * @name SessionReg#started * @type {Date} */ started: null, /** * Name of the {@link JClicProject} associated to this session * @name SessionReg#projectName * @type {string} */ projectName: '', /** * Current session info * @name SessionReg#info * @type {SessionRegInfo} */ info: null, /** * Optional code to be used with this session * @name SessionReg#code * @type {string} */ code: null, }) /** * This object stores the global results of a {@link SessionReg} * @class */ class SessionRegInfo { /** * SessionRegInfo constructor * @param {SessionReg} sReg - The {@link SessionReg} associated tho this `Info` object. */ constructor(sReg) { this.sReg = sReg } /** * Clears all data associated with this working session */ clear() { this.numSequences = this.nActivities = this.nActSolved = this.nActScore = 0 this.ratioSolved = this.ratioPlayed = this.nActions = this.tScore = this.tTime = 0 this.valid = false } /** * Computes the value of all global variables based on the data stored in `sequences` * @returns {SessionRegInfo} - This &quot;info&quot; object */ recalc() { if (!this.valid) { this.clear() this.sReg.sequences.forEach(sr =&gt; { const sri = sr.getInfo() if (sri.nActivities &gt; 0) { this.numSequences++ if (sri.nActClosed &gt; 0) { this.nActivities += sri.nActClosed this.nActions += sri.nActions if (sri.nActScore &gt; 0) { this.nActScore += sri.nActScore this.tScore += sri.tScore * sri.nActScore } this.tTime += sri.tTime this.nActSolved += sri.nActSolved } } }) if (this.nActScore &gt; 0) this.tScore = Math.round(this.tScore / this.nActScore) if (this.nActivities &gt; 0) { this.ratioSolved = this.nActSolved / this.nActivities if (this.sReg.reportableActs &gt; 0) this.ratioPlayed = this.sReg.actNames.length / this.sReg.reportableActs } this.valid = true } return this } } Object.assign(SessionRegInfo.prototype, { /** * The SessionReg linked to this Info object * @name SessionRegInfo#sReg * @type {SessionReg} */ sReg: null, /** * When `false`, this session info needs to be recalculated * @name SessionRegInfo#valid * @type {boolean} */ valid: false, /** * Number of sequences played * @name SessionRegInfo#numSequences * @type {number} */ numSequences: 0, /** * Number of activities played * @name SessionRegInfo#nActivities * @type {number} */ nActivities: 0, /** * Number of activities solved * @name SessionRegInfo#nActSolved * @type {number} */ nActSolved: 0, /** * Number of activities with score &gt; 0 * @name SessionRegInfo#nActScore * @type {number} */ nActScore: 0, /** * Percentage of solved activities * @name SessionRegInfo#ratioSolved * @type {number} */ ratioSolved: 0, /** * Percentage of reportable activities played * @name SessionRegInfo#ratioPlayed * @type {number} */ ratioPlayed: 0, /** * Number of actions done by the user while in this working session * @name SessionRegInfo#nActions * @type {number} */ nActions: 0, /** * Sum of the scores of all the activities played * @name SessionRegInfo#tScore * @type {number} */ tScore: 0, /** * Sum of the playing time reported by each activity (not always equals to the session's total time) * @name SessionRegInfo#tTime * @type {number} */ tTime: 0, }) SessionReg.Info = SessionRegInfo return SessionReg }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"report_SessionStorageReporter.js.html":{"id":"report_SessionStorageReporter.js.html","title":"Source: report/SessionStorageReporter.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: report/SessionStorageReporter.js /** * File : report/SessionStorageReporter.js * Created : 06/09/2017 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define, window */ define([ &quot;jquery&quot;, &quot;./Reporter&quot; ], function ( $, Reporter) { /** * This JClic {@link Reporter} writes persistent data to the browser local session storage. It uses some of * the {@link https://github.com/projectestac/jclic/wiki/JClic-Reports-developers-guide JClic Reports API}. * Connection parameters (`key`, `context`...) are passed through the `options` element of {@link JClicPlayer} (acting as {@link PlayStation}). * Set `storage=local` in `options` to store reports in [`window.localStorage`]{@link https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage} * instead of [`window.sessionStorage`]{@link https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage} (default). * @exports SessionStorageReporter * @class * @extends Reporter */ class SessionStorageReporter extends Reporter { /** * SessionStorageReporter constructor * @param {PlayStation} ps - The {@link PlayStation} used to retrieve settings and localized messages */ constructor(ps) { super(ps) this.key = `jclic_${(new Date()).toISOString()}#${Math.ceil(Math.random() * 1000)}` } /** * Initializes this report system with an optional set of parameters. * Returns a Promise, fulfilled when the reporter is fully initialized. * @override * @param {?Object} options - Initial settings passed to the reporting system * @returns {Promise} */ init(options) { if (typeof options === 'undefined' || options === null) options = this.ps.options if (options.storage === 'local') { this.storage = window.localStorage this.descriptionKey = 'Reporting to local storage' } return Reporter.prototype.init.call(this, options) } /** * * Saves the current report data to sessionStorage */ saveCurrentReport() { // Update results out of current thread window.setTimeout(() =&gt; { this.storage.setItem(this.key, JSON.stringify(this.getData())) }, 0) } /** * Finalizes the current sequence * @override */ endSequence() { super.endSequence() this.saveCurrentReport() } /** * This method should be called when the current activity finishes. Data about user's final results * on the activity will then be saved. * @override * @param {number} score - The final score, usually in a 0-100 scale. * @param {number} numActions - The total number of actions done by the user to solve the activity * @param {boolean} solved - `true` if the activity was finally solved, `false` otherwise. */ endActivity(score, numActions, solved) { super.endActivity(score, numActions, solved) this.saveCurrentReport() } } Object.assign(SessionStorageReporter.prototype, { /** * Type of storage to be used. Defaults to `window.sessionStorage` * @name SessionStorageReporter#storage * @type {external:Storage} */ storage: window.sessionStorage, /** * Description of this reporting system * @name SessionStorageReporter#descriptionKey * @override * @type {string} */ descriptionKey: 'Reporting to session storage', /** * Additional info to display after the reporter's `description` * @name SessionStorageReporter#descriptionDetail * @override * @type {string} */ descriptionDetail: '(browser session)', /** * Key used to save the report into sessionStorage * @name SessionStorageReporter#key * @type {string} */ key: null, }) // Register class in Reporter.CLASSES Reporter.CLASSES['SessionStorageReporter'] = SessionStorageReporter return SessionStorageReporter }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"skins_SimpleSkin.js.html":{"id":"skins_SimpleSkin.js.html","title":"Source: skins/SimpleSkin.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: skins/SimpleSkin.js /** * File : skins/SimpleSkin.js * Created : 04/07/2016 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Skin&quot;, &quot;./DefaultSkin&quot; ], function ($, Skin, DefaultSkin) { /** * This is a variant of the default {@link Skin} used by JClic.js * It has the buttons at top, and don't has counters. * @exports SimpleSkin * @class * @extends DefaultSkin */ class SimpleSkin extends DefaultSkin { /** * SimpleSkin constructor * @param {PlayStation} ps - The PlayStation (currently a {@link JClicPlayer}) used to load and * realize the media objects meeded tot build the Skin. * @param {string=} name - The skin class name * @param {object=} options - Optional parameter with additional options */ constructor(ps, name = null, options = {}) { // OrangeSkin extends [DefaultSkin](DefaultSkin.html) super(ps, name, Object.assign({}, options, { counters: false, reportsBtn: true })) this.$ctrlCnt.detach().prependTo(this.$div) this.$msgBoxDiv.detach().appendTo(this.$div) // Add a spacing div in substitution of msgBox $('&lt;div/&gt;').css({ 'flex-grow': 1 }).insertAfter(this.$ctrlCnt.children(':nth-child(2)')) } /** * Returns the CSS styles used by this skin. This method should be called only from * the `Skin` constructor, and overridded by subclasses if needed. * @param {string} media - A specific media size. Possible values are: 'default', 'half' and 'twoThirds' * @returns {string} */ _getStyleSheets(media = 'default') { return `${super._getStyleSheets(media)}${media === 'default' ? this.skinCSS : media === 'half' ? this.skinCSSHalf : media === 'twoThirds' ? this.skinCSSTwoThirds : ''}` } } Object.assign(SimpleSkin.prototype, { /** * Class name of this skin. It will be used as a base selector in the definition of all CSS styles. * @name SimpleSkin#skinId * @override * @type {string} */ skinId: 'JClicSimpleSkin', /** * Styles used in this skin * @name SimpleSkin#skinCSS * @type {string} */ skinCSS: '\\ .ID {background-color:#888888;}\\ .ID .JClicCtrlCnt {margin:9px;}\\ .ID .JClicPlayerCnt {margin:0px 18px 18px;}\\ .ID .JClicMsgBox {flex-grow:0; margin:0 18px 18px 18px;}', skinCSSHalf: '\\ .ID .JClicCtrlCnt {margin:4px;}\\ .ID .JClicPlayerCnt {margin:0px 9px 9px;}\\ .ID .JClicMsgBox {margin:0 9px 9px 9px;}', skinCSSTwoThirds: '\\ .ID .JClicCtrlCnt {margin:6px;}\\ .ID .JClicPlayerCnt {margin:0px 12px 12px;}\\ .ID .JClicMsgBox {margin:0 12px 12px 12px;}', }) // Register this class in the list of available skins Skin.CLASSES['simple'] = SimpleSkin return SimpleSkin }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_TextActivityDocument.js.html":{"id":"activities_text_TextActivityDocument.js.html","title":"Source: activities/text/TextActivityDocument.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/TextActivityDocument.js /** * File : activities/text/TextActivityDocument.js * Created : 14/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Utils&quot;, &quot;../../AWT&quot;, &quot;../../boxes/ActiveBoxContent&quot;, &quot;../../media/MediaContent&quot;, &quot;../../boxes/ActiveBagContent&quot; ], function ($, Utils, AWT, ActiveBoxContent, MediaContent, ActiveBagContent) { /** * This is the HTML DOM element used in text activities like {@link FillInBlanks}, * {@link IdentifyText}, {@link OrderText} and {@link Complete}. It contains the main document of * the activity, usually with some elements marked as &quot;targets&quot;. In {@link FillInBlanks}, this * targets are encapsulated in {@link TextTarget} objects. * @exports TextActivityDocument * @class */ class TextActivityDocument { /** * TextActivityDocument constructor */ constructor() { // Make a deep clone of the default style this.style = { 'default': $.extend(true, {}, TextActivityDocument.DEFAULT_DOC_STYLE) } this.p = [] //this.tmb=new TargetMarkerBag(); this.boxesContent = new ActiveBagContent() this.popupsContent = new ActiveBagContent() } /** * Loads the document settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse * @param {MediaBag} mediaBag - The media bag used to load images and media content */ setProperties($xml, mediaBag) { // Read named styles // Sort styles according to its &quot;base&quot; dependencies const styles = $xml.children('style').toArray().sort((a, b) =&gt; { var aName = a.getAttribute('name'), aBase = a.getAttribute('base') || null var bName = b.getAttribute('name'), bBase = b.getAttribute('base') || null // Put 'default' always first, then each style below their base (if any) return aName === 'default' ? -1 : bName === 'default' ? 1 : aBase === bName ? 1 : bBase === aName ? -1 : !aBase ? -1 : !bBase ? 1 : 0 }) // Process the ordered list of styles styles.forEach(style =&gt; { const attr = this.readDocAttributes($(style)) // Grant always that basic attributes are defined this.style[attr.name] = attr.name === 'default' ? $.extend(true, this.style.default, attr) : attr //this.style[attr.name] = attr.name === 'default' ? Object.assign(this.style.default, attr) : attr }) // Read paragraphs $xml.find('section &gt; p').each((_n, par) =&gt; { const p = { elements: [] } // Read paragraph attributes Utils.attrForEach(par.attributes, (name, value) =&gt; { switch (name) { case 'style': p[name] = value break; case 'bidiLevel': case 'Alignment': p[name] = Number(value) break } }) // Read paragraph objects $(par).children().each((_n, child) =&gt; { let obj const $child = $(child) switch (child.nodeName) { case 'cell': obj = new ActiveBoxContent().setProperties($child, mediaBag) break case 'text': obj = { text: child.textContent.replace(/\\t/g, '&amp;#9;') } const attr = this.readDocAttributes($child) if (!$.isEmptyObject(attr)) { obj.attr = attr } break case 'target': obj = new TextTarget(this, child.textContent.replace(/\\t/g, '&amp;#9;')) obj.setProperties($child, mediaBag) this.numTargets++ break default: Utils.log('error', `Unknown object in activity document: &quot;${child.nodeName}&quot;`) } if (obj) { obj.objectType = child.nodeName p.elements.push(obj) } }) this.p.push(p) }) return this } /** * Reads sets of text attributes, sometimes in form of named styles * @param {external:jQuery} $xml - The XML element to parse * @returns {object} */ readDocAttributes($xml) { let attr = {}, css = {} Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'background': val = Utils.checkColor(val, 'white') attr[name] = val css['background-color'] = val break case 'foreground': val = Utils.checkColor(val, 'black') attr[name] = val css['color'] = val break case 'family': css['font-family'] = val /* falls through */ case 'name': case 'style': // Attributes specific to named styles: attr[name] = val break case 'base': attr[name] = val // If base style exists, merge it with current settings if (this.style[val]) { //attr = Object.apply({}, this.style[val], attr) attr = $.extend(true, {}, this.style[val], attr) if (this.style[val].css) //css = Object.apply({}, this.style[val].css, css) css = $.extend({}, this.style[val].css, css) } break case 'bold': val = Utils.getBoolean(val) attr[name] = val css['font-weight'] = val ? 'bold' : 'normal' break case 'italic': val = Utils.getBoolean(val) attr[name] = val css['font-style'] = val ? 'italic' : 'normal' break case 'target': attr[name] = Utils.getBoolean(val) break case 'size': attr[name] = Number(val) css['font-size'] = `${val}px` break case 'tabWidth': // `tab-size` CSS attribute is only set when the document has a specific `tabWidth` // setting. It must be accompanied of `white-space:pre` to successfully work. this.tabSpc = val css['tab-size'] = this.tabSpc css['white-space'] = 'pre-wrap' break default: Utils.log('warn', `Unknown text attribute: &quot;${name}&quot; = &quot;${val}&quot;`) attr[name] = val break } }) if (!$.isEmptyObject(css)) attr['css'] = css return attr } /** * Gets the full text of this document in raw format * @returns {String} - The text of the document. */ getRawText() { const $html = $('&lt;div/&gt;') // Process paragraphs this.p.forEach(p =&gt; { // Creates a new DOM paragraph const $p = $('&lt;p/&gt;') let empty = true // Process the paragraph elements p.elements.forEach(element =&gt; { switch (element.objectType) { case 'text': case 'target': $p.append(element.text) break case 'cell': // cells are not considered raw text of the document break default: break } empty = false }) if (empty) { // Don't leave paragraphs empty $p.html('&amp;nbsp;') } // Adds the paragraph to the DOM element $html.append($p) }) return $html.text().trim() } /** * Gets a `style` object filled with default attributes plus attributes present in the * requested style name. * @param {string} name - The requested style name * @returns {Object} - The result of combining `default` with the requested style */ getFullStyle(name) { const st = $.extend(true, {}, this.style.default) return $.extend(true, st, this.style[name] ? this.style[name] : {}) //return Object.assign({}, this.style.default, this.style[name] ? this.style[name] : {}) } } Object.assign(TextActivityDocument.prototype, { /** * Number of blank spaces between tabulators. * @name TextActivityDocument#tabSpc * @type {number} */ tabSpc: 12, /** * Index of the last {@link ActiveBox} activated. * @name TextActivityDocument#lastBoxId * @type {number} */ lastBoxId: 0, /** * A bag of {@link TargetMarker} objects * @name TextActivityDocument#tmb * @type {object} */ tmb: null, /** * Number of targets * @name TextActivityDocument#numTargets * @type {number} */ numTargets: 0, /** * Type of targets used in this activity. Possible values are: `TT_FREE`, `TT_CHAR`, `TT_WORD` * and `TT_PARAGRAPH`. * @name TextActivityDocument#targetType * @type {string} */ targetType: 'TT_FREE', /** * Bag with the content of the boxes embedded in the document. * @name TextActivityDocument#boxesContent * @type {ActiveBagContent} */ boxesContent: null, /** * Bag with the content of the pop-ups used by this activity. * @name TextActivityDocument#popupsContent * @type {ActiveBagContent} */ popupsContent: null, /** * Collection of named styles of the document * @name TextActivityDocument#style * @type {object} */ style: null, /** * The main document, represented as a collection of DOM objects * @name TextActivityDocument#p * @type {object} */ p: null, }) /** * Default style for new documents * @type {object} */ TextActivityDocument.DEFAULT_DOC_STYLE = { background: 'white', foreground: 'black', family: 'Arial', size: 17, css: { 'font-family': 'Arial,Helvetica,sans-serif', 'font-size': '17px', 'background-color': 'white', color: 'black' } } /** * This class contains the properties and methods of the document elements that are the real * targets of user actions in text activities. * @class */ class TextTarget { /** * TextTarget constructor * @param {TextActivityDocument} doc - The document to which this target belongs. * @param {string} text - Main text of this target. */ constructor(doc, text) { this.doc = doc this.text = text this.numIniChars = text.length this.answers = [text] this.maxLenResp = this.numIniChars } /** * Resets the TextTarget status * @param {string=} status - The `targetStatus` to be established. Default is `NOT_EDITED` */ reset(status) { this.targetStatus = status ? status : 'NOT_EDITED' this.flagModified = false } /** * Loads the text target settings from a specific JQuery XML element * @param {external:jQuery} $xml - The XML element to parse * @param {MediaBag} mediaBag - The media bag used to load images and media content */ setProperties($xml, mediaBag) { let firstAnswer = true // Read specific nodes $xml.children().each((_n, child) =&gt; { const $node = $(child) switch (child.nodeName) { case 'answer': if (firstAnswer) { firstAnswer = false this.answers = [] } if (this.answers === null) this.answers = [] this.answers.push(child.textContent) break case 'optionList': $node.children('option').each((_n, opChild) =&gt; { this.isList = true if (this.options === null) this.options = [] this.options.push(opChild.textContent) }) break case 'response': this.iniChar = Utils.getVal($node.attr('fill'), this.iniChar).charAt(0) this.numIniChars = Utils.getNumber($node.attr('length'), this.numIniChars) this.maxLenResp = Utils.getNumber($node.attr('maxLength'), this.maxLenResp) this.iniText = Utils.getVal($node.attr('show'), this.iniText) break case 'info': this.infoMode = Utils.getVal($node.attr('mode'), 'always') this.popupDelay = Utils.getNumber($node.attr('delay'), this.popupDelay) this.popupMaxTime = Utils.getNumber($node.attr('maxTime'), this.popupMaxTime) $node.children('media').each((_n, media) =&gt; { this.onlyPlay = true this.popupContent = new ActiveBoxContent() this.popupContent.mediaContent = new MediaContent().setProperties($(media)) }); if (!this.popupContent) { $node.children('cell').each((_n, cell) =&gt; { this.popupContent = new ActiveBoxContent().setProperties($(cell), mediaBag) }) } break case 'text': this.text = child.textContent.replace(/\\t/g, '&amp;#9;') const attr = this.doc.readDocAttributes($(child)) if (!$.isEmptyObject(attr)) this.attr = attr break default: break } }) } /** * Gets a string with all valid answers of this TextTarget. Useful for reporting users' activity. * @returns {string} */ getAnswers() { return this.answers ? this.answers.join('|') : '' } /** * Sets specific colors to the target jQuery element, based on its `targetStatus` value. Red * color usually means error. */ checkColors() { const $element = this.$comboList || this.$span if ($element) { const style = this.doc.style[ this.targetStatus === 'WITH_ERROR' ? 'targetError' : this.targetStatus === 'HIDDEN' ? 'default' : 'target'] if (style &amp;&amp; style.css) { $element.css(style.css) } } } /** * Fills the `currentText` member with the text currently hosted in $span or selected in $comboList * @returns {String} - The current text of this target */ readCurrentText() { if (this.$span) this.currentText = this.$span.text() else if (this.$comboList) this.currentText = this.$comboList.val() return this.currentText } } Object.assign(TextTarget.prototype, { /** * The {@link TextActivityDocument} to which this target belongs * @name TextTarget#doc * @type {TextActivityDocument} */ doc: null, /** * The current text displayed by this TextTarget * @name TextTarget#text * @type {string} */ text: null, /** * A set of optional attributes for `text` * @name TextTarget#attr * @type {object} */ attr: null, /** * `true` when the target is a drop-down list * @name TextTarget#isList * @type {boolean} */ isList: false, /** * Number of characters initially displayed on the text field * @name TextTarget#numIniChars * @type {number} */ numIniChars: 1, /** * Character used to fill-in the text field * @name TextTarget#iniChar * @type {string} */ iniChar: '_', /** * Maximum length of the answer * @name TextTarget#maxLenResp * @type {number} */ maxLenResp: 0, /** * Array of valid answers * @name TextTarget#answers * @type {string[]} */ answers: null, /** * Set of specific options * @name TextTarget#options * @type {object} */ options: null, /** * Text displayed by the target when the activity begins * @name TextTarget#iniText * @type {string} */ iniText: null, /** * Type of additional information offered to the user. Possible values are: `no_info`, `always`, * `onError` and `onDemand`. * @name TextTarget#infoMode * @type {string} */ infoMode: 'no_info', /** * Key that triggers the associated popup when `infoMode` is `onDemand` * @name TextTarget#popupKey * @type {string} */ popupKey: 'F1', /** * An optional {@link ActiveBoxContent} with information about this TextTarget * @name TextTarget#popupContent * @type {ActiveBoxContent} */ popupContent: null, /** * Time (seconds) to wait before showing the additional information * @name TextTarget#popupDelay * @type {number} */ popupDelay: 0, /** * Maximum amount of time (seconds) that the additional information will be shown * @name TextTarget#popupMaxTime * @type {number} */ popupMaxTime: 0, /** * When this flag is `true` and `popupContent` contains audio, no visual feedback will be * provided (meaning that audio will be just played) * @name TextTarget#onlyPlay * @type {boolean} */ onlyPlay: false, // // TRANSIENT PROPERTIES // /** * The drop-down list associated to this target * @name TextTarget#$comboList * @type {external:jQuery} */ $comboList: null, /** * The span element associated to this target * @name TextTarget#$span * @type {external:jQuery} */ $span: null, /** * The paragraph element where $span is currently located * @name TextTarget#$p * @type {external:jQuery} */ $p: null, /** * The span element containing the popup * @name TextTarget#$popup * @type {external:jQuery} */ $popup: null, /** * Current text in the $span element * @name TextTarget#currentText * @type {string} */ currentText: '', /** * Ordinal number of this target in the collection of targets * @name TextTarget#num * @type {number} */ num: 0, /** * Current ordinal position of this target in the document * (used in {@link OrderText} activities) * @name TextTarget#pos * @type {number} */ pos: 0, /** * Current status of the target. Valid values are: `NOT_EDITED`, `EDITED`, `SOLVED`, `WITH_ERROR` and `HIDDEN` * @name TextTarget#targetStatus * @type {string} */ targetStatus: 'NOT_EDITED', /** * Flag to control if the initial content of this TextTarget has been modified * @name TextTarget#flagModified * @type {boolean} */ flagModified: false, /** * Pointer to the activity panel containing this TextTarget * @name TextTarget#parentPane * @type {TextActivityBasePanel} */ parentPane: null, }) TextActivityDocument.TextTarget = TextTarget return TextActivityDocument }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_TextGrid.js.html":{"id":"boxes_TextGrid.js.html","title":"Source: boxes/TextGrid.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/TextGrid.js /** * File : boxes/TextGrid.js * Created : 12/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../AWT&quot;, &quot;../Utils&quot;, &quot;./AbstractBox&quot;, &quot;./TextGridContent&quot; ], function ($, AWT, Utils, AbstractBox, TextGridContent) { /** * Default values * @type {object} */ const defaults = { MIN_CELL_SIZE: 12, DEFAULT_CELL_SIZE: 20, MIN_INTERNAL_MARGIN: 2 } /** * Binary flags used to mark status * @type {object} */ const flags = { NORMAL: 0, INVERTED: 1, HIDDEN: 2, LOCKED: 4, MARKED: 8, TRANSPARENT: 16 } /** * This class is a special type of {@link AbstractBox} that displays a grid of single * characters. * * It's used {@link CrossWord} and {@link WordSearch} activities. * @exports TextGrid * @class * @extends AbstractBox */ class TextGrid extends AbstractBox { /** * TextGrid constructor * @param {?AbstractBox} parent - The AbstractBox to which this text grid belongs * @param {?AWT.Container} container - The container where this text grid is placed. * @param {?BoxBase} boxBase - The object where colors, fonts, border and other graphic properties * @param {number} x - `X` coordinate of the upper left corner of this grid * @param {number} y - `Y` coordinate of the upper left corner of this grid * @param {number} ncw - Number of columns of the grid * @param {number} nch - Nomber of rows of the grid * @param {number} cellW - Width of the cells * @param {number} cellH - Height of the cells * @param {boolean} border - When `true`, a border must be drawn between the cells */ constructor(parent, container, boxBase, x, y, ncw, nch, cellW, cellH, border) { // *TextGrid* extends [AbstractBox](AbstractBox.html) super(parent, container, boxBase) this.pos.x = x this.pos.y = y this.nCols = Math.max(1, ncw) this.nRows = Math.max(1, nch) this.cellWidth = Math.max(cellW, defaults.MIN_CELL_SIZE) this.cellHeight = Math.max(cellH, defaults.MIN_CELL_SIZE) this.dim.width = cellW * this.nCols this.dim.height = cellH * this.nRows this.setChars(' ') this.preferredBounds = new AWT.Rectangle(this.pos, this.dim) this.setBorder(border) this.cursorTimer = new AWT.Timer(() =&gt; this.blink(0), 500, false) this.cursorEnabled = false this.useCursor = false this.wildTransparent = false this.cursor = new AWT.Point() } /** * Factory constructor that creates an empty grid based on a {@link TextGridContent} * @param {?AbstractBox} parent - The AbstractBox to which the text grid belongs * @param {?AWT.Container} container - The container where the text grid will be placed. * @param {number} x - `X` coordinate of the upper left corner of the grid * @param {number} y - `Y` coordinate of the upper left corner of the grid * @param {TextGridContent} tgc - Object with the content and other settings of the grid * @param {boolean} wildTransparent - When `true`, the wildcard character will be transparent * @returns {TextGrid} */ static createEmptyGrid(parent, container, x, y, tgc, wildTransparent) { const result = new TextGrid(parent, container, tgc.bb, x, y, tgc.ncw, tgc.nch, tgc.w, tgc.h, tgc.border) result.wild = tgc.wild result.randomChars = tgc.randomChars result.wildTransparent = wildTransparent return result } /** * Sets the characters to be placed in the cells of this TextGrid * @param {string} text */ setChars(text) { this.chars = [] this.answers = [] this.attributes = [] for (let py = 0; py &lt; this.nRows; py++) { const line = py &lt; text.length ? text[py] : '' this.chars[py] = line.split('') this.answers[py] = [] this.attributes[py] = [] for (let px = 0; px &lt; this.nCols; px++) { if (px &gt;= line.length) this.chars[py][px] = ' ' this.answers[py][px] = this.chars[py][px] this.attributes[py][px] = flags.NORMAL } } } /** * Substitutes the current content of all cells with wildcards with a randomly generated char. * @see TextGridContent#randomChars */ randomize() { for (let py = 0; py &lt; this.nRows; py++) for (let px = 0; px &lt; this.nCols; px++) if (this.chars[py][px] === this.wild) this.chars[py][px] = this.randomChars.charAt( Math.floor(Math.random() * this.randomChars.length)) } /** * Clears or sets global attributes to all cells * @param {boolean} lockWild - When `true`, the wildcard cells will be marked with special * attributes (used in CrossWords to mark black cells) * @param {boolean} clearChars - When `true`, the current content of cells will be erased. */ setCellAttributes(lockWild, clearChars) { let atr = flags.LOCKED if (this.wildTransparent) atr |= flags.TRANSPARENT else atr |= flags.INVERTED | flags.HIDDEN for (let py = 0; py &lt; this.nRows; py++) { for (let px = 0; px &lt; this.nCols; px++) { if (lockWild &amp;&amp; this.chars[py][px] === this.wild) this.attributes[py][px] = atr else { this.attributes[py][px] = flags.NORMAL if (clearChars) this.chars[py][px] = ' ' } } } } /** * Sets or unsets the `locked` properties (black cell) to a specific cell. * @param {number} px - The logical 'X' coordinate of the cell * @param {number} py - The logical 'Y' coordinate of the cell * @param {boolean} locked - When true, the `locked` attribute will be on. * @returns {undefined} */ setCellLocked(px, py, locked) { if (px &gt;= 0 &amp;&amp; px &lt; this.nCols &amp;&amp; py &gt;= 0 &amp;&amp; py &lt; this.nRows) { this.attributes[py][px] = locked ? flags.LOCKED | (this.wildTransparent ? flags.TRANSPARENT : flags.INVERTED | flags.HIDDEN) : flags.NORMAL } } /** * For a specific cell located at column `rx` and row `ry`, finds the number of words delimited * by wildchars located behind its current position and in the same row and column. Used in * {@link CrossWord} activities to find the definition for a specific cell. * * The result is returned as 'x' and 'y' properties of a logical point. * @param {type} rx - The 'X' position of the cell * @param {type} ry - The 'Y' position of the cell * @returns {AWT.Point} - The logical positions of the definition for this cell inside the list * of current definitions of its row and column. '0' means first definition of its row/column, * '1' the second one, etc. */ getItemFor(rx, ry) { if (!this.isValidCell(rx, ry)) return null const point = new AWT.Point() let inBlack = false, startCount = false for (let px = 0; px &lt; rx; px++) { if ((this.attributes[ry][px] &amp; flags.LOCKED) !== 0) { if (!inBlack) { if (startCount) point.x++ inBlack = true } } else { startCount = true inBlack = false } } inBlack = false startCount = false for (let py = 0; py &lt; ry; py++) { if ((this.attributes[py][rx] &amp; flags.LOCKED) !== 0) { if (!inBlack) { if (startCount) point.y++ inBlack = true } } else { startCount = true inBlack = false } } return point } /** * Whether the blinking cursor must be enabled or disabled. * @param {boolean} status */ setCursorEnabled(status) { this.cursorEnabled = status if (status === true) this.startCursorBlink() else this.stopCursorBlink() } /** * Starts the {@link AWT.Timer} that makes the cursor blink. */ startCursorBlink() { if (this.useCursor &amp;&amp; this.cursorEnabled &amp;&amp; this.cursorTimer &amp;&amp; !this.cursorTimer.isRunning()) { this.blink(1) this.cursorTimer.start() } } /** * Stops the {@link AWT.Timer} that makes the cursor blink. */ stopCursorBlink() { if (this.cursorTimer &amp;&amp; this.cursorTimer.isRunning()) { this.cursorTimer.stop() this.blink(-1) } } /** * Moves the cursor in the specified x and y directions. * @param {number} dx - Amount to move in the 'X' axis * @param {number} dy - Amount to move in the 'Y' axis * @param {boolean} skipLocked - Skip locked cells (wildcards in {@link CrossWord}) */ moveCursor(dx, dy, skipLocked) { if (this.useCursor) { const point = this.findNextCellWithAttr(this.cursor.x, this.cursor.y, skipLocked ? flags.LOCKED : flags.NORMAL, dx, dy, false) if (!this.cursor.equals(point)) this.setCursorAt(point.x, point.y, skipLocked) } } /** * Finds the coordinates of the nearest non-locked cell (non-wildcard) moving on the indicated * 'X' and 'Y' directions. * @param {AWT.Point} - Logical coordinates of the starting point * @param {number} dx - 0 means no movement, 1 go right, -1 go left. * @param {number} dy - 0 means no movement, 1 go down, -1 go up. * @returns {AWT.Point} */ findFreeCell(from, dx, dy) { let result = null if (from &amp;&amp; (dx !== 0 || dy !== 0)) { const scan = new AWT.Point(from) while (result === null) { scan.x += dx scan.y += dy if (scan.x &lt; 0 || scan.x &gt;= this.nCols || scan.y &lt; 0 || scan.y &gt;= this.nRows) break if (!this.getCellAttribute(scan.x, scan.y, flags.LOCKED)) result = scan } } return result } /** * Finds the first cell with the specified attributes at the specified state, starting * at specified point. * @param {number} startX - Starting X coordinate * @param {number} startY - Starting Y coordinate * @param {number} attr - Attribute to check. See {@link TextGrid.flags}. * @param {number} dx - 0 means no movement, 1 go right, -1 go left. * @param {number} dy - 0 means no movement, 1 go down, -1 go up. * @param {boolean} attrState - Desired state (enabled or disabled) of `attr` * @returns {AWT.Point} */ findNextCellWithAttr(startX, startY, attr, dx, dy, attrState) { const point = new AWT.Point(startX + dx, startY + dy) while (true) { if (point.x &lt; 0) { point.x = this.nCols - 1 if (point.y &gt; 0) point.y-- else point.y = this.nRows - 1 } else if (point.x &gt;= this.nCols) { point.x = 0 if (point.y &lt; this.nRows - 1) point.y++ else point.y = 0 } if (point.y &lt; 0) { point.y = this.nRows - 1 if (point.x &gt; 0) point.x-- else point.x = this.nCols - 1 } else if (point.y &gt;= this.nRows) { point.y = 0 if (point.x &lt; this.nCols - 1) point.x++ else point.x = 0 } if (point.x === startX &amp;&amp; point.y === startY || this.getCellAttribute(point.x, point.y, attr) === attrState) break point.x += dx point.y += dy } return point } /** * Sets the blinking cursor at a specific point * @param {number} px - X coordinate * @param {number} py - Y coordinate * @param {boolean} skipLocked - Skip locked (wildcard) cells */ setCursorAt(px, py, skipLocked) { this.stopCursorBlink() if (this.isValidCell(px, py)) { this.cursor.x = px this.cursor.y = py this.useCursor = true if (skipLocked &amp;&amp; this.getCellAttribute(px, py, flags.LOCKED)) { this.moveCursor(1, 0, skipLocked) } else { if (this.cursorEnabled) this.startCursorBlink() } } } /** * Sets the `useCursor` property of this text grid * @param {boolean} value */ setUseCursor(value) { this.useCursor = value } /** * Gets the current position of the blinking cursor * @returns {AWT.Point} */ getCursor() { return this.cursor } /** * Counts the number of cells of this grid with the specified character * @param {string} ch * @returns {number} */ countCharsLike(ch) { let result = 0 for (let py = 0; py &lt; this.nRows; py++) for (let px = 0; px &lt; this.nCols; px++) if (this.chars[py][px] === ch) result++ return result } /** * Gets the number of cells of this grid * @returns {number} */ getNumCells() { return this.nRows * this.nCols } /** * Counts the number of coincidences between the `answers` array and the current content of this grid * @param {boolean} checkCase - Make comparisions case-sensitive * @returns {number} */ countCoincidences(checkCase) { let result = 0 if (this.answers) for (let py = 0; py &lt; this.nRows; py++) for (let px = 0; px &lt; this.nCols; px++) if (this.isCellOk(px, py, checkCase)) result++ return result } /** * Checks if a specific cell is equivalent to the content of `answers` at its position * @param {number} px - X coordinate * @param {number} py - Y coordinate * @param {boolean} checkCase - Make comparisions case-sensitive * @returns {boolean} */ isCellOk(px, py, checkCase) { let result = false if (this.isValidCell(px, py)) { const ch = this.chars[py][px] if (ch !== this.wild) { const ch2 = this.answers[py][px] if (ch === ch2 || !checkCase &amp;&amp; ch.toUpperCase() === ch2.toUpperCase()) result = true } } return result } /** * Gets the logical coordinates (in 'cell' units) of a device point into the grid * @param {AWT.Point} devicePoint * @returns {AWT.Point} */ getLogicalCoords(devicePoint) { if (!this.contains(devicePoint)) return null const px = Math.floor((devicePoint.x - this.pos.x) / this.cellWidth), py = Math.floor((devicePoint.y - this.pos.y) / this.cellHeight) return this.isValidCell(px, py) ? new AWT.Point(px, py) : null } /** * Checks if the specified logical coordinates are inside the valid bounds of the grid. * @param {number} px - 'X' coordinate * @param {number} py - 'Y' coordinate * @returns {boolean} */ isValidCell(px, py) { return px &lt; this.nCols &amp;&amp; py &lt; this.nRows &amp;&amp; px &gt;= 0 &amp;&amp; py &gt;= 0 } /** * Sets the specified character as a content of the cell at specified coordinates * @param {number} px - 'X' coordinate * @param {number} py - 'Y' coordinate * @param {string} ch - The character to set. */ setCharAt(px, py, ch) { if (this.isValidCell(px, py)) { this.chars[py][px] = ch this.repaintCell(px, py) } } /** * Gets the character of the cell at the specified coordinates * @param {number} px - 'X' coordinate * @param {number} py - 'Y' coordinate * @returns {string} */ getCharAt(px, py) { return this.isValidCell(px, py) ? this.chars[py][px] : ' ' } /** * Gets the text formed by the letters between two cells that share a straight line on the grid. * The text can be formed horizontally, vertically and diagonal, both in left-to-right or * right-to-left direction. * @param {number} x0 - 'X' coordinate of the first cell * @param {number} y0 - 'Y' coordinate of the first cell * @param {number} x1 - 'X' coordinate of the second cell * @param {number} y1 - 'Y' coordinate of the second cell * @returns {string} */ getStringBetween(x0, y0, x1, y1) { let sb = '' if (this.isValidCell(x0, y0) &amp;&amp; this.isValidCell(x1, y1)) { let dx = x1 - x0, dy = y1 - y0 if (dx === 0 || dy === 0 || Math.abs(dx) === Math.abs(dy)) { const steps = Math.max(Math.abs(dx), Math.abs(dy)) if (steps &gt; 0) { dx /= steps dy /= steps } for (let i = 0; i &lt;= steps; i++) sb += this.getCharAt(x0 + dx * i, y0 + dy * i) } } return sb } /** * Sets a specific attribute to all cells forming a straight line between two cells on the grid. * @param {number} x0 - 'X' coordinate of the first cell * @param {number} y0 - 'Y' coordinate of the first cell * @param {number} x1 - 'X' coordinate of the second cell * @param {number} y1 - 'Y' coordinate of the second cell * @param {number} attribute - The binary flag representing this attribute. See {@link TextGrid.flags}. * @param {boolean} value - Whether to set or unset the attribute. */ setAttributeBetween(x0, y0, x1, y1, attribute, value) { if (this.isValidCell(x0, y0) &amp;&amp; this.isValidCell(x1, y1)) { let dx = x1 - x0, dy = y1 - y0 if (dx === 0 || dy === 0 || Math.abs(dx) === Math.abs(dy)) { const steps = Math.max(Math.abs(dx), Math.abs(dy)) if (steps &gt; 0) { dx /= steps dy /= steps } for (let i = 0; i &lt;= steps; i++) this.setAttribute(x0 + dx * i, y0 + dy * i, attribute, value) } } } /** * Sets or unsets a specifi attrobut to a cell. * @param {number} px - The 'X' coordinate of the cell * @param {number} py - The 'Y' coordinate of the cell * @param {number} attribute - The binary flag representing this attribute. See {@link TextGrid.flags}. * @param {boolean} state - Whether to set or unset the attribute. */ setAttribute(px, py, attribute, state) { if (this.isValidCell(px, py)) { if (this.attribute === flags.MARKED &amp;&amp; !state) this.repaintCell(px, py) this.attributes[py][px] &amp;= ~attribute this.attributes[py][px] |= state ? attribute : 0 if (attribute !== flags.MARKED || state) this.repaintCell(px, py) } } /** * Sets the specified attribute to all cells. * @param {number} attribute - The binary flag representing this attribute. See {@link TextGrid.flags}. * @param {boolean} state - Whether to set or unset the attribute. */ setAllCellsAttribute(attribute, state) { for (let py = 0; py &lt; this.nRows; py++) for (let px = 0; px &lt; this.nCols; px++) this.setAttribute(px, py, attribute, state) } /** * Gets the specified attribute of a cell * @param {number} px - The 'X' coordinate of the cell * @param {number} py - The 'Y' coordinate of the cell * @param {number} attribute - The binary flag representing this attribute. See {@link TextGrid.flags}. * @returns {boolean} - `true` if the cell has this attribute, `false` otherwise. */ getCellAttribute(px, py, attribute) { return this.isValidCell(px, py) ? (this.attributes[py][px] &amp; attribute) !== 0 : false } /** * Gets the rectangle enclosing a specific cell * @param {number} px - The 'X' coordinate of the cell * @param {number} py - The 'Y' coordinate of the cell * @returns {AWT.Rectangle} */ getCellRect(px, py) { return new AWT.Rectangle(this.pos.x + px * this.cellWidth, this.pos.y + py * this.cellHeight, this.cellWidth, this.cellHeight) } /** * Gets the rectangle enclosing a specific cell, including the border thick. * @param {number} px - The 'X' coordinate of the cell * @param {number} py - The 'Y' coordinate of the cell * @returns {AWT.Rectangle} */ getCellBorderBounds(px, py) { const isMarked = this.getCellAttribute(px, py, flags.MARKED) if (!this.border &amp;&amp; !isMarked) return this.getCellRect(px, py) const bb = this.getBoxBaseResolve(), strk = isMarked ? bb.markerStroke : bb.borderStroke return this.getCellRect(px, py).grow(strk.lineWidth, strk.lineWidth) } /** * Repaints a cell * @param {number} px - The 'X' coordinate of the cell * @param {number} py - The 'Y' coordinate of the cell */ repaintCell(px, py) { if (this.container) this.container.invalidate(this.getCellBorderBounds(px, py)).update() } /** * Gets the preferred size of this grid * @returns {AWT.Dimension} */ getPreferredSize() { return this.preferredBounds.dim } /** * Gets the minimum size of this grid * @returns {AWT.Dimension} */ getMinimumSize() { return new AWT.Dimension(defaults.MIN_CELL_SIZE * this.nCols, defaults.MIN_CELL_SIZE * this.nRows) } /** * Scales the grid to a new size * @param {number} scale - The factor used to multiply all coordinates and sizes * @returns {AWT.Dimension} */ getScaledSize(scale) { return new AWT.Dimension( Utils.roundTo(scale * this.preferredBounds.dim.width, this.nCols), Utils.roundTo(scale * this.preferredBounds.dim.height, this.nRows)) } /** * Overrides {@link AbstractBox#setBounds} * @override * @param {(AWT.Rectangle|number)} rect - An AWT.Rectangle object, or the `x` coordinate of the * upper-left corner of a new rectangle. * @param {number=} y - `y` coordinate of the upper-left corner of the new rectangle. * @param {number=} w - Width of the new rectangle. * @param {number=} h - Height of the new rectangle. */ setBounds(rect, y, w, h) { super.setBounds(rect, y, w, h) this.cellWidth = this.dim.width / this.nCols this.cellHeight = this.dim.height / this.nRows } /** * Overrides {@link AbstractBox#updateContent} * @override * @param {external:CanvasRenderingContext2D} ctx - The canvas rendering context used to draw the * grid. * @param {AWT.Rectangle=} dirtyRegion - The area that must be repainted. `null` refers to the whole box. */ updateContent(ctx, dirtyRegion) { const bb = this.getBoxBaseResolve() // test font size ctx.font = bb.font.cssFont() ctx.textBaseline = 'hanging' bb.prepareText(ctx, 'W', this.cellWidth - 2 * defaults.MIN_INTERNAL_MARGIN, this.cellHeight - 2 * defaults.MIN_INTERNAL_MARGIN) const ch = [] // // TODO: Check in different browsers and devices what is the real font height. // In Chrome on Linux (Gnome), subtracting `bb.font._metrics.descent / 4` produces // good results, but in iPad this correction places the character at the bottom of the cell. const ry = (this.cellHeight - bb.font.getHeight()) / 2 for (let py = 0; py &lt; this.nRows; py++) { for (let px = 0; px &lt; this.nCols; px++) { const bxr = this.getCellBorderBounds(px, py) if (bxr.intersects(dirtyRegion)) { const attr = this.attributes[py][px] if ((attr &amp; flags.TRANSPARENT) === 0) { const isInverted = (attr &amp; flags.INVERTED) !== 0 const isMarked = (attr &amp; flags.MARKED) !== 0 const isCursor = this.useCursor &amp;&amp; this.cursor.x === px &amp;&amp; this.cursor.y === py const boxBounds = this.getCellRect(px, py) ctx.fillStyle = isCursor &amp;&amp; this.cursorBlink ? bb.inactiveColor : isInverted ? bb.textColor : bb.backColor boxBounds.fill(ctx) ctx.strokeStyle = 'black' if ((attr &amp; flags.HIDDEN) === 0) { ch[0] = this.chars[py][px] if (ch[0]) { const dx = boxBounds.pos.x + (this.cellWidth - ctx.measureText(ch[0]).width) / 2 const dy = boxBounds.pos.y + ry if (bb.shadow) { // Render text shadow const d = Math.max(1, bb.font.size / 10) ctx.fillStyle = bb.shadowColor ctx.fillText(ch[0], dx + d, dy + d) } // Render text ctx.fillStyle = isInverted ? bb.backColor : this.isAlternative() ? bb.alternativeColor : bb.textColor ctx.fillText(ch[0], dx, dy) } } if (this.border || isMarked) { ctx.strokeStyle = bb.borderColor bb[isMarked ? 'markerStroke' : 'borderStroke'].setStroke(ctx) if (isMarked) ctx.globalCompositeOperation = 'xor' // Draw border boxBounds.stroke(ctx) // Reset ctx default values if (isMarked) ctx.globalCompositeOperation = 'source-over' } ctx.strokeStyle = 'black' AWT.Stroke.prototype.setStroke(ctx) } } } } return true } /** * Makes the cursor blink, alternating between two states. This method should be called only by * {@link TextGrid#cursorTimer} * @param {boolean} status */ blink(status) { // TODO: Move blink and timer to ActivityPanel if (this.useCursor) { this.cursorBlink = status === 1 ? true : status === -1 ? false : !this.cursorBlink this.repaintCell(this.cursor.x, this.cursor.y) } } /** * Stops the cursor timer if not `null` and active */ end() { if (this.cursorTimer) { this.cursorTimer.stop() this.cursorTimer = null } } } Object.assign(TextGrid.prototype, { /** * Number of rows * @name TextGrid#nRows * @type {number} */ nRows: 1, /** * Number of columns * @name TextGrid#nCols * @type {number} */ nCols: 1, /** * Two-dimension array of characters * @name TextGrid#chars * @type {string[][]} */ chars: null, /** * Two-dimension array with the expected characters, used to check user's answers. * @name TextGrid#answers * @type {string[][]} */ answers: null, /** * Two-dimension array of bytes used as containers of boolean attributes * @name TextGrid#attributes * @see TextGrid.flags * @type {number[][]} */ attributes: null, /** * The cell width, in pixels * @name TextGrid#cellWidth * @type {number} */ cellWidth: 20, /** * The cell height, in pixels * @name TextGrid#cellHeight * @type {number} */ cellHeight: 20, /** * The preferred bounds of this grid * @name TextGrid#preferredBounds * @type {AWT.Rectangle} */ preferredBounds: null, /** * The character to be used as wildcard * @name TextGrid#wild * @type {string} */ wild: TextGridContent.prototype.wild, /** * Characters that can be used when randomizing the content of this grid * @name TextGrid#randomChars * @see TextGridContent#randomChars * @type {string} */ randomChars: TextGridContent.prototype.randomChars, /** * Whether the blinking cursor is enabled or disabled * @name TextGrid#cursorEnabled * @type {boolean} */ cursorEnabled: false, /** * Whether this grid uses a blinking cursor or not * @name TextGrid#useCursor * @type {boolean} */ useCursor: false, /** * The current position of the cursor * @name TextGrid#cursor * @type {AWT.Point} */ cursor: null, /** * `true` when the cursor is &quot;blinking&quot; (cell drawn with {@link BoxBase} `inverse` attributes) * @name TextGrid#cursorBlink * @type {boolean} */ cursorBlink: false, /** * Controls the blinking of the cursor * @name TextGrid#cursorTimer * @type {AWT.Timer} */ cursorTimer: null, /** * Whether the wildcard character is transparent or opaque * @name TextGrid#wildTransparent * @type {boolean} */ wildTransparent: false, }) /** * TextGrid default values * @name TextGrid.defaults * @constant * @type {object} */ TextGrid.defaults = defaults /** * Binary flags used to mark status * @name TextGrid.flags * @constant * @type {object} */ TextGrid.flags = flags return TextGrid }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"boxes_TextGridContent.js.html":{"id":"boxes_TextGridContent.js.html","title":"Source: boxes/TextGridContent.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: boxes/TextGridContent.js /** * File : boxes/TextGridContent.js * Created : 14/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../Utils&quot;, &quot;./BoxBase&quot; ], function ($, Utils, BoxBase) { /** * This class encapsulates the content of {@link TextGrid} objects. * * It implements methods to set and retrieve individual characters on the grid, and parsing of * XML objects. It also contains information about the optimal size and other graphic properties * (fonts, colors, etc.) of the grid. * @exports TextGridContent * @class */ class TextGridContent { /** * TextGridContent constructor */ constructor() { this.bb = new BoxBase(null) this.text = [] } /** * Loads the object settings from a specific JQuery XML element * @param {external:jQuery} $xml */ setProperties($xml) { // Read attributes Utils.attrForEach($xml.get(0).attributes, (name, val) =&gt; { switch (name) { case 'rows': // WARNING: Due to a bug in JClic, the meaning of &quot;rows&quot; and &quot;columns&quot; must be // interchanged: this.ncw = Number(val) break case 'columns': this.nch = Number(val) break case 'cellWidth': this.w = Number(val) break case 'cellHeight': this.h = Number(val) break case 'border': this.border = Utils.getBoolean(val) break case 'wild': case 'randomChars': this[name] = val break } }) // Read inner elements $xml.children('style:first').each((_n, child) =&gt; { this.bb = new BoxBase().setProperties($(child)) }) $xml.find('text:first &gt; row').each((_n, el) =&gt; this.text.push(el.textContent)) for (let i = this.text.length; i &lt; this.nch; i++) this.text[i] = '' return this } /** * Counts the number of wildcard characters present in this TextGrid * @returns {number} */ countWildChars() { let result = 0 if (this.text) for (let y = 0; y &lt; this.nch; y++) for (let x = 0; x &lt; this.ncw; x++) if (this.text[y].charAt(x) === this.wild) result++ return result } /** * Counts the total number of characters, including wildcard characters. * @returns {Number} */ getNumChars() { return this.ncw * this.nch } /** * Sets the specified character as a content of the cell located at specific coordinates * @param {number} x - The X coordinate of the cell * @param {number} y - The X coordinate of the cell * @param {string} ch - The character to be placed on the specified cell */ setCharAt(x, y, ch) { if (x &gt;= 0 &amp;&amp; x &lt; this.ncw &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; this.nch) this.text[y] = this.text[y].substring(0, x) + ch + this.text[y].substring(x + 1) } } Object.assign(TextGridContent.prototype, { /** * Grid columns * @name TextGridContent#ncw * @type {number} */ ncw: 1, /** * Grid rows * @name TextGridContent#nch * @type {number} */ nch: 1, /** * Width of cells * @name TextGridContent#w * @type {number} */ w: 20, /** * Height of cells * @name TextGridContent#h * @type {number} */ h: 20, /** * Whether the cells must be surrounded by a border or not * @name TextGridContent#border * @type {boolean} */ border: false, /** * The {@link BoxBase} object with visual settings of the text grid * @name TextGridContent#bb * @type {BoxBase} */ bb: null, /** * An array of String objects containing the chars of cells. One string per row, one character of * this string per cell. * @name TextGridContent#text * @type {string[]} */ text: null, /** * The letter used as wildcard * @name TextGridContent#wild * @type {string} */ wild: '*', /** * A String with the chars to take as source when randomly filling empty cells * @name TextGridContent#randomChars * @type {string} */ randomChars: Utils.settings.RANDOM_CHARS, }) return TextGridContent }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"shapers_TriangularJigSaw.js.html":{"id":"shapers_TriangularJigSaw.js.html","title":"Source: shapers/TriangularJigSaw.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: shapers/TriangularJigSaw.js /** * File : shapers/TriangularJigSaw.js * Created : 25/05/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;./Shaper&quot;, &quot;./JigSaw&quot;, &quot;../AWT&quot; ], function ($, Shaper, JigSaw, AWT) { /** * This {@link Shaper} returns a set of rectangular shapes with triangular teeth and slots that * fit between them. * @exports TriangularJigSaw * @class * @extends JigSaw */ class TriangularJigSaw extends JigSaw { /** * TriangularJigSaw constructor * @param {number} nx - Number of columns * @param {number} ny - Number of rows */ constructor(nx, ny) { super(nx, ny) } /** * Overrides {@link JigSaw#hLine} * @override * @param {AWT.Path} sd - The Path to which the line will be added * @param {number} type - Type of tooth: 0 is flat (no tooth), 1 means tooth up, and 2 means tooth down * @param {number} x - X coordinate of the starting point * @param {number} y - Y coordinate of the starting point * @param {number} w - Width of the piece * @param {number} h - Height of the piece * @param {boolean} inv - The line must be drawn right to left */ hLine(sd, type, x, y, w, h, inv) { const kx = inv ? -1 : 1, ky = type === 1 ? 1 : -1 if (type === 0) // Flat line sd.addStroke(new AWT.PathStroke('L', [x + w * kx, y])) else { const x0 = x + (w - w * this.baseWidthFactor) / 2 * kx const wb = w * this.baseWidthFactor * kx // Approximation to the tooth: sd.addStroke(new AWT.PathStroke('L', [x0, y])) // This is the tooth: const hb = h * this.toothHeightFactor * ky sd.addStroke(new AWT.PathStroke('L', [x0 + wb / 2, y + hb])) sd.addStroke(new AWT.PathStroke('L', [x0 + wb, y])) // Draw the remaining line sd.addStroke(new AWT.PathStroke('L', [x + w * kx, y])) } } /** * Overrides {@link JigSaw#vLine} * @override * @param {AWT.Path} sd - The Path to which the line will be added * @param {number} type - Type of tooth: 0 is flat (no tooth), 1 means tooth right, and 2 means tooth left * @param {number} x - X coordinate of the starting point * @param {number} y - Y coordinate of the starting point * @param {number} w - Width of the piece * @param {number} h - Height of the piece * @param {boolean} inv - The line must be drawn bottom to top */ vLine(sd, type, x, y, w, h, inv) { const ky = inv ? -1 : 1, kx = type === 1 ? 1 : -1 if (type === 0) // Flat line sd.addStroke(new AWT.PathStroke('L', [x, y + h * ky])) else { const y0 = y + (h - h * this.baseWidthFactor) / 2 * ky, hb = h * this.baseWidthFactor * ky // Approximation to the tooth: sd.addStroke(new AWT.PathStroke('L', [x, y0])) // This is the tooth: const wb = w * this.toothHeightFactor * kx sd.addStroke(new AWT.PathStroke('L', [x + wb, y0 + hb / 2])) sd.addStroke(new AWT.PathStroke('L', [x, y0 + hb])) // Draw the remaining line sd.addStroke(new AWT.PathStroke('L', [x, y + h * ky])) } } } // Register this class in the list of known shapers Shaper.CLASSES['@TriangularJigSaw'] = TriangularJigSaw return TriangularJigSaw }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Utils.js.html":{"id":"Utils.js.html","title":"Source: Utils.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: Utils.js /** * File : Utils.js * Created : 01/04/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;screenfull&quot;, &quot;clipboard-js&quot;, &quot;i18next&quot;, &quot;jszip&quot;, &quot;jszip-utils&quot;, &quot;scriptjs&quot;, &quot;webfontloader&quot; ], function ($, screenfull, clipboard, i18next, JSZip, JSZipUtils, ScriptJS, WebFont) { // In some cases, require.js does not return a valid value for screenfull. Check it: if (!screenfull) screenfull = window.screenfull /** * Returns the two-digits text expression representing the given number (lesser than 100) zero-padded at left * Useful for representing hours, minutes and seconds * @param {number} val - The number to be processed * @returns {string} */ const _zp = val =&gt; `0${val}`.slice(-2) /** * * Miscellaneous utility functions and constants * @exports Utils * @class * @abstract */ const Utils = { /** * Exports third-party NPM packages used by JClic, so they become available to other scripts through * the global variable `JClicObject` (defined in {@link JClic}) * @example &lt;caption&gt;Example usage of JSZip through JClicObject&lt;/caption&gt; * var WebFont = window.JClicObject.Utils.pkg.WebFont; * WebFont.load({google: {families: ['Roboto']}}); * @type: {object} */ pkg: { ClipboardJS: clipboard, i18next: i18next, $: $, JSZip: JSZip, JSZipUtils: JSZipUtils, ScriptJS: ScriptJS, WebFont: WebFont, }, /** * Function obtained from `i18next` that will return the translation of the provided key * into the current language. * The real function will be initiated by the constructor of `JClicPlayer`. Meanwhile, it returns always `key`. * @param {string} key - ID of the expression to be translated * @returns {string} - Translated text */ getMsg: key =&gt; key, /** * List of valid verbosity levels * @const {string[]} */ LOG_LEVELS: ['none', 'error', 'warn', 'info', 'debug', 'trace', 'all'], /** * Labels printed on logs for each message type * @const {string[]} */ LOG_PRINT_LABELS: [' ', 'ERROR', 'WARN ', 'INFO ', 'DEBUG', 'TRACE', 'ALL '], /** * Current verbosity level. Default is 2 (only error and warning messages are printed) * @type {number} */ LOG_LEVEL: 2, // warn /** * Options of the logging system * @type {object} */ LOG_OPTIONS: { prefix: 'JClic', timestamp: true, popupOnErrors: false, chainTo: null, pipeTo: null, }, /** * Initializes the global settings * @param {object} options - An object with global settings * @returns {object} The normalized `options` object */ init: options =&gt; { options = Utils.normalizeObject(options) if (typeof options.logLevel !== 'undefined') Utils.setLogLevel(options.logLevel) if (typeof options.chainLogTo === 'function') Utils.LOG_OPTIONS.chainTo = options.chainLogTo if (typeof options.pipeLogTo === 'function') Utils.LOG_OPTIONS.pipeTo = options.pipeLogTo return options }, /** * Establishes the current verbosity level of the logging system * @param {string} level - One of the valid strings in {@link Utils.LOG_LEVELS} */ setLogLevel: level =&gt; { const log = Utils.LOG_LEVELS.indexOf(level) if (log &gt;= 0) Utils.LOG_LEVEL = log }, /** * Reports a new message to the logging system * @param {string} type - The type of message. Mus be `error`, `warn`, `info`, `debug` or `trace`. * @param {string} msg - The main message to be logged. Additional parameters can be added, like * in `console.log` (see: {@link https://developer.mozilla.org/en-US/docs/Web/API/Console/log}) */ log: function (type, msg) { const level = Utils.LOG_LEVELS.indexOf(type) const args = Array.prototype.slice.call(arguments) // Check if message should currently be logged if (level &lt; 0 || level &lt;= Utils.LOG_LEVEL) { if (Utils.LOG_OPTIONS.pipeTo) Utils.LOG_OPTIONS.pipeTo.apply(null, args) else { const mainMsg = `${Utils.LOG_OPTIONS.prefix || ''} ${Utils.LOG_PRINT_LABELS[level]} ${Utils.LOG_OPTIONS.timestamp ? Utils.getDateTime() : ''} ${msg}` console[level === 1 ? 'error' : level === 2 ? 'warn' : 'log'].apply(console, [mainMsg].concat(args.slice(2))) // Call chained logger, if anny if (Utils.LOG_OPTIONS.chainTo) Utils.LOG_OPTIONS.chainTo.apply(null, args) } } }, /** * Gets a boolean value from a textual expression * @param {string} val - The value to be parsed (`true` for true, null or otherwise for `false`) * @param {boolean=} [defaultValue=false] - The default value to return when `val` is false * @returns {number} */ getBoolean: (val, defaultValue = false) =&gt; val === 'true' ? true : val === 'false' ? false : defaultValue, /** * Gets a value from an given expression that can be `null`, `undefined` or empty string ('') * @param {?*} val - The expression to parse * @param {?*} [defaultValue=null] - The value to return when `val` is `null`, `''` or `undefined` * @returns {*} */ getVal: (val, defaultValue = null) =&gt; (val === '' || val === null || typeof val === 'undefined') ? defaultValue : val, /** * Gets a number from a string or another number * @param {?*} val - The expression to parse * @param {number} [defaultValue=0] - The default value * @returns {number} */ getNumber: (val, defaultValue) =&gt; Number(Utils.getVal(val, defaultValue)), /** * Gets the plain percent expression (without decimals) of the given value * @param {number} val - The value to be expressed as a percentile * @returns {string} */ getPercent: val =&gt; `${Math.round(val * 100)}%`, /** * Returns a given time in [00h 00'00&quot;] format * @param {number} millis - Amount of milliseconds to be processed * @returns {string} */ getHMStime: millis =&gt; { const d = new Date(millis) const h = d.getUTCHours(), m = d.getUTCMinutes(), s = d.getUTCSeconds() return `${h ? h + 'h ' : ''}${h || m ? _zp(m) + '\\'' : ''}${_zp(s)}&quot;` }, /** * Returns a formatted string with the provided date and time * @param {Date} date - The date to be formatted. When `null` or `undefined`, the current date will be used. * @returns {string} */ getDateTime: (date = new Date()) =&gt; `${date.getFullYear()}/${_zp(date.getMonth() + 1)}/${_zp(date.getDate())} ${_zp(date.getHours())}:${_zp(date.getMinutes())}:${_zp(date.getSeconds())}`, /** @const {number} */ 'FALSE': 0, /** @const {number} */ 'TRUE': 1, /** @const {number} */ 'DEFAULT': 2, /** * Gets a numeric value (0, 1 or 2) from a set of possible values: `false`, `true` and `default`. * @param {?string} val - The text to be parsed * @param {?any} def - An optional default value * @returns {number} */ getTriState: (val, def = Utils.DEFAULT) =&gt; val === 'true' ? Utils.TRUE : val === 'false' ? Utils.FALSE : def, /** * Returns a string with the given `tag` repeated n times * @param {string} tag - The tag to be repeated * @param {number} repeats - The number of times to repeat the tag * @returns {string} */ fillString: (tag, repeats = 0) =&gt; Array(repeats).fill(tag).join(''), /** * Checks if the provided value is 'null' or 'undefined'. * @param {*} val - The value to be parsed * @returns {boolean} */ isNullOrUndef: val =&gt; typeof val === 'undefined' || val === null, /** * Checks if two expressions are equivalent. * Returns `true` when both parameters are `null` or `undefined`, and also when both have * equivalent values. * @param {!*} a * @param {!*} b * @returns {boolean} */ isEquivalent: (a, b) =&gt; (typeof a === 'undefined' || a === null) &amp;&amp; (typeof b === 'undefined' || b === null) || a === b, /** * Reads paragraphs, identified by `&lt;p&gt;&lt;/p&gt;` elements, inside XML data * @param {object} xml - The DOM-XML element to be parsed * @returns {string} */ getXmlText: xml =&gt; { let text = '' $(xml).children('p').each((_n, child) =&gt; { text += `&lt;p&gt;${child.textContent}&lt;/p&gt;` }) return text }, /** * Parses the provided XML element node, returning a complex object * @param {object} xml - The root XML element to parse * @returns {object} */ parseXmlNode: xml =&gt; { // Initialize the resulting object const result = {} // Direct copy of root element attributes as object properties if (xml.attributes) Utils.attrForEach(xml.attributes, (name, value) =&gt; result[name] = /^-?\\d*$/.test(value) ? Number(value) : value) // Process children elements const keys = [] const children = xml.children || xml.childNodes for (let n = 0; n &lt; children.length; n++) { const child = children[n] // Recursive processing of children const ch = Utils.parseXmlNode(child) // Store the result into a temporary object named as the child node name, if (!result[child.nodeName]) { // Create object and save key for later processing result[child.nodeName] = {} keys.push(child.nodeName) } // Use 'id' (or an incremental number if 'id' is not set) as a key if (ch.id) result[child.nodeName][ch.id] = ch else { const n = Object.keys(result[child.nodeName]).length result[child.nodeName][n] = ch } } // Check temporary objects, converting it to an array, a single object or a complex object keys.forEach(k =&gt; { // Retrieve temporary object from `keys` const kx = Object.keys(result[k]) // If all keys are numbers, convert object into an array (or leave it as a single object) if (!kx.find(kk =&gt; isNaN(kk))) { if (kx.length === 1) // Array with a single element. Leave it as a simple object: result[k] = result[k][0] else { // Object with numeric keys. Convert it to array: const arr = [] kx.forEach(kk =&gt; arr.push(result[k][kk])) result[k] = arr } } }) // Save text content, if any: if (children.length === 0 &amp;&amp; xml.textContent) result.textContent = xml.textContent return result }, /** * Creates a string suitable to be used in the 'style' attribute of HTML tags, filled with the * CSS attributes contained in the provided object. * @param {object} cssObj * @returns {string} */ cssToString: cssObj =&gt; Object.keys(cssObj).reduce((s, key) =&gt; `${s}${key}:${cssObj[key]};`, ''), /** * Converts java-like color codes (like '0xRRGGBB') to valid CSS values like '#RRGGBB' or 'rgba(r,g,b,a)' * @param {string=} color - A color, as codified in Java * @param {string=} defaultColor - The default color to be used * @returns {string} */ checkColor: (color, defaultColor = Utils.settings.BoxBase.BACK_COLOR) =&gt; { if (typeof color === 'undefined' || color === null) color = defaultColor color = color.replace('0x', '#') // Check for Alpha value if (color.charAt(0) === '#' &amp;&amp; color.length &gt; 7) { const alpha = parseInt(color.substring(1, 3), 16) / 255.0 color = `rgba(${parseInt(color.substring(3, 5), 16)},${parseInt(color.substring(5, 7), 16)},${parseInt(color.substring(7, 9), 16)},${alpha})` } return color }, /** * Checks if the provided color has an alpha value less than 1 * @param {string} color - The color to be analyzed * @returns {boolean} */ colorHasTransparency: color =&gt; { if (Utils.startsWith(color, 'rgba(')) { var alpha = parseInt(color.substr(color.lastIndexOf(','))) return typeof alpha === 'number' &amp;&amp; alpha &lt; 1.0 } return false }, /** * Clones the provided object * See: https://stackoverflow.com/questions/41474986/how-to-clone-a-javascript-es6-class-instance * @param {object} obj * @returns {object} */ //cloneObject: obj =&gt; Object.assign(Object.create(Object.getPrototypeOf(obj)), obj), cloneObject: obj =&gt; $.extend(true, Object.create(Object.getPrototypeOf(obj)), obj), /** * Converts string values to number or boolean when needed * @param {Object} obj - The object to be processed * @returns {Object} - A new object with normalized content */ normalizeObject: obj =&gt; { const result = {} if (obj) $.each(obj, (key, value) =&gt; { let s if (typeof value === 'string' &amp;&amp; (s = value.trim().toLowerCase()) !== '') value = s === 'true' ? true : s === 'false' ? false : isNaN(s) ? value : Number(s) result[key] = value }) return result }, /** * Check if the given char is a separator * @param {string} ch - A string with a single character * @returns {boolean} */ isSeparator: ch =&gt; ' .,;-|'.includes(ch), /** * Rounds `v` to the nearest multiple of `n` * @param {number} v * @param {number} n - Cannot be zero! * @returns {number} */ roundTo: (v, n) =&gt; Math.round(v / n) * n, /** * Compares the provided answer against multiple valid options. These valid options are * concatenated in a string, separated by pipe chars (`|`). The comparing can be case sensitive. * @param {string} answer - The text to check against to * @param {string} check - String containing one or multiple options, separated by `|` * @param {boolean} checkCase - When true, the comparing will be case-sensitive * @returns {boolean} */ compareMultipleOptions: (answer, check, checkCase) =&gt; { if (answer === null || answer.length === 0 || check === null || check.length === 0) return false if (!checkCase) answer = answer.toUpperCase() answer = answer.trim() for (let token of check.split('|')) { if (answer === (checkCase ? token : token.toUpperCase()).trim()) return true } return false }, /** * Checks if the given string ends with the specified expression * @param {string} text - The string where to find the expression * @param {string} expr - The expression to search for. * @param {boolean=} trim - When `true`, the `text` string will be trimmed before check * @returns {boolean} */ endsWith: (text = '', expr, trim) =&gt; typeof text === 'string' &amp;&amp; (trim ? text.trim() : text).endsWith(expr), /** * Checks if the given string starts with the specified expression * @param {string} text - The string where to find the expression * @param {string} expr - The expression to search for. * @param {boolean=} trim - When `true`, the `text` string will be trimmed before check * @returns {boolean} */ startsWith: (text = '', expr, trim) =&gt; typeof text === 'string' &amp;&amp; (trim ? text.trim() : text).indexOf(expr) === 0, /** * Replaces all occurrences of the backslash character (`\\`) by a regular slash (`/`) * This is useful to normalize bad path names present in some old JClic projects * @param {String} str - The string to be normalized * @returns {string} */ nSlash: str =&gt; str ? str.replace(/\\\\/g, '/') : str, /** * Checks if the given expression is an absolute URL * @param {string} exp - The expression to be checked * @returns {boolean} */ isURL: exp =&gt; /^(filesystem:)?(https?|file|data|ftps?):/i.test(exp), /** * Gets the base path of the given file path (absolute or full URL). This base path always ends * with `/`, meaning it can be concatenated with relative paths without adding a separator. * @param {type} path - The full path to be parsed * @returns {string} */ getBasePath: path =&gt; { const p = path.lastIndexOf('/') return p &gt;= 0 ? path.substring(0, p + 1) : '' }, /** * Gets the full path of `file` relative to `basePath` * @param {string} file - The file name * @param {string=} path - The base path * @returns {string} */ getRelativePath: (file, path) =&gt; (!path || path === '' || file.indexOf(path) !== 0) ? file : file.substr(path.length), /** * Gets the complete path of a relative or absolute URL, using the provided `basePath` * @param {string} basePath - The base URL * @param {string} path - The filename * @returns {string} */ getPath: (basePath, path) =&gt; Utils.isURL(path) ? path : basePath + path, /** * Gets a promise with the complete path of a relative or absolute URL, using the provided `basePath` * @param {string} basePath - The base URL * @param {string} path - The filename * @param {?external:JSZip} zip - An optional {@link external:JSZip} object where to look * for the file * @returns {Promise} */ getPathPromise: (basePath, path, zip) =&gt; { if (zip) { const fName = Utils.getRelativePath(basePath + path, zip.zipBasePath) if (zip.files[fName]) { return new Promise((resolve, reject) =&gt; { zip.file(fName).async('base64').then(data =&gt; { const ext = path.toLowerCase().split('.').pop() const mime = Utils.settings.MIME_TYPES[ext] || 'application/octet-stream' resolve(`data:${mime};base64,${data}`) }).catch(reject) }) } } return Promise.resolve(Utils.getPath(basePath, path)) }, /** * Utility object that provides several methods to build simple and complex DOM objects * @type {object} */ $HTML: { doubleCell: (a, b) =&gt; $('&lt;tr/&gt;').append($('&lt;td/&gt;').html(a)).append($('&lt;td/&gt;').html(b)), p: txt =&gt; $('&lt;p/&gt;').html(txt), td: (txt, className) =&gt; $('&lt;td/&gt;', className ? { class: className } : null).html(txt), th: (txt, className) =&gt; $('&lt;th/&gt;', className ? { class: className } : null).html(txt), }, /** * Checks if the current browser allows to put HTML elements in full screen mode * @returns {boolean} */ screenFullAllowed: () =&gt; screenfull &amp;&amp; screenfull.enabled, /** * Replaces `width`, `height` and `fill` attributes of a simple SVG image * with the provided values * @param {string} svg - The SVG image as XML string * @param {string=} width - Optional setting for &quot;width&quot; property * @param {string=} height - Optional setting for &quot;height&quot; property * @param {string=} fill - Optional setting for &quot;fill&quot; property * @returns {string} - The resulting svg code */ getSvg: (svg, width, height, fill) =&gt; { if (width) svg = svg.replace(/width=\\&quot;\\d*\\&quot;/, `width=&quot;${width}&quot;`) if (height) svg = svg.replace(/height=\\&quot;\\d*\\&quot;/, `height=&quot;${height}&quot;`) if (fill) svg = svg.replace(/fill=\\&quot;[#A-Za-z0-9]*\\&quot;/, `fill=&quot;${fill}&quot;`) return svg }, /** * Encodes a svg expression into a {@link https://developer.mozilla.org/en-US/docs/Web/HTTP/data_URIs|data URI} * suitable for the `src` property of `img` elements, optionally changing its original size and fill values. * @param {string} svg - The SVG image as XML string * @param {string=} width - Optional setting for &quot;width&quot; property * @param {string=} height - Optional setting for &quot;height&quot; property * @param {string=} fill - Optional setting for &quot;fill&quot; property * @returns {string} - The resulting Data URI */ svgToURI: (svg, width, height, fill) =&gt; 'data:image/svg+xml;base64,' + btoa(Utils.getSvg(svg, width, height, fill)), /** * Converts the given expression into a valid value for CSS size values * @param {string|number} exp - The expression to be evaluated (can be a valid value, `null` or `undefined`) * @param {Object} css - An optional Object where the resulting expression (if any) will be saved * @param {string} key - The key under which the result will be stored in `css` * @param {string} def - Default value to be used when `exp` is `null` or `undefined` * @returns {string} - A valid CSS value, or `null` if it can't be found. Default units are `px` */ toCssSize: (exp, css, key, def) =&gt; { const result = typeof exp === 'undefined' || exp === null ? null : isNaN(exp) ? exp : `${exp}px` if (css &amp;&amp; key &amp;&amp; (result || def)) css[key] = result !== null ? result : def return result }, /** * Gets a clip of the give image data, in a URL base64 encoded format * @param {object} img - The binary data of the realized image, usually obtained from a {@link MediaBagElement} * @param {AWT.Rectangle} rect - A rectangle containing the requested clip * @returns {string} - The URL with the image clip, as a PNG file encoded in base64 */ getImgClipUrl: (img, rect) =&gt; { const canvas = document.createElement('canvas') canvas.width = rect.dim.width canvas.height = rect.dim.height const ctx = canvas.getContext('2d') let result = '' try { ctx.drawImage(img, rect.pos.x, rect.pos.y, rect.dim.width, rect.dim.height, 0, 0, rect.dim.width, rect.dim.height) result = canvas.toDataURL() } catch (err) { // catch 'tainted canvases may not be exported' and other errors Utils.log('error', err) } return result }, /** * Finds the nearest `head` or root node of a given HTMLElement, useful to place `&lt;style/&gt;` elements when * the main component of JClic is behind a shadow-root. * This method will be replaced by a call to [Node.getRootNode()](https://developer.mozilla.org/en-US/docs/Web/API/Node/getRootNode) * when fully supported by all major browsers. * @param {Node=} el - The element from which to start the search * @returns {Node} */ getRootHead: el =&gt; { if (el) { // Skip HTMLElements while (el.parentElement) el = el.parentElement // Get the parent node of the last HTMLElement if (el instanceof HTMLElement) el = el.parentNode || el // If the root node has a `head`, take it el = el['head'] || el } return el || document.head }, /** * Appends a stylesheet element to the `head` or root node nearest to the given `HTMLElement`. * @param {String} css - The content of the stylesheet * @param {PlayStation=} ps - An optional `PlayStation` (currently a {@link JClicPlayer}) used as a base to find the root node * @returns {HTMLStyleElement} - The appended style element */ appendStyleAtHead: (css, ps) =&gt; { const root = Utils.getRootHead(ps &amp;&amp; ps.$topDiv ? ps.$topDiv[0] : null) const style = document.createElement('style') style.type = 'text/css' style.appendChild(document.createTextNode(css)) return root.appendChild(style) }, /** * Traverses all the attributes defined in an Element, calling a function with its name and value as a parameters * @param {external:NamedNodeMap} attributes - The [Element.attributes](https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes) * object to be traversed * @param {function} callback - The function to be called for each [Attr](https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap) * object. It should take two parametres: `name` and `value` */ attrForEach(attributes, callback) { for (let i = 0; i &lt; attributes.length; i++) callback(attributes[i].name, attributes[i].value) }, /** * Global constants * @const */ settings: { // layout constants AB: 0, BA: 1, AUB: 2, BUA: 3, LAYOUT_NAMES: ['AB', 'BA', 'AUB', 'BUA'], DEFAULT_WIDTH: 400, DEFAULT_HEIGHT: 300, MINIMUM_WIDTH: 40, MINIMUM_HEIGHT: 40, DEFAULT_NAME: '---', DEFAULT_MARGIN: 8, DEFAULT_SHUFFLES: 31, DEFAULT_GRID_ELEMENT_SIZE: 20, MIN_CELL_SIZE: 10, //DEFAULT_BG_COLOR: '#D3D3D3', // LightGray DEFAULT_BG_COLOR: '#C0C0C0', // LightGray ACTIONS: { ACTION_MATCH: 'MATCH', ACTION_PLACE: 'PLACE', ACTION_WRITE: 'WRITE', ACTION_SELECT: 'SELECT', ACTION_HELP: 'HELP' }, PREVIOUS: 0, MAIN: 1, END: 2, END_ERROR: 3, NUM_MSG: 4, MSG_TYPE: ['previous', 'initial', 'final', 'finalError'], RANDOM_CHARS: &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;, NUM_COUNTERS: 3, MAX_RECORD_LENGTH: 20, // BoxBase defaults BoxBase: { REDUCE_FONT_STEP: 1.0, MIN_FONT_SIZE: 8, STROKE: 1, AC_MARGIN: 6, //BACK_COLOR: 'lightgray', BACK_COLOR: '#C0C0C0', TEXT_COLOR: 'black', SHADOW_COLOR: 'gray', INACTIVE_COLOR: 'gray', ALTERNATIVE_COLOR: 'gray', BORDER_COLOR: 'black', BORDER_STROKE_WIDTH: 0.75, MARKER_STROKE_WIDTH: 2.75 }, FILE_TYPES: { image: 'gif,jpg,png,jpeg,bmp,ico,svg', audio: 'wav,mp3,ogg,oga,au,aiff,flac', video: 'avi,mov,mpeg,mp4,ogv,m4v,webm', font: 'ttf,otf,eot,woff,woff2', midi: 'mid,midi', anim: 'swf', // Used in custom skins xml: 'xml' }, MIME_TYPES: { xml: 'text/xml', gif: 'image/gif', jpg: 'image/jpeg', jpeg: 'image/jpeg', png: 'image/png', bmp: 'image/bmp', svg: 'image/svg+xml', ico: 'image/x-icon', wav: 'audio/wav', mp3: 'audio/mpeg', mp4: 'video/mp4', m4v: 'video/mp4', ogg: 'audio/ogg', oga: 'audio/ogg', ogv: 'video/ogg', webm: 'video/webm', au: 'audio/basic', aiff: 'audio/x-aiff', flac: 'audio/flac', avi: 'video/avi', mov: 'video/quicktime', mpeg: 'video/mpeg', ttf: 'application/font-sfnt', otf: 'application/font-sfnt', eot: ' application/vnd.ms-fontobject', woff: 'application/font-woff', woff2: 'application/font-woff2', swf: 'application/x-shockwave-flash' }, // Global settings susceptible to be modified COMPRESS_IMAGES: true, // Keyboard key codes VK: { LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40 }, // Flag to indicate that we are running on a touch device TOUCH_DEVICE: false, // Amount of time (in milliseconds) to wait before a media resource is loaded LOAD_TIMEOUT: 10000, // Number of points to be calculated as polygon vertexs when simplifying bezier curves BEZIER_POINTS: 4, // Check if canvas accessibility features are enabled // See: http://codepen.io/francesc/pen/amwvRp CANVAS_HITREGIONS: typeof CanvasRenderingContext2D !== 'undefined' &amp;&amp; typeof CanvasRenderingContext2D.prototype.addHitRegion === 'function', CANVAS_HITREGIONS_FOCUS: typeof CanvasRenderingContext2D !== 'undefined' &amp;&amp; typeof CanvasRenderingContext2D.prototype.drawFocusIfNeeded === 'function' }, // // Functions useful to deal with caret position in `contentEditable` DOM elements // /** * Gets the caret position within the given element. Thanks to * {@link http://stackoverflow.com/users/96100/tim-down|Tim Down} answers in: * {@link http://stackoverflow.com/questions/4811822/get-a-ranges-start-and-end-offsets-relative-to-its-parent-container} * and {@link http://stackoverflow.com/questions/6240139/highlight-text-range-using-javascript/6242538} * @param {object} element - A DOM element * @returns {number} */ getCaretCharacterOffsetWithin: element =&gt; { let caretOffset = 0 const doc = element.ownerDocument || element.document const win = doc.defaultView || doc.parentWindow let sel if (typeof win.getSelection !== &quot;undefined&quot;) { sel = win.getSelection() if (sel.rangeCount &gt; 0) { const range = win.getSelection().getRangeAt(0) const preCaretRange = range.cloneRange() preCaretRange.selectNodeContents(element) preCaretRange.setEnd(range.endContainer, range.endOffset) caretOffset = preCaretRange.toString().length } } else if ((sel = doc.selection) &amp;&amp; sel.type !== &quot;Control&quot;) { const textRange = sel.createRange() const preCaretTextRange = doc.body.createTextRange() preCaretTextRange.moveToElementText(element) preCaretTextRange.setEndPoint(&quot;EndToEnd&quot;, textRange) caretOffset = preCaretTextRange.text.length } return caretOffset }, /** * Utility function called by {@link Utils~getCaretCharacterOffsetWithin} * @param {object} node - A text node * @returns {object[]} */ getTextNodesIn: function (node) { const textNodes = [] if (node.nodeType === 3) { textNodes.push(node) } else { const children = node.childNodes for (let i = 0, len = children.length; i &lt; len; ++i) { textNodes.push.apply(textNodes, Utils.getTextNodesIn(children[i])) } } return textNodes }, /** * Sets the selection range (or the cursor position, when `start` and `end` are the same) to a * specific position inside a DOM element. * @param {object} el - The DOM element where to set the cursor * @param {number} start - The start position of the selection (or cursor position) * @param {type} end - The end position of the selection. When null or identical to `start`, * indicates a cursor position. */ setSelectionRange: (el, start, end) =&gt; { if (Utils.isNullOrUndef(end)) end = start if (document.createRange &amp;&amp; window.getSelection) { const range = document.createRange() range.selectNodeContents(el) const textNodes = Utils.getTextNodesIn(el) let foundStart = false let charCount = 0, endCharCount, textNode for (let i = 0; i &lt; textNodes.length; i++) { textNode = textNodes[i] endCharCount = charCount + textNode.length if (!foundStart &amp;&amp; start &gt;= charCount &amp;&amp; (start &lt; endCharCount || start === endCharCount &amp;&amp; i + 1 &lt;= textNodes.length)) { range.setStart(textNode, start - charCount) foundStart = true } if (foundStart &amp;&amp; end &lt;= endCharCount) { range.setEnd(textNode, end - charCount) break } charCount = endCharCount } const sel = window.getSelection() sel.removeAllRanges() sel.addRange(range) } else if (document.selection &amp;&amp; document.body.createTextRange) { const textRange = document.body.createTextRange() textRange.moveToElementText(el) textRange.collapse(true) textRange.moveEnd('character', end) textRange.moveStart('character', start) textRange.select() } } } return Utils }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_textGrid_WordSearch.js.html":{"id":"activities_textGrid_WordSearch.js.html","title":"Source: activities/textGrid/WordSearch.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/textGrid/WordSearch.js /** * File : activities/textGrid/WordSearch.js * Created : 15/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../boxes/BoxConnector&quot;, &quot;../../AWT&quot;, &quot;../../boxes/TextGrid&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, BoxConnector, AWT, TextGrid) { /** * This class of {@link Activity} shows a {@link TextGrid} with some words placed in horizontal, * vertical or diagonal direction, written right or upside down. The remaining grid cells will be * filled with randomly selected characters. * * The aim of the activity is to find all the words hidden on the text grid. * The content of an optional {@link ActiveBagContent} can be revealed on an auxiliary panel as * words are found. * @exports WordSearch * @class * @extends Activity */ class WordSearch extends Activity { /** * WordSearch constructor * @param {JClicProject} project - The JClic project to which this activity belongs */ constructor(project) { super(project) } /** * Retrieves the minimum number of actions needed to solve this activity * @override * @returns {number} */ getMinNumActions() { return this.clues.length } /** * This type of activity permits the user to display the solution * @override * @returns {boolean} */ helpSolutionAllowed() { return true } /** * This kind of activity uses random numbers to generate the filling characters * @override * @returns {boolean} */ hasRandom() { return true } } Object.assign(WordSearch.prototype, { /** * String array containing all the valid clues. * @name WordSearch#clues * @type {string[]} */ clues: null, /** * Array of integers containing __for each clue__ the index * of an associated {@link ActiveBoxContent} located on the secondary {@link ActiveBoxBag}. * This associated element is optional. * @name WordSearch#clueItems * @type {number[]} */ clueItems: null, /** * Object that indicates if box grids A and B must be scrambled. * (defaults to _false_ in WordSearch activities) * @name WordSearch#scramble * @type {Activity~scrambleType} */ scramble: { primary: false, secondary: false }, }) /** * The {@link ActivityPanel} where {@link WordSearch} activities are played. * @class * @extends ActivityPanel */ class WordSearchPanel extends Activity.Panel { /** * WordSearchPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) this.resolvedClues = [] } /** * Performs miscellaneous cleaning operations * @override */ clear() { if (this.grid) { this.grid.end() this.grid = null } if (this.bgAlt) { this.bgAlt.end() this.bgAlt = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const tgc = this.act.tgc, abcAlt = this.act.abc['secondary'] if (abcAlt) { if (abcAlt.imgName) { abcAlt.setImgContent(this.act.project.mediaBag, null, false) if (abcAlt.animatedGifFile &amp;&amp; !abcAlt.shaper.rectangularShapes &amp;&amp; !this.act.scramble['secondary']) this.$animatedBg = $('&lt;span/&gt;').css({ 'background-image': `url(${abcAlt.animatedGifFile})`, 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (this.act.acp !== null) this.act.acp.generateContent(0, 0, [abcAlt], false) } if (tgc) { this.grid = TextGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, tgc, false) if (abcAlt) { this.bgAlt = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abcAlt) if (this.$animatedBg &amp;&amp; this.bgAlt.backgroundBox) this.bgAlt.backgroundBox['tmpTrans'] = true } this.grid.setVisible(true) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.grid) { this.grid.setChars(this.act.tgc.text) this.grid.randomize() this.grid.setAllCellsAttribute(TextGrid.flags.INVERTED, false) this.resolvedClues = Array(this.act.clueItems.length).fill(false) if (this.bgAlt) { this.bgAlt.setContent(this.act.abc['secondary']) if (this.$animatedBg) this.bgAlt.clearAllBoxes() if (this.act.scramble['secondary']) this.shuffle([this.bgAlt], true, true) this.bgAlt.setVisible(this.$animatedBg !== null) } this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.grid &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.grid.update(ctx, dirtyRegion) if (this.bgAlt) this.bgAlt.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { if (!this.grid || this.getBounds().equals(preferredMaxSize)) return preferredMaxSize if (this.bgAlt) return BoxBag.layoutDouble(preferredMaxSize, this.grid, this.bgAlt, this.act.boxGridPos, this.act.margin) else return BoxBag.layoutSingle(preferredMaxSize, this.grid, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.grid) { // Create the main canvas this.$canvas = $(`&lt;canvas width=&quot;${rect.dim.width}&quot; height=&quot;${rect.dim.height}&quot;/&gt;`).css({ position: 'absolute', top: 0, left: 0 }) // Resize animated gif background if (this.$animatedBg &amp;&amp; this.bgAlt) { const bgRect = this.bgAlt.getBounds() this.$animatedBg.css({ left: bgRect.pos.x, top: bgRect.pos.y, width: `${bgRect.dim.width}px`, height: `${bgRect.dim.height}px`, 'background-size': `${bgRect.dim.width}px ${bgRect.dim.height}px` }) } this.$div.append(this.$canvas) // Create a [BoxConnector](BoxConnector.html) and attach it to the canvas context this.bc = new BoxConnector(this, this.$canvas.get(-1).getContext('2d')) // Repaint all this.invalidate().update() } } /** * Calculates the current score * @returns {number} */ getCurrentScore() { return this.resolvedClues.reduce((n, resolved) =&gt; resolved ? ++n : n, 0) } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.bc &amp;&amp; this.playing) { // // The [AWT.Point](AWT.html#Point) where the mouse or touch event has been originated let p = null // // _touchend_ event don't provide pageX nor pageY information if (event.type === 'touchend') p = this.bc.active ? this.bc.dest.clone() : new AWT.Point() else { // Touch events can have more than one touch, so `pageX` must be obtained from `touches[0]` const x = event.originalEvent.touches ? event.originalEvent.touches[0].pageX : event.pageX, y = event.originalEvent.touches ? event.originalEvent.touches[0].pageY : event.pageY p = new AWT.Point(x - this.$div.offset().left, y - this.$div.offset().top) } // Flag for tracking `mouseup` events let up = false // Flag for assuring that only one media plays per event (avoid event sounds overlapping // cell's media sounds) let m = false // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] switch (event.type) { case 'touchcancel': // Canvel movement if (this.bc.active) this.bc.end() break case 'mouseup': // Don't consider drag moves below 3 pixels. Can be a &quot;trembling click&quot; if (this.bc.active &amp;&amp; p.distanceTo(this.bc.origin) &lt;= 3) break up = true /* falls through */ case 'touchend': case 'touchstart': case 'mousedown': if (!this.bc.active) { // A new word selection starts // // Selection of words can never start with a `mouseup` event if (up) break this.ps.stopMedia(1) if (this.grid.contains(p)) { this.playEvent('click') this.bc.begin(p) } } else { this.ps.stopMedia(1) // Word selection completed // // Find the active boxes behind `bc.origin` and `p` const pt1 = this.grid.getLogicalCoords(this.bc.origin), pt2 = this.grid.getLogicalCoords(this.bc.dest) this.bc.end() const s = this.grid.getStringBetween(pt1.x, pt1.y, pt2.x, pt2.y) if (s !== null &amp;&amp; s.length &gt; 0) { let ok = false, c = 0 for (; c &lt; this.act.clues.length; c++) { if (s === this.act.clues[c]) { ok = true break } } const repeated = this.resolvedClues[c] if (ok &amp;&amp; !repeated) { this.resolvedClues[c] = true this.grid.setAttributeBetween(pt1.x, pt1.y, pt2.x, pt2.y, TextGrid.flags.INVERTED, true) if (this.bgAlt !== null) { const k = this.act.clueItems[c] if (k &gt;= 0 &amp;&amp; k &lt; this.bgAlt.getNumCells()) { const bx = this.bgAlt.getActiveBox(this.act.clueItems[c]) if (bx) { bx.setVisible(this.$animatedBg === null) m = bx.playMedia(this.ps, delayedActions) } } } } if (!repeated) { const r = this.getCurrentScore() this.ps.reportNewAction(this.act, 'ACTION_SELECT', s, null, ok, r) if (r === this.act.clues.length) this.finishActivity(true) else if (!m) this.playEvent(ok ? 'actionOK' : 'actionError') this.invalidate() } else if (!ok &amp;&amp; !m) this.playEvent('actionError') } else this.playEvent('actionError') this.update() } break case 'mousemove': case 'touchmove': this.bc.moveTo(p) break } delayedActions.forEach(action =&gt; action()) event.preventDefault() } } } Object.assign(WordSearchPanel.prototype, { /** * The {@link TextGrid} object of this ActivityPanel * @name WordSearchPanel#grid * @type {TextGrid} */ grid: null, /** * An optional {@link ActiveBoxBag} used to display information associated with the hidden words. * @name WordSearchPanel#bgAlt * @type {ActiveBoxBag} */ bgAlt: null, /** * An array of boolean values indicating which clues have been found * @name WordSearchPanel#resolvedClues * @type {boolean[]} */ resolvedClues: null, /** * The box connector object * @name WordSearchPanel#bc * @type {BoxConnector} */ bc: null, /** * Mouse and touch events intercepted by this panel * @override * @name WordSearchPanel#events * @type {string[]} */ events: ['mousedown', 'mouseup', 'mousemove', 'touchstart', 'touchend', 'touchmove', 'touchcancel'], }) /** * Panel class associated to this type of activity: {@link WordSearchPanel} * @type {class} */ WordSearch.Panel = WordSearchPanel // Register class in Activity.prototype Activity.CLASSES['@textGrid.WordSearch'] = WordSearch return WordSearch }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"activities_text_WrittenAnswer.js.html":{"id":"activities_text_WrittenAnswer.js.html","title":"Source: activities/text/WrittenAnswer.js","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Source: activities/text/WrittenAnswer.js /** * File : activities/text/WrittenAnswer.js * Created : 04/06/2015 * By : Francesc Busquets &lt;francesc@gmail.com&gt; * * JClic.js * An HTML5 player of JClic activities * https://projectestac.github.io/jclic.js * * @source https://github.com/projectestac/jclic.js * * @license EUPL-1.1 * @licstart * (c) 2000-2018 Catalan Educational Telematic Network (XTEC) * * Licensed under the EUPL, Version 1.1 or -as soon they will be approved by * the European Commission- subsequent versions of the EUPL (the &quot;Licence&quot;); * You may not use this work except in compliance with the Licence. * * You may obtain a copy of the Licence at: * https://joinup.ec.europa.eu/software/page/eupl * * Unless required by applicable law or agreed to in writing, software * distributed under the Licence is distributed on an &quot;AS IS&quot; basis, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * Licence for the specific language governing permissions and limitations * under the Licence. * @licend */ /* global define */ define([ &quot;jquery&quot;, &quot;../../Activity&quot;, &quot;../../boxes/ActiveBoxGrid&quot;, &quot;../../boxes/BoxBag&quot;, &quot;../../AWT&quot;, &quot;../../Utils&quot;, &quot;../../shapers/Rectangular&quot; ], function ($, Activity, ActiveBoxGrid, BoxBag, AWT, Utils, Rectangular) { /** * This class of {@link Activity} shows a panel with {@link ActiveBox} objects acting as cells * with questions. The answers to these questions must be written in a separate text field. * * The ActiveBox objects are filled with data stored in {@link ActiveBagContent} repositories. * * A second {@link ActiveBagContent} can be used as alternative content, revealed as the questions * are solved. * @exports WrittenAnswer * @class * @extends Activity */ class WrittenAnswer extends Activity { /** * WrittenAnswer constructor * @param {JClicProject} project - The JClic project to which this activity belongs */ constructor(project) { super(project) } /** * Loads this object settings from an XML element * @override * @param {external:jQuery} $xml - The jQuery XML element to parse */ setProperties($xml) { super.setProperties($xml) this.abc['primary'].avoidAllIdsNull(this.abc['answers'].getNumCells()) } /** * Retrieves the minimum number of actions needed to solve this activity * @override * @returns {number} */ getMinNumActions() { return this.invAss ? this.abc['answers'].getNumCells() : this.abc['primary'].getNumCells() - this.nonAssignedCells } /** * This activity uses random values to scramble its internal components * @override * @returns {boolean} */ hasRandom() { return true } /** * This activity makes use of the keyboard * @override * @returns {boolean} */ needsKeyboard() { return true } /** * This activity can permit the user to display the solution * @override * @returns {boolean} */ helpSolutionAllowed() { return true } } Object.assign(WrittenAnswer.prototype, { /** * Number of unassigned cells * @name WrittenAnswer#nonAssignedCells * @type {number} */ nonAssignedCells: 0, /** * Whether to use or not the cell's `idAss` field to check if pairings match * @name WrittenAnswer#useIdAss * @type {boolean} */ useIdAss: true, }) /** * The {@link ActivityPanel} where {@link WrittenAnswer} activities are played. * @class * @extends ActivityPanel */ class WrittenAnswerPanel extends Activity.Panel { /** * WrittenAnswerPanel constructor * @param {Activity} act - The {@link Activity} to which this Panel belongs * @param {JClicPlayer} ps - Any object implementing the methods defined in the * [PlayStation](http://projectestac.github.io/jclic/apidoc/edu/xtec/jclic/PlayStation.html) * Java interface. * @param {external:jQuery=} $div - The jQuery DOM element where this Panel will deploy */ constructor(act, ps, $div) { super(act, ps, $div) } /** * Performs miscellaneous cleaning operations * @override */ clear() { if (this.bgA) { this.bgA.end() this.bgA = null } if (this.bgB) { this.bgB.end() this.bgB = null } } /** * Prepares the visual components of the activity * @override */ buildVisualComponents() { if (this.firstRun) super.buildVisualComponents() this.clear() const abcA = this.act.abc['primary'], abcB = this.act.abc['answers'], solved = this.act.abc['solvedPrimary'] if (abcA &amp;&amp; abcB) { if (this.act.invAss) this.invAssCheck = Array(abcB.getNumCells()).fill(false) if (abcA.imgName) { abcA.setImgContent(this.act.project.mediaBag, null, false) if (abcA.animatedGifFile &amp;&amp; !abcA.shaper.rectangularShapes &amp;&amp; !this.act.scramble['primary']) this.$animatedBg = $('&lt;span/&gt;').css({ 'background-image': 'url(' + abcA.animatedGifFile + ')', 'background-position': 'center', 'background-repeat': 'no-repeat', position: 'absolute' }).appendTo(this.$div) } if (solved &amp;&amp; solved.imgName) solved.setImgContent(this.act.project.mediaBag, null, false) if (this.act.acp !== null) { const contentKit = [abcA, abcB] if (solved) contentKit.push(solved) this.act.acp.generateContent(abcA.nch, abcA.ncw, contentKit, false) } this.bgA = ActiveBoxGrid.createEmptyGrid(null, this, this.act.margin, this.act.margin, abcA) let w = abcB.w if (this.act.boxGridPos === 'AUB' || this.act.boxGridPos === 'BUA') w = abcA.getTotalWidth() // // bgB will be used only as a placeholder for `$textField` this.bgB = new ActiveBoxGrid(null, this, abcB.bb, this.act.margin, this.act.margin, w, abcB.h, new Rectangular(1, 1)) this.$form = $('&lt;form/&gt;', { id: 'form1', action: '#' }) this.$form.submit(event =&gt; { event.preventDefault() if (this.playing) { this.setCurrentCell(this.currentCell) } }) this.$textField = $('&lt;input/&gt;', { type: 'text', size: 200 }).css(abcB.bb.getCSS()).css({ position: 'absolute', top: 0, left: 0, border: 0, padding: 0, margin: 0, 'text-align': 'center' }) this.$div.append(this.$form.append(this.$textField)) this.bgA.setContent(abcA, solved || null) this.bgA.setDefaultIdAss() if (this.$animatedBg) this.bgA.setCellAttr('tmpTrans', true) this.act.nonAssignedCells = 0 for (let i = 0; i &lt; this.bgA.getNumCells(); i++) { var bx = this.bgA.getActiveBox(i) if (bx.idAss === -1) { this.act.nonAssignedCells++ bx.switchToAlt(this.ps) } } this.bgA.setVisible(true) this.bgB.setVisible(false) } } /** * Basic initialization procedure * @override */ initActivity() { super.initActivity() if (!this.firstRun) this.buildVisualComponents() else this.firstRun = false if (this.bgA &amp;&amp; this.bgB) { // Scramble cells if (this.act.scramble.primary) this.shuffle([this.bgA], true, true) if (this.useOrder) this.currentItem = this.bgA.getNextItem(-1) this.setAndPlayMsg('initial', 'start') this.invalidate().update() this.playing = true } } /** * Called by [JClicPlayer](JClicPlayer.html) when this activity panel is fully visible, just * after the initialization process. * @override */ activityReady() { super.activityReady() this.setCurrentCell(0) } /** * Updates the graphic content of this panel. * This method will be called from {@link AWT.Container#update} when needed. * @override * @param {AWT.Rectangle} dirtyRegion - Specifies the area to be updated. When `null`, * it's the whole panel. */ updateContent(dirtyRegion) { super.updateContent(dirtyRegion) if (this.bgA &amp;&amp; this.$canvas) { const canvas = this.$canvas.get(-1), ctx = canvas.getContext('2d') if (!dirtyRegion) dirtyRegion = new AWT.Rectangle(0, 0, canvas.width, canvas.height) ctx.clearRect(dirtyRegion.pos.x, dirtyRegion.pos.y, dirtyRegion.dim.width, dirtyRegion.dim.height) this.bgA.update(ctx, dirtyRegion) } return this } /** * Sets the real dimension of this panel. * @override * @param {AWT.Dimension} preferredMaxSize - The maximum surface available for the activity panel * @returns {AWT.Dimension} */ setDimension(preferredMaxSize) { return (!this.bgA || !this.bgB || this.getBounds().equals(preferredMaxSize)) ? preferredMaxSize : BoxBag.layoutDouble(preferredMaxSize, this.bgA, this.bgB, this.act.boxGridPos, this.act.margin) } /** * Sets the size and position of this activity panel * @override * @param {AWT.Rectangle} rect */ setBounds(rect) { if (this.$canvas) this.$canvas.remove() super.setBounds(rect) if (this.bgA || this.bgB) { const r = rect.clone() if (this.act.boxGridPos === 'AUB') r.height -= this.bgB.pos.y + this.act.margin / 2 else if (this.act.boxGridPos === 'AB') r.width -= this.bgB.pos.x + this.act.margin / 2 // Create the main canvas this.$canvas = $('&lt;canvas width=&quot;' + r.dim.width + '&quot; height=&quot;' + r.dim.height + '&quot;/&gt;').css({ position: 'absolute', top: 0, left: 0 }) // Resize animated gif background if (this.bgA &amp;&amp; this.$animatedBg) { var bgRect = this.bgA.getBounds() this.$animatedBg.css({ left: bgRect.pos.x, top: bgRect.pos.y, width: bgRect.dim.width + 'px', height: bgRect.dim.height + 'px', 'background-size': bgRect.dim.width + 'px ' + bgRect.dim.height + 'px' }) this.$canvas.insertAfter(this.$animatedBg) } else this.$div.prepend(this.$canvas) if (this.$textField) { this.$textField.css({ top: this.bgB.pos.y, left: this.bgB.pos.x, width: this.bgB.dim.width, height: this.bgB.dim.height, zIndex: 9 }) } // Repaint all this.invalidate().update() } } /** * Checks if all inverse associations are done * @returns {boolean} */ checkInvAss() { return this.act.invAss &amp;&amp; this.invAssCheck &amp;&amp; this.invAssCheck.every(chk =&gt; chk) } /** * Updates the currently selected cell, evaluating the answer written by the user on the text field. * @param {number} i - Index into the {@link ActiveBoxBag} of the cell to make active * @param {function[]} delayedActions - If set, store the the action in this array for future execution */ setCurrentCell(i, delayedActions = null) { if (!this.playing) return let bx = null, m = false if (this.currentCell !== -1) { let ok = false bx = this.bgA ? this.bgA.getActiveBoxWithIdLoc(this.currentCell) : null if (bx) { bx.setMarked(false) const src = bx.getDescription(), id = bx.idAss, txCheck = id &gt;= 0 ? this.act.abc['answers'].getActiveBoxContent(id).text : '', txAnswer = this.$textField.val().trim() if (Utils.compareMultipleOptions(txAnswer, txCheck, false)) { ok = true bx.idAss = -1 // When in multiple-answer, fill-in textField with the first valid option: const p = txCheck.indexOf('|') if (p &gt;= 0) this.$textField.val(txCheck.substring(0, p)) if (this.act.abc['solvedPrimary']) { bx.switchToAlt(this.ps) m = bx.playMedia(this.ps, delayedActions) } else bx.clear() if (this.act.invAss &amp;&amp; id &gt;= 0 &amp;&amp; id &lt; this.invAssCheck.length) { this.invAssCheck[id] = true } if (this.act.useOrder) this.currentItem = this.bgA.getNextItem(this.currentItem) } const cellsPlaced = this.bgA.countCellsWithIdAss(-1) if (txAnswer.length &gt; 0) { this.ps.reportNewAction(this.act, 'WRITE', src, txAnswer, ok, cellsPlaced) } if (ok &amp;&amp; (this.checkInvAss() || cellsPlaced === this.bgA.getNumCells())) { this.finishActivity(true) this.$textField.prop('disabled', true) this.invalidate().update() return } else if (!m &amp;&amp; txAnswer.length &gt; 0) this.playEvent(ok ? 'actionOk' : 'actionError') } } bx = this.bgA ? this.act.useOrder ? this.bgA.getBox(this.currentItem) : this.bgA.getActiveBoxWithIdLoc(i) : null if (this.bgA &amp;&amp; (!bx || bx.idAss === -1)) { for (var j = 0; j &lt; this.bgA.getNumCells(); j++) { bx = this.bgA.getActiveBoxWithIdLoc(j) if (bx.idAss !== -1) break } if (bx &amp;&amp; bx.idAss === -1) { this.finishActivity(false) this.$textField.prop('disabled', true) this.invalidate().update() return } } // Draw border only if it has more than one cell if (bx &amp;&amp; this.bgA &amp;&amp; this.bgA.getNumCells() &gt; 1) bx.setMarked(true) if (bx) this.currentCell = bx.idLoc this.$textField.val('') this.$textField.focus() this.invalidate().update() if (bx) bx.playMedia(this.ps, delayedActions) } /** * Main handler used to process mouse, touch, keyboard and edit events * @override * @param {HTMLEvent} event - The HTML event to be processed * @returns {boolean=} - When this event handler returns `false`, jQuery will stop its * propagation through the DOM tree. See: {@link http://api.jquery.com/on} */ processEvent(event) { if (this.playing) { // Array to be filled with actions to be executed at the end of event processing const delayedActions = [] switch (event.type) { case 'click': event.preventDefault() this.ps.stopMedia(1) const p = new AWT.Point( event.pageX - this.$div.offset().left, event.pageY - this.$div.offset().top) // Avoid clicks on the text field if (this.bgB.contains(p)) { this.$textField.focus() break } const bx = this.bgA ? this.bgA.findActiveBox(p) : null if (bx &amp;&amp; !bx.isInactive()) { if (bx.getContent() &amp;&amp; bx.getContent().mediaContent === null) this.playEvent('CLICK') this.setCurrentCell(bx.idLoc, delayedActions) } break case 'change': event.preventDefault() this.setCurrentCell(this.currentCell, delayedActions) break } delayedActions.forEach(action =&gt; action()) return false } } } Object.assign(WrittenAnswerPanel.prototype, { /** * The input text field where users write the answers * @name WrittenAnswerPanel#$textField * @type {external:jQuery} */ $textField: null, /** * Array for storing checked associations * @name WrittenAnswerPanel#invAssCheck * @type {boolean[]} */ invAssCheck: null, /** * The {@link ActiveBoxBag} object containing the questions * @name WrittenAnswerPanel#bgA * @type {ActiveBoxBag} */ bgA: null, /** * An optional {@link ActiveBoxBag} with content displayed as cells are solved. * @name WrittenAnswerPanel#bgB * @type {ActiveBoxBag} */ bgB: null, /** * The currently selected cell * @name WrittenAnswerPanel#currentCell * @type {number} */ currentCell: -1, /** * Mouse events intercepted by this panel * @override * @name WrittenAnswerPanel#events * @type {string[]} */ events: ['click', 'change'], }) /** * Panel class associated to this type of activity: {@link WrittenAnswerPanel} * @type {class} */ WrittenAnswer.Panel = WrittenAnswerPanel // Register class in Activity.prototype Activity.CLASSES['@text.WrittenAnswer'] = WrittenAnswer return WrittenAnswer }) × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Modules Classes AbstractBox Action ActionReg ActiveBagContent ActiveBox ActiveBoxBag ActiveBoxContent ActiveBoxGrid ActiveMediaBag ActiveMediaPlayer Activity ActivityPanel ActivityReg ActivitySequence ActivitySequenceElement ActivitySequenceJump Arith Operator AudioBuffer AutoContentProvider ActiveBagContentKit BasicEvaluator BlueSkin BoxBag BoxBase BoxConnector ClassicJigSaw Complete CompletePanel ComplexAssociation ComplexAssociationPanel ComplexEvaluator ConditionalJumpInfo Container Counter CrossWord CrossWordPanel CustomSkin DefaultSkin Dimension DoublePuzzle DoublePuzzlePanel Ellipse EmptySkin Encryption Evaluator EventSounds EventSoundsElement ExchangePuzzle ExchangePuzzlePanel Explore ExplorePanel FillInBlanks FillInBlanksPanel Font Gradient GreenSkin HolePuzzle HolePuzzlePanel Holes Identify IdentifyPanel IdentifyText IdentifyTextPanel InformationScreen InformationScreenPanel JClicPlayer JClicProject JigSaw JumpInfo MediaBag MediaBagElement MediaContent MemoryGame MemoryGamePanel Menu MenuPanel MiniSkin OrangeSkin OrderText OrderTextPanel Path PathStroke PlayerHistory HistoryElement Point ProjectSettings Rectangle Rectangular ReportBean Reporter ReporterInfo SCORM SequenceReg SequenceRegInfo SessionReg SessionRegInfo SessionStorageReporter Shape Shaper SimpleAssociation SimpleAssociationPanel SimpleSkin Skin Stroke TCPReporter TextActivityBase TextActivityBasePanel TextActivityDocument TextGrid TextGridContent TextTarget Timer TriangularJigSaw Utils WordSearch WordSearchPanel WrittenAnswer WrittenAnswerPanel × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Classes Classes AbstractBox Action ActionReg ActiveBagContent ActiveBox ActiveBoxBag ActiveBoxContent ActiveBoxGrid ActiveMediaBag ActiveMediaPlayer Activity ActivityPanel ActivityReg ActivitySequence ActivitySequenceElement ActivitySequenceJump Arith Operator AudioBuffer AutoContentProvider ActiveBagContentKit BasicEvaluator BlueSkin BoxBag BoxBase BoxConnector ClassicJigSaw Complete CompletePanel ComplexAssociation ComplexAssociationPanel ComplexEvaluator ConditionalJumpInfo Container Counter CrossWord CrossWordPanel CustomSkin DefaultSkin Dimension DoublePuzzle DoublePuzzlePanel Ellipse EmptySkin Encryption Evaluator EventSounds EventSoundsElement ExchangePuzzle ExchangePuzzlePanel Explore ExplorePanel FillInBlanks FillInBlanksPanel Font Gradient GreenSkin HolePuzzle HolePuzzlePanel Holes Identify IdentifyPanel IdentifyText IdentifyTextPanel InformationScreen InformationScreenPanel JClicPlayer JClicProject JigSaw JumpInfo MediaBag MediaBagElement MediaContent MemoryGame MemoryGamePanel Menu MenuPanel MiniSkin OrangeSkin OrderText OrderTextPanel Path PathStroke PlayerHistory HistoryElement Point ProjectSettings Rectangle Rectangular ReportBean Reporter ReporterInfo SCORM SequenceReg SequenceRegInfo SessionReg SessionRegInfo SessionStorageReporter Shape Shaper SimpleAssociation SimpleAssociationPanel SimpleSkin Skin Stroke TCPReporter TextActivityBase TextActivityBasePanel TextActivityDocument TextGrid TextGridContent TextTarget Timer TriangularJigSaw Utils WordSearch WordSearchPanel WrittenAnswer WrittenAnswerPanel × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"externals.list.html":{"id":"externals.list.html","title":"Externals","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Externals Classes AbstractBox Action ActionReg ActiveBagContent ActiveBox ActiveBoxBag ActiveBoxContent ActiveBoxGrid ActiveMediaBag ActiveMediaPlayer Activity ActivityPanel ActivityReg ActivitySequence ActivitySequenceElement ActivitySequenceJump Arith Operator AudioBuffer AutoContentProvider ActiveBagContentKit BasicEvaluator BlueSkin BoxBag BoxBase BoxConnector ClassicJigSaw Complete CompletePanel ComplexAssociation ComplexAssociationPanel ComplexEvaluator ConditionalJumpInfo Container Counter CrossWord CrossWordPanel CustomSkin DefaultSkin Dimension DoublePuzzle DoublePuzzlePanel Ellipse EmptySkin Encryption Evaluator EventSounds EventSoundsElement ExchangePuzzle ExchangePuzzlePanel Explore ExplorePanel FillInBlanks FillInBlanksPanel Font Gradient GreenSkin HolePuzzle HolePuzzlePanel Holes Identify IdentifyPanel IdentifyText IdentifyTextPanel InformationScreen InformationScreenPanel JClicPlayer JClicProject JigSaw JumpInfo MediaBag MediaBagElement MediaContent MemoryGame MemoryGamePanel Menu MenuPanel MiniSkin OrangeSkin OrderText OrderTextPanel Path PathStroke PlayerHistory HistoryElement Point ProjectSettings Rectangle Rectangular ReportBean Reporter ReporterInfo SCORM SequenceReg SequenceRegInfo SessionReg SessionRegInfo SessionStorageReporter Shape Shaper SimpleAssociation SimpleAssociationPanel SimpleSkin Skin Stroke TCPReporter TextActivityBase TextActivityBasePanel TextActivityDocument TextGrid TextGridContent TextTarget Timer TriangularJigSaw Utils WordSearch WordSearchPanel WrittenAnswer WrittenAnswerPanel × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage JClic.jsA JavaScript player of JClic activities. JClic and JClic-repoJClic is a free software project from the Catalan Educational Telematic Network (XTEC) for creating various types of interactive activities such as associations, puzzles, text activities, crosswords or puzzles, from elements of text, graphics and multimedia. The program includes an authoring tool to create activities, a player and a reporting system that stores the results obtained by students. All these components, along with some guides and tutorials on how to create activities, are available in the clicZone. JClic is a Java application that runs on Linux, Windows and Mac OS. Full source code and documentation are available on GitHub. Many teachers from different countries have used JClic to create interactive materials for a wide variety of levels, subjects, languages and curriculum areas. Some of these materials have been collected in a huge library created with jclic-repo, another open source project that will facilitate the publication of collections of JClic projects in static web hosting services. JClic project filesGroups of single activities are often grouped in JClic projects and organized in one or more sequences (lists of activities that must be performed in a specific order). The resulting set of activities, sequences and media elements are packaged into JClic project files (files with extension &quot;.jclic.zip&quot;). JClic.js componentsJClic.js makes use of: jQuery to parse XML documents and manage DOM objects JSZip to extract contents from &quot;jclic.zip&quot; files clipboard.js to copy reports data into the user's clipboard i18next to deal with messages translated into different languages screenfull.js to allow activities play at full screen script.js to read JClic projects from local file systems as JSONP webfontloader to dynamically load web fonts as needed The build brocess of JClic.js is based on: npm (the package manager of Node.js) to build, install,update and track package dependencies. webpack to allow the use of npm modules in browsers and package all scripts and assets into a single, minified javascript file. JSDoc to generate this documentation. ESLint to detect possible errors and check code quality. How to set-up the development environtmentJClic.js uses Node.js modules encapsulated in npm packages. First of all, you must have Node.js (which includes 'npm') installed on your system. To install the required packages, just go to the project's root directory and write: npm installThis will install jQuery, webpack and other needed components into node_modules To build jclic.js, just invoke: npm run buildThis will generate the file dist/jclic.min.js To test this resulting bundle and see the demo on your browser, launch the test server: npm startYou can also launch the program in &quot;unbundled&quot; mode, directly invoking the source scripts, useful for debug purposes: npm run debugYou can also build this documentation running npm run build-doc JClic.js main classesJClic.js is organized in three main groups of classes: Player, Document and Utilities. In addition to this, the main JClic class provides methods to read JClic project documents, build players, launch activities and communicate with external reporting systems. PlayerJClicPlayer loads JClic project files, manages the user interaction and acts as a interface between the browser and JClic classes for multiple functions. The player has: Skin: manages the visual appareance. Can have up to three Counter objects. DefaultSkin: is the basic implementation of Skin. BlueSkin, OrangeSkin, GreenSkin, MiniSkin and SimpleSkin: are the implementations of the stock skins of JClic. PlayerHistory: used to track the user's navigation between activities. Reporter: Used to collect and display scores, times and other data generated by users while playing activities. TCPReporter: Special case of Reporter used to connect with external reporting systems like [JClic Reports] (http://clic.xtec.cat/en/jclic/reports/index.htm) or the JClic module for Moodle. SCORM: Utility functions to interact with SCORM 1.2 and 2004 when available SessionStorageReporter: writes the report as a persistent data into the browser session or local storage. Document classesJClicProject encapsulates all data needed to play JClic activities. Its main components are: ProjectSettings A collection of Activity objects (see below) An ActivitySequence formed by ActivitySequenceElement objects. A MediaBag formed by MediaBagElement objects. The Activity class has the following subclasses: SimpleAssociation ComplexAssociation WrittenAnswer MemoryGame Explore Identify InformationScreen DoublePuzzle ExchangePuzzle HolePuzzle TextActivityBase (see below) FillInBlanks Complete IdentifyText OrderText CrossWord WordSearch All classes derived from TextActivityBase have: One TextActivityDocument An Evaluator At run time, all classes derived from Activity generate a specific Activity.Panel, that is a real DOM object with wich users interact. Utility classesAWT:AWT contains some classes similar to those defined in Java's Abstract Window Toolkit: Font Gradient Stroke Point Dimension Shape Rectangle Ellipse Path: formed by PathStroke elements Action Timer Container Boxes:AbstractBox is a special class derived from AWT.Rectangle that has the following subclasses: ActiveBox: an AbstractBox with active content (see below) BoxBag: a collection of AbstractBox objects. ActiveBoxBag: a collection of ActiveBox objects. ActiveBoxGrid: a special case of ActiveBoxBag with boxes distributed in rows and columns. TextGrid: a grid of single letters. Box content: ActiveBoxContent: encapsulates the content of a single ActiveBox. BoxBase: contains style specs (color, gradient, border, font, size...) common to one or more ActiveBoxContent objects. Also used by TextActivityDocument to encapsulate text styles. ActiveBagContent: a collection of ActiveBoxContent objects. TextGridContent: encapsulates the content of a TextGrid object. Shapers: Shaper: describes how to cut a panel in multiple cells. Rectangular: divides the panel in rectangular cells. Holes: a free-form shaper. JigSaw: generates cells with teeth and slots. ClassicJigSaw TriangularJigSaw Media: EventSounds: a collection of EventSoundsElement ActiveMediaBag: a collection of MediaContent ActiveMediaPlayer: performs playing of MediaContent AudioBuffer: Provides sound recording (usually from the microphone) so, in language activities, students can compare their pronunciation with a pattern. Automation: AutoContentProvider: builds dynamic content for activities Arith: random generator of menthal arithmetics operations Jump between sequence points: JumpInfo: stores information about what to do when an activity finishes or when the user clicks on a link or button. ActivitySequenceJump: used by ActivitySequenceElement objects. ConditionalJumpInfo: used to decide where to jump, based on the current timing and scoring Miscellaneous utility classes: BoxConnector: Used to link two cells with a thin line dragged by the user. Utils: Miscellaneous constants and functions. i18n: Internationalization utilities. Sponsors that make possible JClic.jsJClic is an open-source project supported by XTEC, the Telematic Network of the Catalan Ministry of Education We use Transifex as a platform for translations of JClic.js into many languages. Please read TRANSLATIONS.md if you want to contribute to the project creating a new translation or improving the existing ones. Checking the operation of JClic.js on different browsers and platforms is possible thanks to BrowserStack The production releases of JClic.js are smoothly distributed to the final users thanks to XTEC, JSDelivr, unpkg.com and CDNJS. jclic.js is also available as a NPM and Bower packages. × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"AbstractBox.html":{"id":"AbstractBox.html","title":"Class: AbstractBox","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: AbstractBox AbstractBox This abstract class is the base for most graphic components of JClic. It describes an area(by default an AWT.Rectangle) with some special properties that determine how it mustbe drawn on screen. Some types of boxes can act as containers for other boxes, establishing a hierarchy of dependences. &lt;abstract&gt; new AbstractBox(parent, container, boxBase) AbstractBox constructor Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this one belongs container AWT.Container &lt;nullable&gt; The container where this box is placed. boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic propertiesof this box are defined. Source: boxes/AbstractBox.js, line 50 Extends AWT.Rectangle Members $accessibleElement :external:jQuery DOM element used to display this cell content in wai-aria contexts Type: external:jQuery Source: boxes/AbstractBox.js, line 688 $hostedComponent :external:jQuery An external JQuery DOM element hosted by this box Type: external:jQuery Source: boxes/AbstractBox.js, line 698 accessibleAlwaysActive :boolean Flag indicating that $accessibleElement should be always active Type: boolean Source: boxes/AbstractBox.js, line 693 accessibleText :string Text to be used in accessible contexts Type: string Source: boxes/AbstractBox.js, line 678 alternative :boolean Whether this box must be displayed with alternative or regular color and font settings Type: boolean Source: boxes/AbstractBox.js, line 663 border :boolean Whether this box has a border or not Type: boolean Source: boxes/AbstractBox.js, line 623 boxBase :BoxBase The BoxBase related to this AbstractBox. When null, the parent can provide analternative one. Type: BoxBase Source: boxes/AbstractBox.js, line 617 container :AWT.Container The Container to which this AbstractBox belongs Type: AWT.Container Source: boxes/AbstractBox.js, line 612 focused :boolean Whether this box holds the input focus Type: boolean Source: boxes/AbstractBox.js, line 673 inactive :boolean Whether this box is active or inactive Type: boolean Source: boxes/AbstractBox.js, line 653 inverted :boolean Whether this box must be displayed with inverted or regular colors Type: boolean Source: boxes/AbstractBox.js, line 658 marked :boolean Whether this box is marked (selected) or not Type: boolean Source: boxes/AbstractBox.js, line 668 parent :AbstractBox The parent AbstractBox (can be null) Type: AbstractBox Source: boxes/AbstractBox.js, line 607 role :string Describes the main role of this box on the activity. Useful in wai-aria descriptions. Type: string Source: boxes/AbstractBox.js, line 683 shape :AWT.Shape The shape of this box (the box Rectangle or a special Shape, if set) Type: AWT.Shape Source: boxes/AbstractBox.js, line 628 specialShape :boolean Whether this box has a shape that is not a rectangle Type: boolean Source: boxes/AbstractBox.js, line 633 temporaryHidden :boolean Used to temporary hide a box while other drawing operations are done Type: boolean Source: boxes/AbstractBox.js, line 643 tmpTrans :boolean Cells with this attribute will be transparent but with painted border Type: boolean Source: boxes/AbstractBox.js, line 648 visible :boolean Whether this box is visible or not Type: boolean Source: boxes/AbstractBox.js, line 638 Methods contains(p) Check if this box contains the specified point Parameters: Name Type Description p AWT.Point The point to be checked Source: boxes/AbstractBox.js, line 179 Returns: Type boolean drawBorder(ctx) Draws the box border Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas rendering context where the borderwill be drawn. Source: boxes/AbstractBox.js, line 490 end() Finisher method Source: boxes/AbstractBox.js, line 88 getBorderBounds() Returns the enclosing Rectangle of this box including its border (if any) Source: boxes/AbstractBox.js, line 515 Returns: Type AWT.Rectangle getBoxBaseResolve() Gets the real BoxBase associated to this box, scanning down parent relationships. Source: boxes/AbstractBox.js, line 146 Returns: Type BoxBase getContainerResolve() Gets the container associated to this box, asking its parents when null. Source: boxes/AbstractBox.js, line 115 Returns: Type AWT.Container getContainerX() Gets the container attribute of this box, without checking its parent Source: boxes/AbstractBox.js, line 107 Returns: Type AWT.Container getHostedComponent() Gets the current $hostedComponent member Source: boxes/AbstractBox.js, line 551 Returns: Type external:jQuery getParent() Gets the current parent of this box Source: boxes/AbstractBox.js, line 81 Returns: Type AbstractBox getShape() Gets the current shape used in this box Source: boxes/AbstractBox.js, line 169 Returns: Type AWT.Shape hasBorder() Checks if this box has border Source: boxes/AbstractBox.js, line 252 Returns: Type boolean invalidate(rect) Invalidates the zone corresponding to this box in the associated AWT.Container, if any. Parameters: Name Type Description rect AWT.Rectangle The rectangle to be invalidated. When null, it's the fullcontainer area. Source: boxes/AbstractBox.js, line 127 isAlternative() Checks if this box is in alternative state. Source: boxes/AbstractBox.js, line 412 Returns: Type boolean isFocused() Checks if this box has the input focus Source: boxes/AbstractBox.js, line 388 Returns: Type boolean isInactive() Checks if this box is currently inactive. Source: boxes/AbstractBox.js, line 315 Returns: Type boolean isInverted() Checks if this box is in inverted state. Source: boxes/AbstractBox.js, line 344 Returns: Type boolean isMarked() Checks if this box is marked Source: boxes/AbstractBox.js, line 365 Returns: Type boolean isTemporaryHidden() Checks if this box is temporary hidden Source: boxes/AbstractBox.js, line 299 Returns: Type boolean isVisible() Checks if this box is fully visible Source: boxes/AbstractBox.js, line 272 Returns: Type boolean moveBy(dx, dy) Sets a new location to this box. In JClic this method was named translate. Parameters: Name Type Description dx number The displacement on the X axis dy number The displacement on the Y axis Source: boxes/AbstractBox.js, line 235 moveTo(newPos [, y]) Sets a new location for this box. In JClic this method was named setLocation Parameters: Name Type Argument Description newPos AWT.Point | number A point or the x coordinate of a new point. y number &lt;optional&gt; The y coordinate of a new point. Source: boxes/AbstractBox.js, line 224 setAlternative(newVal) Sets this box in alternative mode, or restores its original state. Parameters: Name Type Description newVal boolean Source: boxes/AbstractBox.js, line 420 setBorder(newVal) Sets/unsets a border to this box Parameters: Name Type Description newVal boolean true to set a border. Source: boxes/AbstractBox.js, line 260 setBounds(rect [, y] [, w] [, h]) Sets a new size and/or dimension to this box Parameters: Name Type Argument Description rect AWT.Rectangle | number An AWT.Rectangle object, or the x coordinate of theupper-left corner of a new rectangle. y number &lt;optional&gt; y coordinate of the upper-left corner of the new rectangle. w number &lt;optional&gt; Width of the new rectangle. h number &lt;optional&gt; Height of the new rectangle. Source: boxes/AbstractBox.js, line 192 setBoxBase(boxBase) Sets the BoxBase of this box Parameters: Name Type Description boxBase BoxBase The new BoxBase Source: boxes/AbstractBox.js, line 137 setContainer(newContainer) Setter method for container Parameters: Name Type Description newContainer AWT.Container The new Container assigned to this box Source: boxes/AbstractBox.js, line 95 setFocused(newVal) Sets or unsets the input focus to this box. Parameters: Name Type Description newVal boolean Source: boxes/AbstractBox.js, line 397 setHostedComponent($hc) Sets the $hostedComponent member. Parameters: Name Type Description $hc external:jQuery The jQuery DOM component hosted by this box. Source: boxes/AbstractBox.js, line 531 setHostedComponentBorder() Sets the $hostedComponent border, based on the currentBoxBase of this box. Source: boxes/AbstractBox.js, line 574 setHostedComponentBounds(_sizeChanged) Places and resizes $hostedComponent, based on the sizeand position of this box. Parameters: Name Type Description _sizeChanged boolean true when this ActiveBox has changed its size Source: boxes/AbstractBox.js, line 590 setHostedComponentColors() Sets $hostedComponent colors and other css propertiesbased on the current BoxBase of this box. Source: boxes/AbstractBox.js, line 559 setHostedComponentVisible() Makes AbstractBox#$hostedComponent visible or invisible, based on the value ofthe AbstractBox visible flag. Source: boxes/AbstractBox.js, line 290 setInactive(newVal) Makes this box active (false) or inactive (true) Parameters: Name Type Description newVal boolean Source: boxes/AbstractBox.js, line 323 setInverted(newVal) Puts this box in inverted mode or restores its original state. Parameters: Name Type Description newVal boolean Source: boxes/AbstractBox.js, line 353 setMarked(newVal) Sets this box in marked mode, or restores its original state. Parameters: Name Type Description newVal boolean Source: boxes/AbstractBox.js, line 373 setParent(parent) Setter method for parent Parameters: Name Type Description parent AbstractBox The new parent of this box Source: boxes/AbstractBox.js, line 73 setShape(sh) Sets the shape used to draw the content of this box Parameters: Name Type Description sh AWT.Shape The shape to be set Source: boxes/AbstractBox.js, line 157 setSize(width, height) Changes the size of this box Parameters: Name Type Description width number height number Source: boxes/AbstractBox.js, line 244 setTemporaryHidden(newVal) Makes this box temporary hidden (newVal true) or resets its original state (newVal false) Parameters: Name Type Description newVal boolean Source: boxes/AbstractBox.js, line 307 setVisible(newVal) Sets this box visible or invisible Parameters: Name Type Description newVal boolean true for visible Source: boxes/AbstractBox.js, line 280 update(ctx [, dirtyRegion]) Draws the content of this box on an HTML canvas element. At this level, only backgroundand border are painted/stroked. Derived classes should implement specific drawing tasks inAbstractBox#updateContent. Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Source: boxes/AbstractBox.js, line 433 updateContent(_ctx [, _dirtyRegion]) Here is where classes derived from AbstractBox should implement the drawing of itscontent. Background and border are already painted in AbstractBox#update. Parameters: Name Type Argument Description _ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. _dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Source: boxes/AbstractBox.js, line 482 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Action.html":{"id":"Action.html","title":"Class: Action","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Action Action This class encapsulates actions that can be linked to buttons, menus and other active objects new Action(name, actionPerformed) Action constructor Parameters: Name Type Description name string The name of this Action actionPerformed function The callback to be triggered by this Action Source: AWT.js, line 1550 Members description :string An optional description Type: string Source: AWT.js, line 1618 enabled :boolean Action status. true means enabled, false disabled Type: boolean Source: AWT.js, line 1623 name :string The action's name Type: string Source: AWT.js, line 1613 Methods actionPerformed(_thisAction, _event) Here is where subclasses must define the callback to be triggered whenthis Action object is called Parameters: Name Type Description _thisAction Action Pointer to this Action object _event object The original action event that has originated this action Source: AWT.js, line 1568 addStatusListener(listener) Adds a status listener Parameters: Name Type Description listener function The callback method to be called when the status of thisAction changes Source: AWT.js, line 1589 processEvent(event) This is the method to be passed to DOM event triggers Parameters: Name Type Description event object The event object passed by the DOM event trigger Source: AWT.js, line 1580 Example &lt;p&gt;const myFunc = () =&amp;gt; { alert('Hello!') }&lt;br&gt;const myAction = new Action('hello', myFunc)&lt;br&gt;$( &amp;quot;#foo&amp;quot; ).bind( &amp;quot;click&amp;quot;, myAction.processEvent)&lt;/p&gt; removeStatusListener(listener) Removes a previously registered status listener Parameters: Name Type Description listener function The listener to be removed Source: AWT.js, line 1597 setEnabled(enabled) Enables or disables this action Parameters: Name Type Description enabled boolean Source: AWT.js, line 1605 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActionReg.html":{"id":"ActionReg.html","title":"Class: ActionReg","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActionReg ActionReg This class stores information about one specific action done by the current user while playingan activity. new ActionReg(type, +, +, ok) ActionReg constructor Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object that acts as a target of the action (used in pairings) ok boolean true if the action was OK, false, null or undefined otherwise Source: report/ActionReg.js, line 45 Members dest :string Description of the object that has acted as a target of the action (used in pairings) Type: string Source: report/ActionReg.js, line 111 isOk :boolean true if the action was OK Type: boolean Source: report/ActionReg.js, line 121 source :string Description of the object on which the action was done Type: string Source: report/ActionReg.js, line 106 time :number Time stamp taken when the action was done Type: number Source: report/ActionReg.js, line 116 type :string The type of action (click, write, move, select...) Type: string Source: report/ActionReg.js, line 101 Methods $getXML() Provides the data associated with this action in XML format suitable for aJClic Reports Server. Source: report/ActionReg.js, line 66 Returns: Type external:jQuery setProperties($xml) Fills this ActionReg with data provided in XML format Parameters: Name Type Description $xml external:jQuery The XML element to be processed, already wrapped as jQuery object Source: report/ActionReg.js, line 81 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveBagContent.html":{"id":"ActiveBagContent.html","title":"Class: ActiveBagContent","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveBagContent ActiveBagContent This class packs a collection of ActiveBoxContent objects and provides methods to accessand manage it. The two main members of ActiveBagContent are the Shaper, responsible fordetermining the position and shape of each ActiveBox, and the BoxBase (field bb),provider of a common visual style. new ActiveBagContent( [id], ncw, nch) ActiveBagContent constructor Parameters: Name Type Argument Description id string &lt;optional&gt; An optional text tag identifying this ActiveBagContent ncw number In grid-based distributions, number of columns. nch number In grid-based distributions, number of rows. Source: boxes/ActiveBagContent.js, line 50 Members activeBoxContentArray :Array.&lt;ActiveBoxContent&gt; The main Array of ActiveBoxContent objects Type: Array.&lt;ActiveBoxContent&gt; Source: boxes/ActiveBagContent.js, line 407 animatedGifFile :string Name of the img source when is an animated GIF Type: string Source: boxes/ActiveBagContent.js, line 362 backgroundContent :ActiveBoxContent An optional ActiveBoxContent object with background settings. Type: ActiveBoxContent Source: boxes/ActiveBagContent.js, line 402 bb :BoxBase The BoxBase used for this bag of cell contents Type: BoxBase Source: boxes/ActiveBagContent.js, line 392 border :boolean Whether the cells must have a border or not Type: boolean Source: boxes/ActiveBagContent.js, line 387 defaultIdValue :number The default value to be assigned at the 'id' field of children Type: number Source: boxes/ActiveBagContent.js, line 412 h :number Optimal cell height Type: number Source: boxes/ActiveBagContent.js, line 382 id :string The global identifier of this object: primary, secondary... Type: string Source: boxes/ActiveBagContent.js, line 347 img :external:HTMLImageElement The built image object Type: external:HTMLImageElement Source: boxes/ActiveBagContent.js, line 357 imgName :string The name of the image file used as a common image of this bag Type: string Source: boxes/ActiveBagContent.js, line 352 nch :number Number of rows when cells are distributed in a grid Type: number Source: boxes/ActiveBagContent.js, line 372 ncw :number Number of columns when cells are distributed in a grid Type: number Source: boxes/ActiveBagContent.js, line 367 shaper :Shaper The Shaper used to define the specific shape of each cell Type: Shaper Source: boxes/ActiveBagContent.js, line 397 w :number Optimal cell width Type: number Source: boxes/ActiveBagContent.js, line 377 Methods addActiveBoxContent(ab) Adds a new ActiveBoxContent to this bag Parameters: Name Type Description ab ActiveBoxContent The ActiveBoxContent to add Source: boxes/ActiveBagContent.js, line 227 avoidAllIdsNull(maxId) Cheks if the id values of all ActiveBoxContent objects are -1 and, if true,sets new ids to them, with values between 0 and maxId Parameters: Name Type Description maxId number The maximum value of identifiers Source: boxes/ActiveBagContent.js, line 338 getActiveBoxContent(i) Gets the nth ActiveBoxContent in activeBoxContentArray Parameters: Name Type Description i number The index of the content to be retrieved Source: boxes/ActiveBagContent.js, line 239 Returns: Type ActiveBoxContent getActiveBoxContentWith(id, item) Finds the ActiveBoxContent with specific id and item values Parameters: Name Type Description id number item number Source: boxes/ActiveBagContent.js, line 253 Returns: Type ActiveBoxContent getBoxBase() Retrieves the BoxBase of this bag, creating a new one if it was null Source: boxes/ActiveBagContent.js, line 217 Returns: Type BoxBase getNumCells() Gets the total number of cells of this bag Source: boxes/ActiveBagContent.js, line 191 Returns: Type number getShaper() Retrieves the Shaper of this bag, creating a new one if it was null Source: boxes/ActiveBagContent.js, line 207 Returns: Type Shaper getTotalHeight() Gets the estimated total height of this bag Source: boxes/ActiveBagContent.js, line 183 Returns: Type number getTotalWidth() Gets the estimated total width of this content bag Source: boxes/ActiveBagContent.js, line 175 Returns: Type number isEmpty() Checks if the bag is empty Source: boxes/ActiveBagContent.js, line 199 Returns: Type boolean prepareMedia(playStation) Prepares the media content of all elements Parameters: Name Type Description playStation PlayStation The JClicPlayer Source: boxes/ActiveBagContent.js, line 167 setCellsAttribute(key, value) Sets value to the key attribute of all cells Parameters: Name Type Description key string The key where the value will be stored value * The supplied value. Can be of any type. Source: boxes/ActiveBagContent.js, line 328 setIds(ids) Sets id values to a all the ActiveBoxContent elements of his bag. Parameters: Name Type Description ids Array.&lt;number&gt; Array of numeric identifiers Source: boxes/ActiveBagContent.js, line 318 setImgContent(mb, sh, roundSizes) Sets the content of the cells based on a image spliced by a shaper Parameters: Name Type Description mb MediaBag The MediaBag used to retrieve the image sh Shaper The Shaper used to splice the image roundSizes boolean When true, the size and coordinates of cells will be roundedto the nearest integer values. Source: boxes/ActiveBagContent.js, line 264 setProperties($xml, mediaBag) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse mediaBag MediaBag The project's MediaBag Source: boxes/ActiveBagContent.js, line 70 setTextContent(txt, setNcw, setNch) Sets the content of this bag based on an array of strings Parameters: Name Type Description txt Array.&lt;string&gt; The array of strings to be used as content. setNcw number Number of columns setNch number Number of rows Source: boxes/ActiveBagContent.js, line 306 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveBox.html":{"id":"ActiveBox.html","title":"Class: ActiveBox","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveBox ActiveBox Objects of this class are widely used in JClic activities: cells in puzzles and associations,messages and other objects are active boxes. The specific content, size and location of ActiveBox objects is determined by itsActiveBoxContent member. Most ActiveBoxes have only one content, but some of them canhave a secondary or &quot;alternative&quot; content stored in the altContent field. This content isused only when the alternative flag of the ActiveBox is on. Active boxes can host video and interactive media content (specified in the mediaContentmember of the ActiveBoxContent through its hostedMediaPlayer member. new ActiveBox(parent, container, boxBase [, setIdLoc] [, rect]) ActiveBox constructor Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this ActiveBox belongs container AWT.Container &lt;nullable&gt; The container where this box is placed. boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic propertiesof this box are defined. setIdLoc number &lt;optional&gt; A numeric identifier, used to locate this box in a set of sibling objects. rect AWT.Rectangle &lt;optional&gt; The initial bounds of the box. Source: boxes/ActiveBox.js, line 57 Extends AbstractBox Members $accessibleElement :external:jQuery DOM element used to display this cell content in wai-aria contexts Type: external:jQuery Inherited From: AbstractBox#$accessibleElement Overrides: AbstractBox#$accessibleElement Source: boxes/AbstractBox.js, line 688 $hostedComponent :external:jQuery An external JQuery DOM element hosted by this box Type: external:jQuery Inherited From: AbstractBox#$hostedComponent Source: boxes/AbstractBox.js, line 698 accessibleAlwaysActive :boolean Flag indicating that $accessibleElement should be always active Type: boolean Inherited From: AbstractBox#accessibleAlwaysActive Source: boxes/AbstractBox.js, line 693 accessibleText :string Text to be used in accessible contexts Type: string Inherited From: AbstractBox#accessibleText Source: boxes/AbstractBox.js, line 678 altContent :ActiveBoxContent Alternative content of this box Type: ActiveBoxContent Source: boxes/ActiveBox.js, line 773 alternative :boolean Whether this box must be displayed with alternative or regular color and font settings Type: boolean Inherited From: AbstractBox#alternative Source: boxes/AbstractBox.js, line 663 border :boolean Whether this box has a border or not Type: boolean Inherited From: AbstractBox#border Source: boxes/AbstractBox.js, line 623 boxBase :BoxBase The BoxBase related to this AbstractBox. When null, the parent can provide analternative one. Type: BoxBase Inherited From: AbstractBox#boxBase Source: boxes/AbstractBox.js, line 617 container :AWT.Container The Container to which this AbstractBox belongs Type: AWT.Container Inherited From: AbstractBox#container Source: boxes/AbstractBox.js, line 612 content :ActiveBoxContent Main content of this box Type: ActiveBoxContent Source: boxes/ActiveBox.js, line 768 focused :boolean Whether this box holds the input focus Type: boolean Inherited From: AbstractBox#focused Source: boxes/AbstractBox.js, line 673 hostedComponent :boolean Flag to check if this box has a 'hosted component' Type: boolean Source: boxes/ActiveBox.js, line 778 hostedMediaPlayer :ActiveMediaPlayer The media player associated to this box Type: ActiveMediaPlayer Source: boxes/ActiveBox.js, line 783 idAss :number Identifier used to establish relationships between cells of different sets (in associations) Type: number Source: boxes/ActiveBox.js, line 758 idLoc :number Identifier used to set a relative position in the space. Type: number Source: boxes/ActiveBox.js, line 753 idOrder :number Identifier used to set the relative position of this box in a set. Type: number Source: boxes/ActiveBox.js, line 748 inactive :boolean Whether this box is active or inactive Type: boolean Inherited From: AbstractBox#inactive Source: boxes/AbstractBox.js, line 653 inverted :boolean Whether this box must be displayed with inverted or regular colors Type: boolean Inherited From: AbstractBox#inverted Source: boxes/AbstractBox.js, line 658 isBackground :boolean Indicates that this box is used as a background. When drawing, the clipping region must be respected. Type: boolean Source: boxes/ActiveBox.js, line 788 marked :boolean Whether this box is marked (selected) or not Type: boolean Inherited From: AbstractBox#marked Source: boxes/AbstractBox.js, line 668 parent :AbstractBox The parent AbstractBox (can be null) Type: AbstractBox Inherited From: AbstractBox#parent Source: boxes/AbstractBox.js, line 607 pos0 :AWT.Point Backup of the original position of the cell, useful when the real position must be restored after a temporary change. Type: AWT.Point Source: boxes/ActiveBox.js, line 763 role :string Describes the main role of this box on the activity. Useful in wai-aria descriptions. Type: string Inherited From: AbstractBox#role Source: boxes/AbstractBox.js, line 683 shape :AWT.Shape The shape of this box (the box Rectangle or a special Shape, if set) Type: AWT.Shape Inherited From: AbstractBox#shape Source: boxes/AbstractBox.js, line 628 specialShape :boolean Whether this box has a shape that is not a rectangle Type: boolean Inherited From: AbstractBox#specialShape Source: boxes/AbstractBox.js, line 633 temporaryHidden :boolean Used to temporary hide a box while other drawing operations are done Type: boolean Inherited From: AbstractBox#temporaryHidden Source: boxes/AbstractBox.js, line 643 tmpTrans :boolean Cells with this attribute will be transparent but with painted border Type: boolean Inherited From: AbstractBox#tmpTrans Overrides: AbstractBox#tmpTrans Source: boxes/AbstractBox.js, line 648 visible :boolean Whether this box is visible or not Type: boolean Inherited From: AbstractBox#visible Source: boxes/AbstractBox.js, line 638 Methods &lt;static&gt; createCell($dom, abc) Factory constructor that creates a new cell inside a JQuery DOM element. Parameters: Name Type Description $dom external:jQuery The DOM element that will act as a container abc ActiveBoxContent The cell's content. Must not be null and have the dimensionmember initialized. Source: boxes/ActiveBox.js, line 87 Returns: Type ActiveBox buildAccessibleElement($canvas, $clickReceiver [, $canvasGroup] [, eventType]) Builds a hidden buton that will act as a accessible element associated to the canvas areaof this ActiveBox.The button will be created only when CanvasRenderingContext2D has a method named addHitRegion.See https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibilityfor more information and supported browsers. Parameters: Name Type Argument Description $canvas external:jQuery The canvas where this ActiveBox will deploy, wrapped up in a jQuery object $clickReceiver external:jQuery The DOM element that will be notified when $accessibleElement is activated. $canvasGroup external:jQuery &lt;optional&gt; Optional DOM element containing the accessible element. Useful to group cells in associations. When null, the element belongs to $canvas. eventType string &lt;optional&gt; Type of event sent to $clickReceiver. Default is click. Source: boxes/ActiveBox.js, line 697 Returns: The accessible element associated to this ActiveBox. Type external:jQuery checkAutoStartMedia() Checks if the call has a MediaContent set to autostart, and launches it when found. Source: boxes/ActiveBox.js, line 392 checkHostedComponent() Checks the presence of content susceptible to be treated as HTML DOM embedded in this ActiveBox. Source: boxes/ActiveBox.js, line 379 See: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Drawing_DOM_objects_into_a_canvas clear() Clears the current content Source: boxes/ActiveBox.js, line 124 contains(p) Check if this box contains the specified point Parameters: Name Type Description p AWT.Point The point to be checked Inherited From: AbstractBox#contains Source: boxes/AbstractBox.js, line 179 Returns: Type boolean copyContent(bx) Copy the content of another ActiveBox into this one Parameters: Name Type Description bx ActiveBox The ActiveBox from which to take the content Source: boxes/ActiveBox.js, line 181 drawBorder(ctx) Draws the box border Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas rendering context where the borderwill be drawn. Inherited From: AbstractBox#drawBorder Source: boxes/AbstractBox.js, line 490 end() Finisher method Inherited From: AbstractBox#end Source: boxes/AbstractBox.js, line 88 exchangeContent(bx) Exhanges the content of this ActiveBox with another one Parameters: Name Type Description bx ActiveBox The ActiveBox with which to exchange the content. Source: boxes/ActiveBox.js, line 209 exchangeLocation(bx) Swaps the location of two active boxes Parameters: Name Type Description bx ActiveBox The ActiveBox to swap with this one. Source: boxes/ActiveBox.js, line 167 getBorderBounds() Returns the enclosing Rectangle of this box including its border (if any) Inherited From: AbstractBox#getBorderBounds Source: boxes/AbstractBox.js, line 515 Returns: Type AWT.Rectangle getBoxBaseResolve() Gets the real BoxBase associated to this box, scanning down parent relationships. Inherited From: AbstractBox#getBoxBaseResolve Source: boxes/AbstractBox.js, line 146 Returns: Type BoxBase getContainerResolve() Gets the container associated to this box, asking its parents when null. Inherited From: AbstractBox#getContainerResolve Source: boxes/AbstractBox.js, line 115 Returns: Type AWT.Container getContainerX() Gets the container attribute of this box, without checking its parent Inherited From: AbstractBox#getContainerX Source: boxes/AbstractBox.js, line 107 Returns: Type AWT.Container getContent() Returns the current content, creating an empty one if needed. Source: boxes/ActiveBox.js, line 115 Returns: Type ActiveBoxContent getCurrentContent() Returns the current content used by the box Source: boxes/ActiveBox.js, line 107 Returns: Type ActiveBoxContent getDescription() Gets the description field of the current ActiveBoxContent Source: boxes/ActiveBox.js, line 585 Returns: Type string getHostedComponent() Gets the current $hostedComponent member Inherited From: AbstractBox#getHostedComponent Source: boxes/AbstractBox.js, line 551 Returns: Type external:jQuery getParent() Gets the current parent of this box Inherited From: AbstractBox#getParent Source: boxes/AbstractBox.js, line 81 Returns: Type AbstractBox getShape() Gets the current shape used in this box Inherited From: AbstractBox#getShape Source: boxes/AbstractBox.js, line 169 Returns: Type AWT.Shape hasBorder() Checks if this box has border Inherited From: AbstractBox#hasBorder Source: boxes/AbstractBox.js, line 252 Returns: Type boolean invalidate(rect) Invalidates the zone corresponding to this box in the associated AWT.Container, if any. Parameters: Name Type Description rect AWT.Rectangle The rectangle to be invalidated. When null, it's the fullcontainer area. Inherited From: AbstractBox#invalidate Source: boxes/AbstractBox.js, line 127 isAlternative() Checks if this box is in alternative state. Inherited From: AbstractBox#isAlternative Source: boxes/AbstractBox.js, line 412 Returns: Type boolean isAtPlace() Checks if this ActiveBox is at its original place. Source: boxes/ActiveBox.js, line 251 Returns: Type boolean isCurrentContentEquivalent(bx [, checkCase]) Same functionality as isEquivalent, but comparing the current content. Parameters: Name Type Argument Description bx ActiveBox The ActiveBox to check against this. checkCase boolean &lt;optional&gt; When true, the comparing will be case-sensitive. Source: boxes/ActiveBox.js, line 157 Returns: Type boolean isEquivalent(bx [, checkCase]) Checks if two ActiveBox objects have equivalent content Parameters: Name Type Argument Description bx ActiveBox The ActiveBox to check against this. checkCase boolean &lt;optional&gt; When true, the comparing will be case-sensitive. Source: boxes/ActiveBox.js, line 145 Returns: true if both cells are equivalent. Type boolean isFocused() Checks if this box has the input focus Inherited From: AbstractBox#isFocused Source: boxes/AbstractBox.js, line 388 Returns: Type boolean isInactive() Checks if this box is currently inactive. Inherited From: AbstractBox#isInactive Source: boxes/AbstractBox.js, line 315 Returns: Type boolean isInverted() Checks if this box is in inverted state. Inherited From: AbstractBox#isInverted Source: boxes/AbstractBox.js, line 344 Returns: Type boolean isMarked() Checks if this box is marked Inherited From: AbstractBox#isMarked Source: boxes/AbstractBox.js, line 365 Returns: Type boolean isTemporaryHidden() Checks if this box is temporary hidden Inherited From: AbstractBox#isTemporaryHidden Source: boxes/AbstractBox.js, line 299 Returns: Type boolean isVisible() Checks if this box is fully visible Inherited From: AbstractBox#isVisible Source: boxes/AbstractBox.js, line 272 Returns: Type boolean moveBy(dx, dy) Sets a new location to this box. In JClic this method was named translate. Parameters: Name Type Description dx number The displacement on the X axis dy number The displacement on the Y axis Inherited From: AbstractBox#moveBy Source: boxes/AbstractBox.js, line 235 moveTo(newPos [, y]) Sets a new location for this box. In JClic this method was named setLocation Parameters: Name Type Argument Description newPos AWT.Point | number A point or the x coordinate of a new point. y number &lt;optional&gt; The y coordinate of a new point. Inherited From: AbstractBox#moveTo Source: boxes/AbstractBox.js, line 224 playMedia(ps, delayedActions) Plays the action or media associated with this ActiveBox Parameters: Name Type Default Description ps PlayStation Usually, a JClicPlayer delayedActions Array.&lt;function()&gt; null If set, store the the action in this array for future execution Source: boxes/ActiveBox.js, line 602 setAltContent(abc, i) Sets the ActiveBoxContent that will act as an alternative content (altContent field)of this ActiveBox, Parameters: Name Type Description abc ActiveBoxContent | ActiveBagContent Object containing the content to set. i number When abc is an ActiveBagContent, this field indicates anindex in the content array. Source: boxes/ActiveBox.js, line 326 setAlternative(newVal) Sets this box in alternative mode, or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setAlternative Source: boxes/AbstractBox.js, line 420 setBorder(newVal) Sets/unsets a border to this box Parameters: Name Type Description newVal boolean true to set a border. Inherited From: AbstractBox#setBorder Source: boxes/AbstractBox.js, line 260 setBounds(rect [, y] [, w] [, h]) Sets a new size and/or dimension to this box Parameters: Name Type Argument Description rect AWT.Rectangle | number An AWT.Rectangle object, or the x coordinate of theupper-left corner of a new rectangle. y number &lt;optional&gt; y coordinate of the upper-left corner of the new rectangle. w number &lt;optional&gt; Width of the new rectangle. h number &lt;optional&gt; Height of the new rectangle. Inherited From: AbstractBox#setBounds Overrides: AbstractBox#setBounds Source: boxes/AbstractBox.js, line 192 setBoxBase(boxBase) Sets the BoxBase of this box Parameters: Name Type Description boxBase BoxBase The new BoxBase Inherited From: AbstractBox#setBoxBase Source: boxes/AbstractBox.js, line 137 setContainer(newContainer) Setter method for container Parameters: Name Type Description newContainer AWT.Container The new Container assigned to this box Inherited From: AbstractBox#setContainer Source: boxes/AbstractBox.js, line 95 setContent(abc, i) Sets the ActiveBoxContent of this ActiveBox Parameters: Name Type Description abc ActiveBoxContent | ActiveBagContent Object containing the content to set. i number When abc is an ActiveBagContent, this field indicates anindex in the content array. Source: boxes/ActiveBox.js, line 261 setCurrentContent(abc) Sets the current content of this ActiveBox Parameters: Name Type Description abc ActiveBoxContent The content to set. Source: boxes/ActiveBox.js, line 348 setDefaultIdAss() Sets the default value to idAss Source: boxes/ActiveBox.js, line 243 setFocused(newVal) Sets or unsets the input focus to this box. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setFocused Source: boxes/AbstractBox.js, line 397 setHostedComponent($hc) Sets the $hostedComponent member. Parameters: Name Type Description $hc external:jQuery The jQuery DOM component hosted by this box. Inherited From: AbstractBox#setHostedComponent Source: boxes/AbstractBox.js, line 531 setHostedComponentBorder() Sets the $hostedComponent border, based on the currentBoxBase of this box. Inherited From: AbstractBox#setHostedComponentBorder Source: boxes/AbstractBox.js, line 574 setHostedComponentBounds(_sizeChanged) Places and resizes $hostedComponent, based on the sizeand position of this box. Parameters: Name Type Description _sizeChanged boolean true when this ActiveBox has changed its size Inherited From: AbstractBox#setHostedComponentBounds Overrides: AbstractBox#setHostedComponentBounds Source: boxes/AbstractBox.js, line 590 setHostedComponentColors() Sets $hostedComponent colors and other css propertiesbased on the current BoxBase of this box. Inherited From: AbstractBox#setHostedComponentColors Source: boxes/AbstractBox.js, line 559 setHostedComponentVisible() Makes AbstractBox#$hostedComponent visible or invisible, based on the value ofthe AbstractBox visible flag. Inherited From: AbstractBox#setHostedComponentVisible Source: boxes/AbstractBox.js, line 290 setHostedMediaPlayer(amp) Sets the hosted media player of this ActiveBox Parameters: Name Type Description amp ActiveMediaPlayer The media player. Source: boxes/ActiveBox.js, line 616 setInactive(newVal) Makes this box active (false) or inactive (true) Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setInactive Source: boxes/AbstractBox.js, line 323 setInverted(newVal) Puts this box in inverted mode or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setInverted Source: boxes/AbstractBox.js, line 353 setMarked(newVal) Sets this box in marked mode, or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setMarked Source: boxes/AbstractBox.js, line 373 setParent(parent) Setter method for parent Parameters: Name Type Description parent AbstractBox The new parent of this box Inherited From: AbstractBox#setParent Source: boxes/AbstractBox.js, line 73 setShape(sh) Sets the shape used to draw the content of this box Parameters: Name Type Description sh AWT.Shape The shape to be set Inherited From: AbstractBox#setShape Source: boxes/AbstractBox.js, line 157 setSize(width, height) Changes the size of this box Parameters: Name Type Description width number height number Inherited From: AbstractBox#setSize Source: boxes/AbstractBox.js, line 244 setTemporaryHidden(newVal) Makes this box temporary hidden (newVal true) or resets its original state (newVal false) Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setTemporaryHidden Source: boxes/AbstractBox.js, line 307 setTextContent(tx) Sets the text content of this ActiveBox. Parameters: Name Type Description tx strint The text to set. Source: boxes/ActiveBox.js, line 221 setVisible(newVal) Sets this box visible or invisible Parameters: Name Type Description newVal boolean true for visible Inherited From: AbstractBox#setVisible Source: boxes/AbstractBox.js, line 280 switchToAlt() Puts this ActiveBox in &quot;alternative&quot; mode, meaning that altContent will be used instead of content Source: boxes/ActiveBox.js, line 359 toString() Gets a descriptive text for this ActiveBox Source: boxes/ActiveBox.js, line 593 Returns: Type String update(ctx [, dirtyRegion]) Draws the content of this box on an HTML canvas element. At this level, only backgroundand border are painted/stroked. Derived classes should implement specific drawing tasks inAbstractBox#updateContent. Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: AbstractBox#update Source: boxes/AbstractBox.js, line 433 updateContent(_ctx [, _dirtyRegion]) Here is where classes derived from AbstractBox should implement the drawing of itscontent. Background and border are already painted in AbstractBox#update. Parameters: Name Type Argument Description _ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. _dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: AbstractBox#updateContent Overrides: AbstractBox#updateContent Source: boxes/AbstractBox.js, line 482 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveBoxBag.html":{"id":"ActiveBoxBag.html","title":"Class: ActiveBoxBag","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveBoxBag ActiveBoxBag This class is a special case of BoxBag containing only objects of type ActiveBox.In addition to the members and methods of BoxBag, it implements specific methods to deal withActiveBagContent objects and with the other specific members of ActiveBox like its &quot;ids&quot;(idOrder, idLoc and idAss). new ActiveBoxBag(parent, container, boxBase) ActiveBoxBag constructor Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this box bag belongs container AWT.Container &lt;nullable&gt; The container where this box bag is placed. boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic propertiesof this box bag are defined. Source: boxes/ActiveBoxBag.js, line 49 Extends BoxBag Members $accessibleDiv :external:jQuery div containing the accessible elements associated to this ActiveBoxBag Type: external:jQuery Source: boxes/ActiveBoxBag.js, line 355 backgroundBox :AbstractBox An optional box used as a background by this BoxBag Type: AbstractBox Inherited From: BoxBag#backgroundBox Source: boxes/BoxBag.js, line 497 cells :Array.&lt;AbstractBox&gt; The array of cells Type: Array.&lt;AbstractBox&gt; Inherited From: BoxBag#cells Source: boxes/BoxBag.js, line 487 preferredBounds :AWT.Rectangle Rectangle containing the preferred bounds of the BoxBag Type: AWT.Rectangle Inherited From: BoxBag#preferredBounds Source: boxes/BoxBag.js, line 492 Methods addActiveBox(bx) Adds an ActiveBox to this bag Parameters: Name Type Description bx ActiveBox The ActiveBox to be added to this bag Source: boxes/ActiveBoxBag.js, line 66 addBox(bx) Adds an AbstractBox to the collection of cells Parameters: Name Type Description bx AbstractBox The box to add Inherited From: BoxBag#addBox Source: boxes/BoxBag.js, line 265 boxIndex(bx) Returns the index of a specific box in the cells array Parameters: Name Type Description bx AbstractBox Inherited From: BoxBag#boxIndex Source: boxes/BoxBag.js, line 282 Returns: Type number buildAccessibleElements($canvas, $clickReceiver [, eventType]) Builds a group of hidden buton elements that will act as a accessible objects associatedto the canvas area of this ActiveBoxBag.The buttons will only be created when CanvasRenderingContext2D has a method named addHitRegion.See https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibilityfor more information and supported browsers. Parameters: Name Type Argument Description $canvas external:jQuery The canvas where this ActiveBoxBag will deploy, wrapped up in a jQuery object $clickReceiver external:jQuery The DOM element that will be notified when a button is clicked. eventType string &lt;optional&gt; Type of event sent to $clickReceiver. Default is click. Source: boxes/ActiveBoxBag.js, line 344 Returns: The $accessibleDiv member, containing the accessible elements associated to this ActiveBoxBag. Type external:jQuery cellIsAtEquivalentPlace(bx, checkCase) Checks if the place occupied by a cell corresponds to a cell with equivalent content. Parameters: Name Type Description bx ActiveBox The box to check checkCase boolean If true, check case when comparing texts Source: boxes/ActiveBoxBag.js, line 170 Returns: Type boolean clearAll() Clears the content of all boxes and background box Source: boxes/ActiveBoxBag.js, line 141 clearAllBoxes() Clears the content of all boxes Source: boxes/ActiveBoxBag.js, line 134 countCellsAtEquivalentPlace(checkCase) Count the number of cells that are at its original place or equivalent Parameters: Name Type Description checkCase type If true, check case when comparing texts Source: boxes/ActiveBoxBag.js, line 180 Returns: Type number countCellsAtPlace() Count the number of cells that are at its original place Source: boxes/ActiveBoxBag.js, line 151 Returns: Type number countCellsWithIdAss(idAss) Counts the number of cells that have the provided idAss attribute Parameters: Name Type Description idAss number The idAss attribute to search Source: boxes/ActiveBoxBag.js, line 189 Returns: Type number countInactiveCells() Count the number of cells of this BoxBag that are in &quot;inactive&quot; state Inherited From: BoxBag#countInactiveCells Source: boxes/BoxBag.js, line 481 Returns: Type number findActiveBox(point) Finds an ActiveBox by location Parameters: Name Type Description point AWT.Point The location to search for Source: boxes/ActiveBoxBag.js, line 127 Returns: Type ActiveBox findBox(p) Finds the first visible AbstractBox located under the specified point Parameters: Name Type Description p AWT.Point Inherited From: BoxBag#findBox Source: boxes/BoxBag.js, line 465 Returns: Type AbstractBox fitCellsInArea(boxes) Fits cells inside the ActiveBoxBag area. Useful when non-rectangular cells exchange its positions. Parameters: Name Type Description boxes Array.&lt;ActiveBox&gt; The boxes to be checked Source: boxes/ActiveBoxBag.js, line 251 getActiveBox(idLoc) Finds an ActiveBox by its relative location (idLoc field) Parameters: Name Type Description idLoc number Source: boxes/ActiveBoxBag.js, line 77 Returns: Type ActiveBox getActiveBoxWithIdLoc(idLoc) Finds the ActiveBox that has the specified idLoc attribute Parameters: Name Type Description idLoc number The idLoc to search for Source: boxes/ActiveBoxBag.js, line 160 Returns: Type ActiveBox getBackgroundActiveBox() Gets the background box Source: boxes/ActiveBoxBag.js, line 85 Returns: Type ActiveBox getBackgroundBox() Gets the background box Inherited From: BoxBag#getBackgroundBox Source: boxes/BoxBag.js, line 299 Returns: Type AbstractBox getBox(n) Returns the box at a specific index in the cells array Parameters: Name Type Description n number The index Inherited From: BoxBag#getBox Source: boxes/BoxBag.js, line 291 Returns: Type AbstractBox getMinimumSize() Gets the minimum size requested by this BoxBag Inherited From: BoxBag#getMinimumSize Source: boxes/BoxBag.js, line 244 Returns: Type AWT.Dimension getNextItem(currentItem [, idAssValid]) Gets the index of box located in the cells array after the provided index, having theprovided idAssValid value as idAss attribute.When idAssValid is null or undefined, search for the next cell with idAss&gt;0 Parameters: Name Type Argument Description currentItem type The index after to which start scanning idAssValid type &lt;optional&gt; The idAss attribute value to search Source: boxes/ActiveBoxBag.js, line 315 Returns: Type number getNumCells() Returns the number of cells stored in this BoxBag Inherited From: BoxBag#getNumCells Source: boxes/BoxBag.js, line 344 Returns: Type number getPreferredSize() Gets the preferred size of this BoxBag Inherited From: BoxBag#getPreferredSize Source: boxes/BoxBag.js, line 236 Returns: Type AWT.Dimension getScaledSize(scale) Scales the current size of this box bag, multiplying all values by a specific factor Parameters: Name Type Description scale number The scale factor Inherited From: BoxBag#getScaledSize Source: boxes/BoxBag.js, line 256 Returns: Type AWT.Dimension recalcSize() Recalculates the total size of this BoxBag (useful after direct additions o deletions ofelements in the cells array).Updates preferredBounds and the current position and size of the box bag. Inherited From: BoxBag#recalcSize Source: boxes/BoxBag.js, line 323 resetIds() Resets the IDs of all cells Source: boxes/ActiveBoxBag.js, line 297 scrambleCells(times, fitInArea) Shuffles the cells Parameters: Name Type Description times number Number of times to shuffle fitInArea boolean Ensure that all cells are inside the bag rectangle Source: boxes/ActiveBoxBag.js, line 205 setAlternative(newVal) Overrides AbstractBox#setAlternative iterating over all the cells stored in this box bag. Parameters: Name Type Description newVal boolean Whether to set or unset the cells in &quot;alternative&quot; mode Inherited From: BoxBag#setAlternative Source: boxes/BoxBag.js, line 382 setBackgroundBox(bx) Sets the background box Parameters: Name Type Description bx AbstractBox Inherited From: BoxBag#setBackgroundBox Source: boxes/BoxBag.js, line 307 setBorder(newVal) Overrides AbstractBox#setBorder iterating over all the cells stored in this box bag. Parameters: Name Type Description newVal boolean Whether to set or unset the border Inherited From: BoxBag#setBorder Source: boxes/BoxBag.js, line 364 setBounds(rect [, ry] [, rw] [, rh]) Overrides AbstractBox#setBounds adjusting the position and size of all cells Parameters: Name Type Argument Description rect AWT.Rectangle | number An AWT.Rectangle object, or the x coordinate of theupper-left corner of a new rectangle. ry number &lt;optional&gt; y coordinate of the upper-left corner of the new rectangle. rw number &lt;optional&gt; Width of the new rectangle. rh number &lt;optional&gt; Height of the new rectangle. Inherited From: BoxBag#setBounds Source: boxes/BoxBag.js, line 396 setCellAttr(key, value) Sets the specified key - value pair to all cells of this bag. Parameters: Name Type Description key string The key to be established value The value, of any type Inherited From: BoxBag#setCellAttr Source: boxes/BoxBag.js, line 353 setContent(abc [, altAbc] [, fromIndex] [, toCell] [, numCells]) Sets the content of members of this ActiveBoxBag, based on one or more ActiveBagContentobjects. Parameters: Name Type Argument Description abc ActiveBagContent The main bag of content altAbc ActiveBagContent &lt;optional&gt; &lt;nullable&gt; The alternative bag of content fromIndex number &lt;optional&gt; Starts taking the cell content located at this position on the bag toCell number &lt;optional&gt; Starts filling the box located at this position on the ActiveBoxBag numCells type &lt;optional&gt; Acts only with a limited number of elements. Source: boxes/ActiveBoxBag.js, line 98 setDefaultIdAss() Resets the default idAss attribute on all cells Source: boxes/ActiveBoxBag.js, line 196 setVisible(newVal) Overrides AbstractBox#setVisible iterating over all the cells stored in this box bag. Parameters: Name Type Description newVal boolean Whether to set the cells visible or not Inherited From: BoxBag#setVisible Source: boxes/BoxBag.js, line 373 swapCellPositions(bxa, bxb, fitInArea) Exchange the positions of two cells inside the ActiveBoxBag area. Parameters: Name Type Description bxa ActiveBox The first box bxb ActiveBox The second box fitInArea boolean Ensure that all cells are inside the bag rectangle Source: boxes/ActiveBoxBag.js, line 275 update(ctx [, dirtyRegion]) Performs graphics operations for each cell.Overrides AbstractBox#update Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox contents. dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: BoxBag#update Source: boxes/BoxBag.js, line 437 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveBoxContent.html":{"id":"ActiveBoxContent.html","title":"Class: ActiveBoxContent","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveBoxContent ActiveBoxContent This class defines a content that can be displayed by ActiveBox objects. This contentcan be a text, an image, a fragment of an image or a combination of text and images. The style(colors, font and size, borders, shadows, margins, etc.) are specified in the bb attribute,always pointing to a BoxBase object. new ActiveBoxContent( [id]) ActiveBoxContent constructor Parameters: Name Type Argument Description id string &lt;optional&gt; An optional identifier. Source: boxes/ActiveBoxContent.js, line 49 Members &lt;static&gt; EMPTY_CONTENT :ActiveBoxContent An empty ActiveBoxContent Type: ActiveBoxContent Source: boxes/ActiveBoxContent.js, line 401 amp :ActiveMediaPlayer The ActiveMediaPlayer associated with this content. Updated at run-time. Type: ActiveMediaPlayer Source: boxes/ActiveBoxContent.js, line 386 animatedGifFile :string When img is an animated GIF file, this field should contain its file name Type: string Source: boxes/ActiveBoxContent.js, line 376 avoidOverlapping :boolean Whether to avoid overlapping of image and text inside the cell when both are present. Type: boolean Source: boxes/ActiveBoxContent.js, line 354 bb :BoxBase The BoxBase attribute of this content. Can be null, meaning ActiveBox willtry to find a suitable style scanning down through its own BoxBase, their parent's and, finally,the default values defined in BoxBase.prototype. Type: BoxBase Source: boxes/ActiveBoxContent.js, line 300 border :null|boolean The ActiveBox can have or not a border despite the settings of BoxBase.The default value null means not to take in consideration this setting. Type: null | boolean Source: boxes/ActiveBoxContent.js, line 312 dimension :AWT.Dimension Optimal dimension of any ActiveBox taking this content. Type: AWT.Dimension Source: boxes/ActiveBoxContent.js, line 307 id :number Numeric identifier used in activities to resolve relationships between cells Type: number Source: boxes/ActiveBoxContent.js, line 359 img :external:HTMLImageElement The realized image used by this box content. Type: external:HTMLImageElement Source: boxes/ActiveBoxContent.js, line 371 imgAlign :ActiveBoxContent~alignType The horizontal and vertical alignment of the image inside the cell. Type: ActiveBoxContent~alignType Source: boxes/ActiveBoxContent.js, line 343 imgClip :AWT.Shape An optional shape used to clip the image. Type: AWT.Shape Source: boxes/ActiveBoxContent.js, line 328 imgName :string The name of the image file to display on the ActiveBox. Type: string Source: boxes/ActiveBoxContent.js, line 323 innerHtmlText :string When not null, this content should be treated as an HTML element Type: string Source: boxes/ActiveBoxContent.js, line 381 item :number Numeric identifier used in activities to resolve relationships between cells Type: number Source: boxes/ActiveBoxContent.js, line 364 mbe :MediaBagElement The MediaBagElement associated with this content, if any. Updated at run-time. Type: MediaBagElement Source: boxes/ActiveBoxContent.js, line 391 mediaContent :MediaContent The media content associated with this object. Type: MediaContent Source: boxes/ActiveBoxContent.js, line 333 text :string The text to display on the ActiveBox. It can have up to two paragraphs. Type: string Source: boxes/ActiveBoxContent.js, line 318 txtAlign :ActiveBoxContent~alignType The horizontal and vertical alignment of the text inside the cell.Valid values are: left, middle, right, top and bottom. Type: ActiveBoxContent~alignType Source: boxes/ActiveBoxContent.js, line 348 Methods checkHtmlText() Checks if cell's text uses HTML, initializing the innerHtmlText member as needed. Source: boxes/ActiveBoxContent.js, line 202 getDescription() Gets a string representing this content, useful for checking if two different contents areequivalent. Source: boxes/ActiveBoxContent.js, line 270 Returns: Type string isEmpty() Checks if this is an empty content (text and img are null) Source: boxes/ActiveBoxContent.js, line 152 isEquivalent(abc, checkCase) Checks if two contents are equivalent Parameters: Name Type Description abc ActiveBoxContent The content to compare with this. checkCase boolean When true the comparing will be case-sensitive. Source: boxes/ActiveBoxContent.js, line 162 Returns: Type boolean prepareMedia(playStation) Prepares the media content Parameters: Name Type Description playStation PlayStation Usually a JClicPlayer Source: boxes/ActiveBoxContent.js, line 235 readAlign(str) Decode expressions with combined values of horizontal and vertical alignments in the form:&quot;(left|middle|right),(top|middle|bottom)&quot; Parameters: Name Type Description str string The string to parse Source: boxes/ActiveBoxContent.js, line 139 Returns: Type ActiveBoxContent~alignType realizeContent(mediaBag) Reads and initializes the image associated to this content Parameters: Name Type Description mediaBag MediaBag The media bag of the current project. Source: boxes/ActiveBoxContent.js, line 246 setImgContent(img, imgClip [, animatedGifFile]) Sets a fragment of a main image as a graphic content of this cell.Cells cannot have two graphic contents, so imgName (the specific image of this cell) shouldbe cleared with this setting. Parameters: Name Type Argument Description img external:HTMLImageElement The image data imgClip AWT.Shape A shape that clips the portion of image assigned to this content. animatedGifFile string &lt;optional&gt; When img is an animated GIF, its file name Source: boxes/ActiveBoxContent.js, line 223 setProperties($xml, mediaBag) Loads settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed mediaBag MediaBag The media bag used to retrieve images and other media Source: boxes/ActiveBoxContent.js, line 67 setTextContent(tx) Sets the text content of this ActiveBox Parameters: Name Type Description tx string Source: boxes/ActiveBoxContent.js, line 188 toString() Overwrites the original Object.toString method, returning getDescription instead Source: boxes/ActiveBoxContent.js, line 288 Returns: Type String Type Definitions alignType Type: object Properties: Name Type Description h string Valid values are: left, middle, right v string Valud values are: top, middle, bottom Source: boxes/ActiveBoxContent.js, line 338 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveBoxGrid.html":{"id":"ActiveBoxGrid.html","title":"Class: ActiveBoxGrid","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveBoxGrid ActiveBoxGrid This class extends ActiveBoxBag with constructors that take an argument of typeShaper used to build all its ActiveBoxcomponents. It also maintains informationabout the number of &quot;rows&quot; and &quot;columns&quot;, useful to compute valid (integer) values whenresizing or moving its components. new ActiveBoxGrid(parent, container, boxBase, px, py, setWidth, setHeight, sh) ActiveBxGrid constructor Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this box grid belongs container AWT.Container &lt;nullable&gt; The container where this box grid is placed. boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic properties px number X coordinate of the upper left corner of this box grid py number Y coordinate of the upper left corner of this box grid setWidth number Total width of the box grid setHeight number Total height of the box grid sh Shaper Shaper used to build the ActiveBox objects Source: boxes/ActiveBoxGrid.js, line 50 Extends ActiveBoxBag Members $accessibleDiv :external:jQuery div containing the accessible elements associated to this ActiveBoxBag Type: external:jQuery Inherited From: ActiveBoxBag#$accessibleDiv Source: boxes/ActiveBoxBag.js, line 355 backgroundBox :AbstractBox An optional box used as a background by this BoxBag Type: AbstractBox Inherited From: BoxBag#backgroundBox Source: boxes/BoxBag.js, line 497 cells :Array.&lt;AbstractBox&gt; The array of cells Type: Array.&lt;AbstractBox&gt; Inherited From: BoxBag#cells Source: boxes/BoxBag.js, line 487 nCols :number Number of columns of this box grid Type: number Source: boxes/ActiveBoxGrid.js, line 173 nRows :number Number of rows of this box grid Type: number Source: boxes/ActiveBoxGrid.js, line 178 preferredBounds :AWT.Rectangle Rectangle containing the preferred bounds of the BoxBag Type: AWT.Rectangle Inherited From: BoxBag#preferredBounds Source: boxes/BoxBag.js, line 492 Methods &lt;static&gt; createEmptyGrid(parent, container, px, py, abc, sh, boxBase) This factory constructor creates a new empty grid with the number of cells indicated by theActiveBagContent abc, not filling the cells with any content. Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this box grid belongs container AWT.Container &lt;nullable&gt; The container where this box grid is placed. px number X coordinate of the upper left corner of this box grid py number Y coordinate of the upper left corner of this box grid abc ActiveBagContent Used only to get the number of cells and the shaper (when sh is null) sh Shaper &lt;nullable&gt; Shaper used to build the ActiveBox objects boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic propertiesof this box grid are defined. Source: boxes/ActiveBoxGrid.js, line 111 Returns: Type ActiveBoxGrid addActiveBox(bx) Adds an ActiveBox to this bag Parameters: Name Type Description bx ActiveBox The ActiveBox to be added to this bag Inherited From: ActiveBoxBag#addActiveBox Source: boxes/ActiveBoxBag.js, line 66 addBox(bx) Adds an AbstractBox to the collection of cells Parameters: Name Type Description bx AbstractBox The box to add Inherited From: BoxBag#addBox Source: boxes/BoxBag.js, line 265 boxIndex(bx) Returns the index of a specific box in the cells array Parameters: Name Type Description bx AbstractBox Inherited From: BoxBag#boxIndex Source: boxes/BoxBag.js, line 282 Returns: Type number buildAccessibleElements($canvas, $clickReceiver [, eventType]) Builds a group of hidden buton elements that will act as a accessible objects associatedto the canvas area of this ActiveBoxBag.The buttons will only be created when CanvasRenderingContext2D has a method named addHitRegion.See https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibilityfor more information and supported browsers. Parameters: Name Type Argument Description $canvas external:jQuery The canvas where this ActiveBoxBag will deploy, wrapped up in a jQuery object $clickReceiver external:jQuery The DOM element that will be notified when a button is clicked. eventType string &lt;optional&gt; Type of event sent to $clickReceiver. Default is click. Inherited From: ActiveBoxBag#buildAccessibleElements Source: boxes/ActiveBoxBag.js, line 344 Returns: The $accessibleDiv member, containing the accessible elements associated to this ActiveBoxBag. Type external:jQuery cellIsAtEquivalentPlace(bx, checkCase) Checks if the place occupied by a cell corresponds to a cell with equivalent content. Parameters: Name Type Description bx ActiveBox The box to check checkCase boolean If true, check case when comparing texts Inherited From: ActiveBoxBag#cellIsAtEquivalentPlace Source: boxes/ActiveBoxBag.js, line 170 Returns: Type boolean clearAll() Clears the content of all boxes and background box Inherited From: ActiveBoxBag#clearAll Source: boxes/ActiveBoxBag.js, line 141 clearAllBoxes() Clears the content of all boxes Inherited From: ActiveBoxBag#clearAllBoxes Source: boxes/ActiveBoxBag.js, line 134 countCellsAtEquivalentPlace(checkCase) Count the number of cells that are at its original place or equivalent Parameters: Name Type Description checkCase type If true, check case when comparing texts Inherited From: ActiveBoxBag#countCellsAtEquivalentPlace Source: boxes/ActiveBoxBag.js, line 180 Returns: Type number countCellsAtPlace() Count the number of cells that are at its original place Inherited From: ActiveBoxBag#countCellsAtPlace Source: boxes/ActiveBoxBag.js, line 151 Returns: Type number countCellsWithIdAss(idAss) Counts the number of cells that have the provided idAss attribute Parameters: Name Type Description idAss number The idAss attribute to search Inherited From: ActiveBoxBag#countCellsWithIdAss Source: boxes/ActiveBoxBag.js, line 189 Returns: Type number countInactiveCells() Count the number of cells of this BoxBag that are in &quot;inactive&quot; state Inherited From: BoxBag#countInactiveCells Source: boxes/BoxBag.js, line 481 Returns: Type number findActiveBox(point) Finds an ActiveBox by location Parameters: Name Type Description point AWT.Point The location to search for Inherited From: ActiveBoxBag#findActiveBox Source: boxes/ActiveBoxBag.js, line 127 Returns: Type ActiveBox findBox(p) Finds the first visible AbstractBox located under the specified point Parameters: Name Type Description p AWT.Point Inherited From: BoxBag#findBox Source: boxes/BoxBag.js, line 465 Returns: Type AbstractBox fitCellsInArea(boxes) Fits cells inside the ActiveBoxBag area. Useful when non-rectangular cells exchange its positions. Parameters: Name Type Description boxes Array.&lt;ActiveBox&gt; The boxes to be checked Inherited From: ActiveBoxBag#fitCellsInArea Source: boxes/ActiveBoxBag.js, line 251 getActiveBox(idLoc) Finds an ActiveBox by its relative location (idLoc field) Parameters: Name Type Description idLoc number Inherited From: ActiveBoxBag#getActiveBox Source: boxes/ActiveBoxBag.js, line 77 Returns: Type ActiveBox getActiveBoxWithIdLoc(idLoc) Finds the ActiveBox that has the specified idLoc attribute Parameters: Name Type Description idLoc number The idLoc to search for Inherited From: ActiveBoxBag#getActiveBoxWithIdLoc Source: boxes/ActiveBoxBag.js, line 160 Returns: Type ActiveBox getBackgroundActiveBox() Gets the background box Inherited From: ActiveBoxBag#getBackgroundActiveBox Source: boxes/ActiveBoxBag.js, line 85 Returns: Type ActiveBox getBackgroundBox() Gets the background box Inherited From: BoxBag#getBackgroundBox Source: boxes/BoxBag.js, line 299 Returns: Type AbstractBox getBox(n) Returns the box at a specific index in the cells array Parameters: Name Type Description n number The index Inherited From: BoxBag#getBox Source: boxes/BoxBag.js, line 291 Returns: Type AbstractBox getCoord(bx) Returns the logical coordinates of the provided ActiveBox.The units of the result are not pixels, but ordinal numbers (relative positions) of columnsand rows in the grid. Parameters: Name Type Description bx ActiveBox The box to process Source: boxes/ActiveBoxGrid.js, line 152 Returns: Type AWT.Point getCoordDist(src, dest) Calculates the logical distance between two ActiveBox objects.Resulting units are not pixels, but ordinal numbers (relative positions) of columns and rowsin the grid. Parameters: Name Type Description src ActiveBox First box dest ActiveBox Second box Source: boxes/ActiveBoxGrid.js, line 164 Returns: Type AWT.Point getMinimumSize() Gets the minimum size of this grid Overrides: ActiveBoxBag#getMinimumSize Source: boxes/ActiveBoxGrid.js, line 128 Returns: Type AWT.Dimension getNextItem(currentItem [, idAssValid]) Gets the index of box located in the cells array after the provided index, having theprovided idAssValid value as idAss attribute.When idAssValid is null or undefined, search for the next cell with idAss&gt;0 Parameters: Name Type Argument Description currentItem type The index after to which start scanning idAssValid type &lt;optional&gt; The idAss attribute value to search Inherited From: ActiveBoxBag#getNextItem Source: boxes/ActiveBoxBag.js, line 315 Returns: Type number getNumCells() Returns the number of cells stored in this BoxBag Inherited From: BoxBag#getNumCells Source: boxes/BoxBag.js, line 344 Returns: Type number getPreferredSize() Gets the preferred size of this BoxBag Inherited From: BoxBag#getPreferredSize Source: boxes/BoxBag.js, line 236 Returns: Type AWT.Dimension getScaledSize(scale) Gets a scaled size of this grid, rounded to the nearest integer values Parameters: Name Type Description scale number The scale factor Overrides: ActiveBoxBag#getScaledSize Source: boxes/ActiveBoxGrid.js, line 139 Returns: Type AWT.Dimension recalcSize() Recalculates the total size of this BoxBag (useful after direct additions o deletions ofelements in the cells array).Updates preferredBounds and the current position and size of the box bag. Inherited From: BoxBag#recalcSize Source: boxes/BoxBag.js, line 323 resetIds() Resets the IDs of all cells Inherited From: ActiveBoxBag#resetIds Source: boxes/ActiveBoxBag.js, line 297 scrambleCells(times, fitInArea) Shuffles the cells Parameters: Name Type Description times number Number of times to shuffle fitInArea boolean Ensure that all cells are inside the bag rectangle Inherited From: ActiveBoxBag#scrambleCells Source: boxes/ActiveBoxBag.js, line 205 setAlternative(newVal) Overrides AbstractBox#setAlternative iterating over all the cells stored in this box bag. Parameters: Name Type Description newVal boolean Whether to set or unset the cells in &quot;alternative&quot; mode Inherited From: BoxBag#setAlternative Source: boxes/BoxBag.js, line 382 setBackgroundBox(bx) Sets the background box Parameters: Name Type Description bx AbstractBox Inherited From: BoxBag#setBackgroundBox Source: boxes/BoxBag.js, line 307 setBorder(newVal) Overrides AbstractBox#setBorder iterating over all the cells stored in this box bag. Parameters: Name Type Description newVal boolean Whether to set or unset the border Inherited From: BoxBag#setBorder Source: boxes/BoxBag.js, line 364 setBounds(rect [, ry] [, rw] [, rh]) Overrides AbstractBox#setBounds adjusting the position and size of all cells Parameters: Name Type Argument Description rect AWT.Rectangle | number An AWT.Rectangle object, or the x coordinate of theupper-left corner of a new rectangle. ry number &lt;optional&gt; y coordinate of the upper-left corner of the new rectangle. rw number &lt;optional&gt; Width of the new rectangle. rh number &lt;optional&gt; Height of the new rectangle. Inherited From: BoxBag#setBounds Source: boxes/BoxBag.js, line 396 setCellAttr(key, value) Sets the specified key - value pair to all cells of this bag. Parameters: Name Type Description key string The key to be established value The value, of any type Inherited From: BoxBag#setCellAttr Source: boxes/BoxBag.js, line 353 setContent(abc [, altAbc] [, fromIndex] [, toCell] [, numCells]) Sets the content of members of this ActiveBoxBag, based on one or more ActiveBagContentobjects. Parameters: Name Type Argument Description abc ActiveBagContent The main bag of content altAbc ActiveBagContent &lt;optional&gt; &lt;nullable&gt; The alternative bag of content fromIndex number &lt;optional&gt; Starts taking the cell content located at this position on the bag toCell number &lt;optional&gt; Starts filling the box located at this position on the ActiveBoxBag numCells type &lt;optional&gt; Acts only with a limited number of elements. Inherited From: ActiveBoxBag#setContent Source: boxes/ActiveBoxBag.js, line 98 setDefaultIdAss() Resets the default idAss attribute on all cells Inherited From: ActiveBoxBag#setDefaultIdAss Source: boxes/ActiveBoxBag.js, line 196 setVisible(newVal) Overrides AbstractBox#setVisible iterating over all the cells stored in this box bag. Parameters: Name Type Description newVal boolean Whether to set the cells visible or not Inherited From: BoxBag#setVisible Source: boxes/BoxBag.js, line 373 swapCellPositions(bxa, bxb, fitInArea) Exchange the positions of two cells inside the ActiveBoxBag area. Parameters: Name Type Description bxa ActiveBox The first box bxb ActiveBox The second box fitInArea boolean Ensure that all cells are inside the bag rectangle Inherited From: ActiveBoxBag#swapCellPositions Source: boxes/ActiveBoxBag.js, line 275 update(ctx [, dirtyRegion]) Performs graphics operations for each cell.Overrides AbstractBox#update Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox contents. dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: BoxBag#update Source: boxes/BoxBag.js, line 437 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveMediaBag.html":{"id":"ActiveMediaBag.html","title":"Class: ActiveMediaBag","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveMediaBag ActiveMediaBag This class stores a collection of realized ActiveMediaPlayer objects, related to aJClicProject or Activity. new ActiveMediaBag() ActiveMediaBag constructor Source: media/ActiveMediaBag.js, line 44 Members players :Array.&lt;ActiveMediaPlayer&gt; The collection of ActiveMediaPlayer objects stored in this media bag. Type: Array.&lt;ActiveMediaPlayer&gt; Source: media/ActiveMediaBag.js, line 143 Methods createActiveMediaPlayer(mc, mb, ps) Creates a new ActiveMediaPlayer linked to this media bag Parameters: Name Type Description mc MediaContent The content used by the new player mb MediaBag The project's MediaBag ps PlayStation An object implementing thePlayStation interface,usually a JClicPlayer. Source: media/ActiveMediaBag.js, line 61 Returns: Type ActiveMediaPlayer getActiveMediaPlayer(mc, mb, ps) Looks for an already existing ActiveMediaPlayer equivalent to the requested.When not found, a new one is created and and returned. Parameters: Name Type Description mc MediaContent The content used by the new player mb MediaBag The project's MediaBag ps PlayStation An object implementing thePlayStation interface,usually a JClicPlayer. Source: media/ActiveMediaBag.js, line 93 Returns: Type ActiveMediaPlayer realizeAll() Realizes all the media elements stored in this bag Source: media/ActiveMediaBag.js, line 114 removeActiveMediaPlayer(mc) Removes from the list of players the ActiveMediaPlayer related to the specified MediaContent. Parameters: Name Type Description mc MediaContent The media content to look for. Source: media/ActiveMediaBag.js, line 102 removeAll() Removes all players from this media bag Source: media/ActiveMediaBag.js, line 134 stopAll(level) Stops playing all media elements stored in this bag Parameters: Name Type Description level number Level at and below what all media players will be muted. Source: media/ActiveMediaBag.js, line 122 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActiveMediaPlayer.html":{"id":"ActiveMediaPlayer.html","title":"Class: ActiveMediaPlayer","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveMediaPlayer ActiveMediaPlayer This kind of object encapsulates a realized MediaContent and provides methods to start,stop, pause and record different types of media (audio, video, MIDI, voice recording...) new ActiveMediaPlayer(mc, mb, ps) ActiveMediaPlayer constructor Parameters: Name Type Description mc MediaContent The content used by this player mb MediaBag The project's MediaBag ps PlayStation An object implementing thePlayStation interface,usually a JClicPlayer. Source: media/ActiveMediaPlayer.js, line 44 Members &lt;static&gt; AUDIO_BUFFERS :Array.&lt;AudioBuffer&gt; Audio buffers used for recording and playing voice are stored in a static array becausethey are common to all instances of ActiveMediaPlayerOnly initialized when REC_ENABLED is true. Type: Array.&lt;AudioBuffer&gt; Source: media/ActiveMediaPlayer.js, line 262 &lt;static&gt; REC_ENABLED :Boolean Recording of audio is enabled only when navigator.getUserMedia and MediaRecorder are definedIn 02-Mar-2016 this is implemented only in Firefox 41 and Chrome 49 or later.See: https://addpipe.com/blog/mediarecorder-api Type: Boolean Source: media/ActiveMediaPlayer.js, line 248 $visualComponent :external:jQuery The visual component for videos, usually a video HTML element Type: external:jQuery Source: media/ActiveMediaPlayer.js, line 280 bx :ActiveBox MediaPlayers should be linked to ActiveBox objects. Type: ActiveBox Source: media/ActiveMediaPlayer.js, line 275 mbe :MediaBagElement The MediaBagElement containing the reference to the media to be played Type: MediaBagElement Source: media/ActiveMediaPlayer.js, line 290 mc :MediaContent The MediaContent associated to this player. Type: MediaContent Source: media/ActiveMediaPlayer.js, line 265 ps :JClicPlayer The player to which this player belongs. Type: JClicPlayer Source: media/ActiveMediaPlayer.js, line 270 useAudioBuffer :boolean When true, this player makes use of a recording audio buffer Type: boolean Source: media/ActiveMediaPlayer.js, line 285 Methods checkVisualComponentBounds(_bxi) Checks the position of visual components after a displacement or resizing of its container Parameters: Name Type Description _bxi ActiveBox The container where this player is hosted Source: media/ActiveMediaPlayer.js, line 219 clear() Frees all resources used by this player Source: media/ActiveMediaPlayer.js, line 161 clearAllAudioBuffers() Clears all audio buffers Source: media/ActiveMediaPlayer.js, line 183 clearAudioBuffer(buffer) Clears the specified audio buffer Parameters: Name Type Description buffer number Index of the buffer in ActiveMediaPlayer.AUDIO_BUFFERS Source: media/ActiveMediaPlayer.js, line 171 countActiveBuffers() Counts the number of active audio buffers Source: media/ActiveMediaPlayer.js, line 192 Returns: Type number linkTo(setBx) Sets the ActiveBox associated to this media player Parameters: Name Type Argument Description setBx ActiveBox &lt;nullable&gt; The new container of this media. Can be null. Source: media/ActiveMediaPlayer.js, line 235 play( [setBx]) Plays the media when available, without blocking the current thread. Parameters: Name Type Argument Description setBx ActiveBox &lt;optional&gt; The active box where this media will be placed (when video) Source: media/ActiveMediaPlayer.js, line 143 playNow( [_setBx]) Plays the media, realizing it if needed. Parameters: Name Type Argument Description _setBx ActiveBox &lt;optional&gt; The active box where this media will be placed (when video) Source: media/ActiveMediaPlayer.js, line 98 realize() Generates the objects that will play media Source: media/ActiveMediaPlayer.js, line 81 setVisualComponentVisible(_state) Sets the visual component of this player visible or invisible Parameters: Name Type Description _state boolean true for visible Source: media/ActiveMediaPlayer.js, line 227 stop() Stops the media playing Source: media/ActiveMediaPlayer.js, line 151 stopAllAudioBuffers() Stops the playing or recording actions of all audio buffers Source: media/ActiveMediaPlayer.js, line 199 stopAudioBuffer(buffer) Stops a specific audio buffer Parameters: Name Type Description buffer number Index of the buffer in ActiveMediaPlayer.AUDIO_BUFFERS Source: media/ActiveMediaPlayer.js, line 208 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Activity.html":{"id":"Activity.html","title":"Class: Activity","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Activity Activity Activity is the abstract base class of JClic activities. It defines also the inner classActivity.ActivityPanel, wich is responsible for user interaction with the activitycontent.Activities should extend both Activity and ActivityPanel classes in order to become fullyoperative. &lt;abstract&gt; new Activity(project) Activity constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: Activity.js, line 64 Members &lt;static&gt; CLASSES :object Classes derived from Activity should register themselves by adding a field toActivity.CLASSES using its name as identifier and the class constructor as a value. Type: object Source: Activity.js, line 506 Example To be included at the end of MyActivity class: Activity.CLASSES['custom@myActivity'] = MyActivity &lt;static&gt; Panel :ActivityPanel The panel class associated to each type of activity Type: ActivityPanel Source: Activity.js, line 1211 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Source: Activity.js, line 690 className :string The class name of this Activity Type: string Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Source: Activity.js, line 638 description :string A short description of the activity Type: string Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Source: Activity.js, line 665 name :string The Activity name Type: string Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Source: Activity.js, line 670 Methods &lt;static&gt; getActivity($xml, project) Factory constructor that returns a specific type of Activity based on the class attributedeclared in the $xml parameter. Parameters: Name Type Description $xml external:jQuery The XML element to be parsed project JClicProject The JClicProject to which this activity belongs Source: Activity.js, line 83 Returns: Type Activity canReinit() Whether or not the activity can be reset Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Source: Activity.js, line 468 end() Called when the activity must be disposed Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Source: Activity.js, line 445 Returns: Type boolean Type Definitions scrambleType Type: object Properties: Name Type Description primary boolean secondary boolean Source: Activity.js, line 739 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActivityPanel.html":{"id":"ActivityPanel.html","title":"Class: ActivityPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActivityPanel ActivityPanel This object is responsible for rendering the contents of the activity on the screen andmanaging user's interaction.Each type of Activity must implement its own ActivityPanel.In JClic, Activity.Panelextends javax.swing.JPanel.In this implementation, the JPanel will be replaced by an HTML div tag. new ActivityPanel(act, ps [, $div]) ActivityPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: Activity.js, line 771 Extends AWT.Container Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Source: Activity.js, line 1175 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Source: Activity.js, line 1078 end() Ends the activity Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActivityReg.html":{"id":"ActivityReg.html","title":"Class: ActivityReg","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActivityReg ActivityReg This class stores miscellaneous data obtained by the current user playing an Activity. new ActivityReg(act) ActivityReg constructor Parameters: Name Type Description act Activity The Activity referenced by this object. Source: report/ActivityReg.js, line 43 Members actions :Array.&lt;ActionReg&gt; Collection of actions done by the user while playing the activity Type: Array.&lt;ActionReg&gt; Source: report/ActivityReg.js, line 233 closed :boolean true when the activity has finished, false for the activity that is currently playing Type: boolean Source: report/ActivityReg.js, line 258 code :string Optional code assigned to this activity, used for later filtering Type: string Source: report/ActivityReg.js, line 218 lastAction :ActionReg Last ActionReg performed by the user in this activity Type: ActionReg Source: report/ActivityReg.js, line 243 minActions :number Minimum number of actions needed to solve the activity Type: number Source: report/ActivityReg.js, line 253 name :string Name of the associated activity Type: string Source: report/ActivityReg.js, line 213 numActions :number Number of actions done by the user playing this activity Type: number Source: report/ActivityReg.js, line 268 reportActions :boolean true when this type of activity should record specific actions done by the users Type: boolean Source: report/ActivityReg.js, line 263 score :number Final score obtained by the current user in this activity Type: number Source: report/ActivityReg.js, line 248 solved :boolean true only when the user has finished and solved the activity Type: boolean Source: report/ActivityReg.js, line 238 startTime :number Timestamp when the user starts playing the activity Type: number Source: report/ActivityReg.js, line 223 totalTime :number Total time spent by the user in the activity, measured in milliseconds Type: number Source: report/ActivityReg.js, line 228 Methods $getXML() Provides the data associated with the current activity in an XML format suitable for aJClic Reports Server. Source: report/ActivityReg.js, line 62 Returns: Type external:jQuery closeActivity() Closes the current activity, adjusting total time if needed Source: report/ActivityReg.js, line 165 endActivity(score, numActions, solved) This method should be called when the current activity finishes. Data about user's final resultson the activity will then be saved. Parameters: Name Type Description score number The final score, usually in a 0-100 scale. numActions number The total number of actions done by the user to solve the activity solved boolean true if the activity was finally solved, false otherwise. Source: report/ActivityReg.js, line 202 getActionReg(index) Retrieves a specific ActionReg element from actions Parameters: Name Type Description index number The nth action to be retrieved Source: report/ActivityReg.js, line 158 Returns: Type ActionReg getData() Builds an object with relevant data about the results obtained by the current student in this activity Source: report/ActivityReg.js, line 91 Returns: The results of this activity Type Object getPrecision() calculates the final score obtained by the user in this activity.The algorithm used takes in account the minimal number of actions needed, the actionsreally done by the user, and if the activity was finally solved or not. Source: report/ActivityReg.js, line 181 Returns: Type number newAction(type, +, +, ok) Reports a new action done by the user while playing the current activity Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object that acts as a target of the action (used in pairings) ok boolean true if the action was OK, false, null or undefined otherwise Source: report/ActivityReg.js, line 146 setProperties($xml) Fills this ActivityReg with data provided in XML format Parameters: Name Type Description $xml external:jQuery The XML element to be processed, already wrapped as jQuery object Source: report/ActivityReg.js, line 111 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActivitySequence.html":{"id":"ActivitySequence.html","title":"Class: ActivitySequence","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActivitySequence ActivitySequence This class stores the definition of the sequence to follow to show the activities of aJClicProject. The sequence are formed by an ordered list of objects of typeActivitySequenceElement.It stores also a transient pointer to the current sequence element. new ActivitySequence(project) ActivitySequence constructor Parameters: Name Type Description project JClicProject The JClic project to which this ActivitySequence belongs Source: bags/ActivitySequence.js, line 49 Members currentAct :number Pointer to the ActivitySequenceElement currently running (points insidethe elements array). Type: number Source: bags/ActivitySequence.js, line 296 elements :Array.&lt;ActivitySequenceElement&gt; The ordered list of ActivitySequenceElement objects Type: Array.&lt;ActivitySequenceElement&gt; Source: bags/ActivitySequence.js, line 286 project :JClicProject The JClic project to which this ActivitySequence belongs. Type: JClicProject Source: bags/ActivitySequence.js, line 291 Methods checkCurrentActivity(activityName) Utility function to check if the current sequence element corresponds to the specifiedactivity. If negative, the currentAct will be accordingly set. Parameters: Name Type Description activityName string The activity to check Source: bags/ActivitySequence.js, line 264 getCurrentAct() Gets the sequence element pointed by the currentAct member. Source: bags/ActivitySequence.js, line 122 Returns: The current sequence element, or null if not set. Type ActivitySequenceElement getElement(n, updateCurrentAct) Returns the nth element of the sequence. Parameters: Name Type Description n number Index of the requested element updateCurrentAct boolean when true, the currentAct index will be updated. Source: bags/ActivitySequence.js, line 83 Returns: The requested element, or null if out of range. Type ActivitySequenceElement getElementByActivityName(activityName) Gets the first ActivitySequenceElement in the elements list pointing to thespecified activity name.The search is always case-insensitive. Parameters: Name Type Description activityName string The activity to search. Source: bags/ActivitySequence.js, line 247 Returns: The requested element or null if not found. Type ActivitySequenceElement getElementByTag(tag, updateCurrentAct) Search into the sequence for a element with the provided tag Parameters: Name Type Description tag string The tag to search updateCurrentAct boolean when true, the currentAct index will be updated. Source: bags/ActivitySequence.js, line 99 Returns: The requested element, or null if not found. Type ActivitySequenceElement getElementIndex(ase) Returns the index of the specified element in the sequence. Parameters: Name Type Description ase ActivitySequenceElement The element to search. Source: bags/ActivitySequence.js, line 73 Returns: The requested index, or null if not found. Type number getJump(back, reporter) Computes the jump to perform from the current position on the sequence Parameters: Name Type Description back boolean When true, the request is for the 'go back' button. Otherwise, isfor the 'next' one. reporter Reporter The reporting engine that will provide values about score averageand time spend on the activities, used only to compute conditional jumps. Source: bags/ActivitySequence.js, line 199 Returns: The jump info if a valid jump is possible, null otherwise. Type JumpInfo getNavButtonsFlag() Gets the current state for the 'next' and 'prev' buttons. Source: bags/ActivitySequence.js, line 183 Returns: One of the possible values of ActivitySequenceElement#navButtons,thus: none, fwd, back or both Type string getSequenceForElement(num) Finds the nearest sequence element with a valid 'tag', looking back in the elements list. Parameters: Name Type Description num number The point of the sequence from which to start looking back. Source: bags/ActivitySequence.js, line 231 Returns: The nearest 'tag', or null if not found. Type string hasNextAct(hasReturn) Checks if it's possible to go forward from the current position in the sequence. Parameters: Name Type Description hasReturn boolean Indicates whether the history of jumps done since the beginningof the JClic session is empty or not. When not empty, a RETURN action is still possible. Source: bags/ActivitySequence.js, line 132 Returns: true when the user is allowed to go ahead to a next activity,false otherwise. Type boolean hasPrevAct(hasReturn) Checks if it's possible to go back from the current position in the sequence. Parameters: Name Type Description hasReturn boolean Indicates whether the history of jumps done since the beginningof the JClic session is empty or not. When not empty, a RETURN action is still possible. Source: bags/ActivitySequence.js, line 158 Returns: true when the user is allowed to go back to a previous activity,false otherwise. Type boolean setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: bags/ActivitySequence.js, line 63 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActivitySequenceElement.html":{"id":"ActivitySequenceElement.html","title":"Class: ActivitySequenceElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActivitySequenceElement ActivitySequenceElement This class is the basic component of ActivitySequence objects. It represents a specificpoint in the project's sequence of JClic activities. For each point of the sequence, some options can be set: What activity must run at this point What to do or where to jump when the activity finishes The behavior of the &quot;next&quot; button The behavior of the &quot;prev&quot; button Sequence points can also have a &quot;tag&quot;, used to refer to them with a unique name. new ActivitySequenceElement() Source: bags/ActivitySequenceElement.js, line 54 Members activityName :string Name of the Activity pointed by this element. Type: string Source: bags/ActivitySequenceElement.js, line 107 backJump :ActivitySequenceJump Jump to be processed by the 'prev' button action. Type: ActivitySequenceJump Source: bags/ActivitySequenceElement.js, line 117 delay :number Time delay (in seconds) before passing to the next/prev activity Type: number Source: bags/ActivitySequenceElement.js, line 131 description :string Optional description of this sequence element. Type: string Source: bags/ActivitySequenceElement.js, line 102 fwdJump :ActivitySequenceJump Jump to be processed by the 'next' button action Type: ActivitySequenceJump Source: bags/ActivitySequenceElement.js, line 112 navButtons :string What buttons should be active at this point of the sequence. Valid values are: 'none' 'fwd' 'back' 'both' Type: string Source: bags/ActivitySequenceElement.js, line 122 tag :string Optional unique identifier of this element in the ActivitySequence. Type: string Source: bags/ActivitySequenceElement.js, line 97 Methods setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery Source: bags/ActivitySequenceElement.js, line 62 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ActivitySequenceJump.html":{"id":"ActivitySequenceJump.html","title":"Class: ActivitySequenceJump","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActivitySequenceJump ActivitySequenceJump This is a special case of JumpInfo, used only in ActivitySequenceElement objects.Sequence elements can contain up to two ActivitySequenceJump objects: one to be processedwhen the user clicks on the &quot;next&quot; button (or when the activity finishes, if in automatic mode),and the other used with the &quot;prev&quot; button. ActivitySequenceJump objects define a default jumpor action to be performed, but can also have up to two ConditionalJumpInfo objects. Thesedefine alternative jumps that are performed only when score or time are below or over a specificthreshold. new ActivitySequenceJump(action [, sq]) ActivitySequenceJump constructor Parameters: Name Type Argument Description action string Must be one of the described actions. sq number | string &lt;optional&gt; Can be the tag of the sequence element to jump to, or itscardinal number in the list. Source: bags/ActivitySequenceJump.js, line 51 Extends JumpInfo Members action :string The current action.Possible values are: JUMP, STOP, RETURN and EXIT. Type: string Inherited From: JumpInfo#action Source: bags/JumpInfo.js, line 92 actNum :number Activity number in the sequence list Type: number Inherited From: JumpInfo#actNum Source: bags/JumpInfo.js, line 98 id :string The JumpInfo identifier For regular jumps: 'forward', 'back' For conditional jumps: 'upper', 'lower' Type: string Inherited From: JumpInfo#id Source: bags/JumpInfo.js, line 85 lowerJump :ConditionalJumpInfo Optional jump to be performed when the results (score or time) are below a specific threshold. Type: ConditionalJumpInfo Source: bags/ActivitySequenceJump.js, line 111 projectPath :string Path of another JClic project to jump to Type: string Inherited From: JumpInfo#projectPath Source: bags/JumpInfo.js, line 108 sequence :string Current sequence tag Type: string Inherited From: JumpInfo#sequence Source: bags/JumpInfo.js, line 103 upperJump :ConditionalJumpInfo Optional jump to be performed when the results (score and time) are above a specific threshold. Type: ConditionalJumpInfo Source: bags/ActivitySequenceJump.js, line 106 Methods resolveJump(rating, time) Resolves what JumpInfo must be taken, based on a done time and average rating obtainedin activities. Parameters: Name Type Description rating number Average rating obtained by the user in the activities done during thelast sequence stretch. time number Total time spend doing the activities. Source: bags/ActivitySequenceJump.js, line 88 Returns: Type JumpInfo setProperties($xml) Loads the object settings from a specific JQuery XML element. Parameters: Name Type Description $xml external:jQuery The XML element to parse Overrides: JumpInfo#setProperties Source: bags/ActivitySequenceJump.js, line 66 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Arith.html":{"id":"Arith.html","title":"Class: Arith","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Arith Arith Arith provides randomly generated mental arithmetics operations, ready to be used in JClic activities. The operations can be additions, subtractions, multiplications or divides. The unknown of theseoperations can be the result of the operation (A op B = ?), any of the two operators(A op ? = C or ? op B = C) or also the operator itself (A ? B = C). new Arith(project) Arith constructor Parameters: Name Type Description project JClicProject The JClic project to which this provider is related Source: automation/arith/Arith.js, line 58 Extends AutoContentProvider Classes Operator Members exp_abx :boolean Allow expressions of type A op B = X Type: boolean Source: automation/arith/Arith.js, line 615 exp_axbc :boolean Allow expressions of type A x B = C Type: boolean Source: automation/arith/Arith.js, line 630 exp_axc :boolean Allow expressions of type A op X = C Type: boolean Source: automation/arith/Arith.js, line 620 exp_caxb :boolean Allow inverse expressions, like C = A op B Type: boolean Source: automation/arith/Arith.js, line 635 exp_xbc :boolean Allow expressions of type X op B = C Type: boolean Source: automation/arith/Arith.js, line 625 opA :Arith.Operator First operator Type: Arith.Operator Source: automation/arith/Arith.js, line 585 opB :Arith.Operator Second operator Type: Arith.Operator Source: automation/arith/Arith.js, line 590 opCond :string Sorting of the operands in commutative operations. Possible values are: 'AGB' (A greater than B),'BGA' (B greater tan A) and 'INDIF' (default) Type: string Source: automation/arith/Arith.js, line 666 project :JClicProject The JClic project to which AutoContentProvider belongs Type: JClicProject Inherited From: AutoContentProvider#project Source: automation/AutoContentProvider.js, line 118 resultCarry :boolean Allow carry operations Type: boolean Source: automation/arith/Arith.js, line 650 See: https://en.wikipedia.org/wiki/Carry_(arithmetic) resultLimInf :number Lower limit of the result Type: number Source: automation/arith/Arith.js, line 640 resultLimSup :number Upper limit of the result Type: number Source: automation/arith/Arith.js, line 645 resultNoDup :boolean Avoid operations with the same result Type: boolean Source: automation/arith/Arith.js, line 656 resultOrder :string Type of sorting of results. Possible values are: 'NOSORT', 'SORTASC' and 'SORTDESC' Type: string Source: automation/arith/Arith.js, line 661 use_add :boolean Allow additions Type: boolean Source: automation/arith/Arith.js, line 595 use_div :boolean Allow divides Type: boolean Source: automation/arith/Arith.js, line 610 use_mult :boolean Allow multiplications Type: boolean Source: automation/arith/Arith.js, line 605 use_subst :boolean Allow subtractions Type: boolean Source: automation/arith/Arith.js, line 600 Methods &lt;static&gt; DecFormat(val, dec, pre) Formats the number with a fixed number of decimals, optionally filling the result with leadingzeroes to have a fixed number of digits. Parameters: Name Type Description val number The value to format dec number Number of decimals pre number Minimal number of digits before dot. Source: automation/arith/Arith.js, line 77 Returns: Type String &lt;static&gt; Operator#setProperties($xml) Loads Arith.Operator settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: automation/arith/Arith.js, line 690 generateContent(nRows, nCols, content, useIds) Builds an AutoContentProvider.ActiveBagContentKit and generates the automatized content. Parameters: Name Type Description nRows number Number of rows to be processed nCols number Number of columns to be processed content Array.&lt;ActiveBagContent&gt; Array with one or more containers of ActiveBoxContentobjects to be filled with new content. useIds bolean When true, the id field of ActiveBoxContent objects is significant Inherited From: AutoContentProvider#generateContent Source: automation/AutoContentProvider.js, line 102 Returns: true if the process was OK. false otherwise. Type boolean genNum(n, op, limInf2, limSup2) Fills the n parameter (an Arith.Num) with a value in accordance with thespecifications of op (an Arith.Operand), between two limits. Parameters: Name Type Description n Arith.Num The number op Arith.Operator The operator limInf2 number Lower limit limSup2 number Upper limit Source: automation/arith/Arith.js, line 148 Returns: true if all was OK Type boolean genOp(o) Fills the provided Arith.Operator with real values Parameters: Name Type Description o Arith.Operator The operator to use to generate the operation Source: automation/arith/Arith.js, line 199 Returns: true if all was OK Type boolean init() Initializes the content provider Inherited From: AutoContentProvider#init Source: automation/AutoContentProvider.js, line 89 process(_kit) Generates the automatized content Parameters: Name Type Description _kit AutoContentProvider.ActiveBagContentKit The objects to be filled with content Inherited From: AutoContentProvider#process Overrides: AutoContentProvider#process Source: automation/AutoContentProvider.js, line 111 Returns: true if the process was OK. false otherwise. Type boolean setProperties($xml) Loads the object settings from a specific jQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Inherited From: AutoContentProvider#setProperties Overrides: AutoContentProvider#setProperties Source: automation/AutoContentProvider.js, line 81 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Arith.Operator.html":{"id":"Arith.Operator.html","title":"Class: Operator","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Operator Arith. Operator Operator is an Utility class used by Arith to encapsulate the properties and methods relatedto the members of the operations. new Operator() Source: automation/arith/Arith.js, line 679 Members fromList :number Take values from list. This member stores the list length. Type: number Source: automation/arith/Arith.js, line 760 limInf :number Lower limit Type: number Source: automation/arith/Arith.js, line 730 limSup :number Upper limit Type: number Source: automation/arith/Arith.js, line 735 lst :Array.&lt;number&gt; The list of possible values Type: Array.&lt;number&gt; Source: automation/arith/Arith.js, line 765 numDec :number Number of decimal places Type: number Source: automation/arith/Arith.js, line 740 wMinusOne :boolean Including -1 Type: boolean Source: automation/arith/Arith.js, line 755 wOne :boolean Including 1 Type: boolean Source: automation/arith/Arith.js, line 750 wZero :boolean Including 0 Type: boolean Source: automation/arith/Arith.js, line 745 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"AudioBuffer.html":{"id":"AudioBuffer.html","title":"Class: AudioBuffer","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: AudioBuffer AudioBuffer The AudioBuffer object provides sound recording and replaying to activities. new AudioBuffer( [seconds]) AudioBuffer constructor Parameters: Name Type Argument Description seconds number &lt;optional&gt; The maximum amount of time allowed to be recorded by this AudioBuffer Source: media/AudioBuffer.js, line 41 Members &lt;static&gt; MAX_RECORD_LENGTH :number Maximum amount of time allowed for recordings (in seconds) Type: number Source: media/AudioBuffer.js, line 149 chunks :Array.&lt;Blob&gt; Array of data chunks collected during the recording Type: Array.&lt;Blob&gt; Source: media/AudioBuffer.js, line 164 mediaPlayer :external:HTMLAudioElement The HTML audio element used to play the recorded sound Type: external:HTMLAudioElement Source: media/AudioBuffer.js, line 170 mediaRecorder :external:MediaRecorder The object used to record audio data and convert it to a valid stream for the mediaPlayer Type: external:MediaRecorder Source: media/AudioBuffer.js, line 158 playWhenFinished :boolean Instructs this AudioBuffer recorder to start playing the collected audio at the end of thecurrent mediaRecorder task. Type: boolean Source: media/AudioBuffer.js, line 183 seconds :number Maximum length of recordings allowed to this AudioBuffer (in seconds) Type: number Source: media/AudioBuffer.js, line 152 timeoutID :number The identifier of the timer launched to stop the recording when the maximum time is exceeded.This member is null when no timeout function is associated to this AudioBuffer Type: number Source: media/AudioBuffer.js, line 176 Methods clear() Clears all data associated to this AudioBuffer Source: media/AudioBuffer.js, line 139 play() Starts playing the currently recorded audio, if any. Source: media/AudioBuffer.js, line 55 record() Starts recording audio, or stops the recording if already started. Source: media/AudioBuffer.js, line 78 stop() Stops the current operation, either recording or playing audio Source: media/AudioBuffer.js, line 68 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"AutoContentProvider.html":{"id":"AutoContentProvider.html","title":"Class: AutoContentProvider","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: AutoContentProvider AutoContentProvider This abstract class is the base for classes that create on-time automatic content for JClicactivities, usually using random parameters to assure different content in each session. Activities with AutoContentProvider objects rely on them to build new content on every start. new AutoContentProvider(project) AutoContentProvider constructor Parameters: Name Type Description project JClicProject The JClic project to which this content provider belongs. Source: automation/AutoContentProvider.js, line 45 Classes ActiveBagContentKit Members &lt;static&gt; CLASSES :object Contains the current list of classes derived from AutoContentProvider.This object should be updated by real automation classes at declaration time.Currently, only two types of &quot;AutoContentProvider&quot; are defined: Arith and TagReplace. Type: object Source: automation/AutoContentProvider.js, line 148 project :JClicProject The JClic project to which AutoContentProvider belongs Type: JClicProject Source: automation/AutoContentProvider.js, line 118 Methods &lt;static&gt; getProvider($xml, project) Dynamic constructor that returns a specific type of AutoContentProvider based on the classattribute declared on an $xml element.It should be called only from Activity#setproperties Parameters: Name Type Description $xml external.jQuery The XML element to parse project JClicProject The JClic project to which this object will be related Source: automation/AutoContentProvider.js, line 62 Returns: Type AutoContentProvider generateContent(nRows, nCols, content, useIds) Builds an AutoContentProvider.ActiveBagContentKit and generates the automatized content. Parameters: Name Type Description nRows number Number of rows to be processed nCols number Number of columns to be processed content Array.&lt;ActiveBagContent&gt; Array with one or more containers of ActiveBoxContentobjects to be filled with new content. useIds bolean When true, the id field of ActiveBoxContent objects is significant Source: automation/AutoContentProvider.js, line 102 Returns: true if the process was OK. false otherwise. Type boolean init() Initializes the content provider Source: automation/AutoContentProvider.js, line 89 process(_kit) Generates the automatized content Parameters: Name Type Description _kit AutoContentProvider.ActiveBagContentKit The objects to be filled with content Source: automation/AutoContentProvider.js, line 111 Returns: true if the process was OK. false otherwise. Type boolean setProperties($xml) Loads the object settings from a specific jQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: automation/AutoContentProvider.js, line 81 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"AutoContentProvider.ActiveBagContentKit.html":{"id":"AutoContentProvider.ActiveBagContentKit.html","title":"Class: ActiveBagContentKit","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ActiveBagContentKit AutoContentProvider. ActiveBagContentKit Utility class used to encapsulate multiple sets of box contents new ActiveBagContentKit(nRows, nCols, content, useIds) Parameters: Name Type Description nRows number Number of rows to be processed nCols number Number of columns to be processed content Array.&lt;ActiveBagContent&gt; Array with one or more containers of ActiveBoxContentobjects to be filled with new content. useIds bolean true when the id field of ActiveBoxContent objects is significant. Source: automation/AutoContentProvider.js, line 134 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"BasicEvaluator.html":{"id":"BasicEvaluator.html","title":"Class: BasicEvaluator","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: BasicEvaluator BasicEvaluator A basic evaluator that just compares texts, without looking for possible coincidences of textfragments once erroneous characters removed. new BasicEvaluator(className) BasicEvaluator constructor Parameters: Name Type Description className string The class name of this evaluator. Source: activities/text/Evaluator.js, line 205 Extends Evaluator Members checkAccents :boolean Whether accented letters must be considered equivalent or not. Type: boolean Source: activities/text/Evaluator.js, line 297 checkcase :boolean Whether uppercase and lowercase expressions must be considered equivalent or not. Type: boolean Inherited From: Evaluator#checkcase Source: activities/text/Evaluator.js, line 192 checkDoubleSpaces :boolean Whether to check or not the extra spaces added between words. Type: boolean Source: activities/text/Evaluator.js, line 307 checkPunctuation :boolean Whether to check or not dots, commas and other punctuation marks when comparing texts. Type: boolean Source: activities/text/Evaluator.js, line 302 className :string The type of evaluator. Type: string Inherited From: Evaluator#className Source: activities/text/Evaluator.js, line 177 collator :external:Collator The Intl.Collator object used to compare strings, when available. Type: external:Collator Inherited From: Evaluator#collator Overrides: Evaluator#collator Source: activities/text/Evaluator.js, line 187 initiated :boolean Whether this evaluator has been initialized or not. Type: boolean Inherited From: Evaluator#initiated Source: activities/text/Evaluator.js, line 182 PUNCTUATION :string String containing all the characters considered as punctuation marks (currently &quot;.,;:&quot;) Type: string Source: activities/text/Evaluator.js, line 312 Methods _checkText(_text, _match) Abstract method to be implemented in subclasses.Performs the validation of a string against a single match. Parameters: Name Type Description _text string The text to be checked _match string A valid expression with which to compare. Inherited From: Evaluator#_checkText Overrides: Evaluator#_checkText Source: activities/text/Evaluator.js, line 133 Returns: true when the two expressions can be considered equivalent. Type boolean _evalText(_text, _match) Abstract method to be implemented in subclasses.Performs the evaluation of a string against an array of valid matches, returning an array offlags useful to indicate where the mistakes are located. Parameters: Name Type Description _text string The text to be checked _match string A valid expression with which to compare. Inherited From: Evaluator#_evalText Overrides: Evaluator#_evalText Source: activities/text/Evaluator.js, line 160 Returns: An array of flags (one number for character) indicating whether eachposition is erroneous or OK. Type Array.&lt;number&gt; checkText(text, match) Checks the given text against a set of valid matches Parameters: Name Type Description text string The text to be checked match string | Array.&lt;string&gt; The valid expression or expressions with which to compare. Inherited From: Evaluator#checkText Source: activities/text/Evaluator.js, line 117 Returns: true if the checked expression is valid, false otherwise. Type boolean evalText(text, match) Evaluates the given text against a set of valid matches, returning an array of flags usefulto indicate where the mistakes are located. Parameters: Name Type Description text string The text to be checked match string | Array.&lt;string&gt; The valid expression or expressions with which to compare. Inherited From: Evaluator#evalText Source: activities/text/Evaluator.js, line 145 Returns: An array of flags (one number for character) indicating whether eachposition is erroneous or ok. Type Array.&lt;number&gt; getClearedText(src, skipped) Removes double spaces and erroneous characters from a given text expression. Parameters: Name Type Description src string The text to be processed. skipped Array.&lt;boolean&gt; An array of boolean indicating which characters should be removedfrom the string. Source: activities/text/Evaluator.js, line 265 Returns: Type string init(_locales) Initializes this evaluator Parameters: Name Type Description _locales Array.&lt;string&gt; An array of valid locales, to be used by Intl.Collator Inherited From: Evaluator#init Overrides: Evaluator#init Source: activities/text/Evaluator.js, line 107 isOk(flags) Checks if the given array of flags (usually returned by evalText) can be considered as avalid or erroneous answer. Parameters: Name Type Description flags Array.&lt;number&gt; Inherited From: Evaluator#isOk Source: activities/text/Evaluator.js, line 170 Returns: true when there is at least one flag and all flags are 0 (meaning no error). Type boolean setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Evaluator#setProperties Source: activities/text/Evaluator.js, line 81 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"BlueSkin.html":{"id":"BlueSkin.html","title":"Class: BlueSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: BlueSkin BlueSkin This is a variant of the default Skin used by JClic.jsIt differs from DefaultSkin only in some colors new BlueSkin(ps [, name] [, options]) BlueSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects needed to build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options Source: skins/BlueSkin.js, line 46 Extends DefaultSkin Members $ctrlCnt :external:jQuery The HTML div where buttons, counters and message box are placed Type: external:jQuery Inherited From: DefaultSkin#$ctrlCnt Source: skins/DefaultSkin.js, line 237 $msgBoxDiv :external:jQuery The div DOM object where msgBox is located Type: external:jQuery Inherited From: DefaultSkin#$msgBoxDiv Source: skins/Skin.js, line 819 actionsIcon :string Actions icon Type: string Inherited From: DefaultSkin#actionsIcon Source: skins/DefaultSkin.js, line 404 closeIcon :string Close button Type: string Inherited From: DefaultSkin#closeIcon Source: skins/DefaultSkin.js, line 350 counterIconFill :string Counter icon fill color Type: string Inherited From: DefaultSkin#counterIconFill Source: skins/DefaultSkin.js, line 383 counterIconHeight :number Counter icon height Type: number Inherited From: DefaultSkin#counterIconHeight Source: skins/DefaultSkin.js, line 378 counterIconWidth :number Counter icon width Type: number Inherited From: DefaultSkin#counterIconWidth Source: skins/DefaultSkin.js, line 373 countersHeight :number Height of counters, in pixels Type: number Inherited From: DefaultSkin#countersHeight Source: skins/DefaultSkin.js, line 257 countersWidth :number Width of counters, in pixels Type: number Inherited From: DefaultSkin#countersWidth Source: skins/DefaultSkin.js, line 252 cssFonts :Array.&lt;string&gt; Fonts used in this skin Type: Array.&lt;string&gt; Inherited From: DefaultSkin#cssFonts Source: skins/DefaultSkin.js, line 296 fullScreenExitIcon :string Full screen off icon Type: string Inherited From: DefaultSkin#fullScreenExitIcon Source: skins/DefaultSkin.js, line 343 fullScreenIcon :string Full screen on icon Type: string Inherited From: DefaultSkin#fullScreenIcon Source: skins/DefaultSkin.js, line 336 halfMedia :object Screen sizes (width and height) below which will half sized elements will be used Type: object Inherited From: DefaultSkin#halfMedia Source: skins/Skin.js, line 1048 iconFill :string Fill color for icons Type: string Inherited From: DefaultSkin#iconFill Source: skins/DefaultSkin.js, line 313 iconHeight :number Icon height Type: number Inherited From: DefaultSkin#iconHeight Source: skins/DefaultSkin.js, line 308 iconWidth :number Icon width Type: number Inherited From: DefaultSkin#iconWidth Source: skins/DefaultSkin.js, line 303 infoIcon :string Info button Type: string Inherited From: DefaultSkin#infoIcon Source: skins/DefaultSkin.js, line 357 mainCSS :string Styles used in this skin Type: string Inherited From: DefaultSkin#mainCSS Source: skins/DefaultSkin.js, line 265 mainCSSHalf :string Styles used in this skin, sized to half its regular size Type: string Inherited From: DefaultSkin#mainCSSHalf Source: skins/DefaultSkin.js, line 276 mainCSSTwoThirds :string Styles used in this skin, sized to two thirds of its regular size Type: string Inherited From: DefaultSkin#mainCSSTwoThirds Source: skins/DefaultSkin.js, line 286 margin :number Space (pixels) between the components of this Skin Type: number Inherited From: DefaultSkin#margin Source: skins/DefaultSkin.js, line 242 msgBox :ActiveBox The box used to display the main messages of JClic activities Type: ActiveBox Inherited From: DefaultSkin#msgBox Source: skins/Skin.js, line 814 msgBoxHeight :number Height of DefaultSkin#msgBox Type: number Inherited From: DefaultSkin#msgBoxHeight Source: skins/DefaultSkin.js, line 247 nextIcon :string Icon for 'next activity' button Type: string Inherited From: DefaultSkin#nextIcon Source: skins/DefaultSkin.js, line 329 prevIcon :string Icon for 'previous activity' button Type: string Inherited From: DefaultSkin#prevIcon Source: skins/DefaultSkin.js, line 322 reportsIcon :string Reports button Type: string Inherited From: DefaultSkin#reportsIcon Source: skins/DefaultSkin.js, line 364 scoreIcon :string Score icon Type: string Inherited From: DefaultSkin#scoreIcon Source: skins/DefaultSkin.js, line 397 skinCSS :string Styles used in this skin Type: string Source: skins/BlueSkin.js, line 77 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: DefaultSkin#skinId Overrides: DefaultSkin#skinId Source: skins/DefaultSkin.js, line 230 timeIcon :string Time icon Type: string Inherited From: DefaultSkin#timeIcon Source: skins/DefaultSkin.js, line 389 twoThirdsMedia :object Screen sizes (width and height) below which will two-thirds sized elements will be used Type: object Inherited From: DefaultSkin#twoThirdsMedia Source: skins/Skin.js, line 1053 Methods _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: DefaultSkin#_getStyleSheets Source: skins/BlueSkin.js, line 65 Returns: Type string doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: DefaultSkin#doLayout Source: skins/DefaultSkin.js, line 200 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Inherited From: DefaultSkin#enableMainButtons Source: skins/DefaultSkin.js, line 224 getMsgBox() Gets the ActiveBox used to display the main messages of activities Inherited From: DefaultSkin#getMsgBox Source: skins/DefaultSkin.js, line 215 Returns: Type ActiveBox × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"BoxBag.html":{"id":"BoxBag.html","title":"Class: BoxBag","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: BoxBag BoxBag BoxBag is a class derived from AbstractBox that contains a collection of &quot;boxes&quot;(objects also derived from AbstractBox). This class implements methods to add, removeand retrieve boxes, and to manage some of its properties like visibility, status, location and size. new BoxBag(parent, container, boxBase) BoxBag constructor Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this box bag belongs container AWT.Container &lt;nullable&gt; The container where this box bag is placed. boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic properties Source: boxes/BoxBag.js, line 48 Extends AbstractBox Members $accessibleElement :external:jQuery DOM element used to display this cell content in wai-aria contexts Type: external:jQuery Inherited From: AbstractBox#$accessibleElement Source: boxes/AbstractBox.js, line 688 $hostedComponent :external:jQuery An external JQuery DOM element hosted by this box Type: external:jQuery Inherited From: AbstractBox#$hostedComponent Source: boxes/AbstractBox.js, line 698 accessibleAlwaysActive :boolean Flag indicating that $accessibleElement should be always active Type: boolean Inherited From: AbstractBox#accessibleAlwaysActive Source: boxes/AbstractBox.js, line 693 accessibleText :string Text to be used in accessible contexts Type: string Inherited From: AbstractBox#accessibleText Source: boxes/AbstractBox.js, line 678 alternative :boolean Whether this box must be displayed with alternative or regular color and font settings Type: boolean Inherited From: AbstractBox#alternative Source: boxes/AbstractBox.js, line 663 backgroundBox :AbstractBox An optional box used as a background by this BoxBag Type: AbstractBox Source: boxes/BoxBag.js, line 497 border :boolean Whether this box has a border or not Type: boolean Inherited From: AbstractBox#border Source: boxes/AbstractBox.js, line 623 boxBase :BoxBase The BoxBase related to this AbstractBox. When null, the parent can provide analternative one. Type: BoxBase Inherited From: AbstractBox#boxBase Source: boxes/AbstractBox.js, line 617 cells :Array.&lt;AbstractBox&gt; The array of cells Type: Array.&lt;AbstractBox&gt; Source: boxes/BoxBag.js, line 487 container :AWT.Container The Container to which this AbstractBox belongs Type: AWT.Container Inherited From: AbstractBox#container Source: boxes/AbstractBox.js, line 612 focused :boolean Whether this box holds the input focus Type: boolean Inherited From: AbstractBox#focused Source: boxes/AbstractBox.js, line 673 inactive :boolean Whether this box is active or inactive Type: boolean Inherited From: AbstractBox#inactive Source: boxes/AbstractBox.js, line 653 inverted :boolean Whether this box must be displayed with inverted or regular colors Type: boolean Inherited From: AbstractBox#inverted Source: boxes/AbstractBox.js, line 658 marked :boolean Whether this box is marked (selected) or not Type: boolean Inherited From: AbstractBox#marked Source: boxes/AbstractBox.js, line 668 parent :AbstractBox The parent AbstractBox (can be null) Type: AbstractBox Inherited From: AbstractBox#parent Source: boxes/AbstractBox.js, line 607 preferredBounds :AWT.Rectangle Rectangle containing the preferred bounds of the BoxBag Type: AWT.Rectangle Source: boxes/BoxBag.js, line 492 role :string Describes the main role of this box on the activity. Useful in wai-aria descriptions. Type: string Inherited From: AbstractBox#role Source: boxes/AbstractBox.js, line 683 shape :AWT.Shape The shape of this box (the box Rectangle or a special Shape, if set) Type: AWT.Shape Inherited From: AbstractBox#shape Source: boxes/AbstractBox.js, line 628 specialShape :boolean Whether this box has a shape that is not a rectangle Type: boolean Inherited From: AbstractBox#specialShape Source: boxes/AbstractBox.js, line 633 temporaryHidden :boolean Used to temporary hide a box while other drawing operations are done Type: boolean Inherited From: AbstractBox#temporaryHidden Source: boxes/AbstractBox.js, line 643 tmpTrans :boolean Cells with this attribute will be transparent but with painted border Type: boolean Inherited From: AbstractBox#tmpTrans Source: boxes/AbstractBox.js, line 648 visible :boolean Whether this box is visible or not Type: boolean Inherited From: AbstractBox#visible Source: boxes/AbstractBox.js, line 638 Methods &lt;static&gt; layoutDouble(desiredMaxSize, rsA, rsB, boxGridPos, margin) Static method that sets the position and dimension of two Resizable objects based on apreferred maximum size, a layout schema and a margin. Parameters: Name Type Description desiredMaxSize AWT.Dimension The preferred maximum size rsA Resizable First resizable object implementing the methods described in theResizableinterface of JClic. Currently a BoxBag or TextGrid. rsB Resizable Second resizable object boxGridPos string The layout schema. Possible values are: &quot;AB&quot; (_A_ at left, _B_ at right) &quot;BA&quot; (_B_ at left, _A_ at right) &quot;AUB&quot; (_A_ above _B_) &quot;BUA&quot; (_A_ below _B_). margin number The margin between the available area and the BoxBag Source: boxes/BoxBag.js, line 123 Returns: The resulting size of the container Type AWT.Dimension &lt;static&gt; layoutSingle(preferredMaxSize, rs, margin) Static method that sets the position and dimension of a Resizable object based on apreferred maximum dimension and a margin. Parameters: Name Type Description preferredMaxSize AWT.Dimension The preferred maximum size rs Resizable A resizable object implementing the methods described in theResizableinterface of JClic. Currently a BoxBag or TextGrid. margin number The margin between the available area and the BoxBag Source: boxes/BoxBag.js, line 72 Returns: The resulting size of the container Type AWT.Dimension addBox(bx) Adds an AbstractBox to the collection of cells Parameters: Name Type Description bx AbstractBox The box to add Source: boxes/BoxBag.js, line 265 boxIndex(bx) Returns the index of a specific box in the cells array Parameters: Name Type Description bx AbstractBox Source: boxes/BoxBag.js, line 282 Returns: Type number contains(p) Check if this box contains the specified point Parameters: Name Type Description p AWT.Point The point to be checked Inherited From: AbstractBox#contains Source: boxes/AbstractBox.js, line 179 Returns: Type boolean countInactiveCells() Count the number of cells of this BoxBag that are in &quot;inactive&quot; state Source: boxes/BoxBag.js, line 481 Returns: Type number drawBorder(ctx) Draws the box border Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas rendering context where the borderwill be drawn. Inherited From: AbstractBox#drawBorder Source: boxes/AbstractBox.js, line 490 end() Finisher method Inherited From: AbstractBox#end Source: boxes/AbstractBox.js, line 88 findBox(p) Finds the first visible AbstractBox located under the specified point Parameters: Name Type Description p AWT.Point Source: boxes/BoxBag.js, line 465 Returns: Type AbstractBox getBackgroundBox() Gets the background box Source: boxes/BoxBag.js, line 299 Returns: Type AbstractBox getBorderBounds() Returns the enclosing Rectangle of this box including its border (if any) Inherited From: AbstractBox#getBorderBounds Source: boxes/AbstractBox.js, line 515 Returns: Type AWT.Rectangle getBox(n) Returns the box at a specific index in the cells array Parameters: Name Type Description n number The index Source: boxes/BoxBag.js, line 291 Returns: Type AbstractBox getBoxBaseResolve() Gets the real BoxBase associated to this box, scanning down parent relationships. Inherited From: AbstractBox#getBoxBaseResolve Source: boxes/AbstractBox.js, line 146 Returns: Type BoxBase getContainerResolve() Gets the container associated to this box, asking its parents when null. Inherited From: AbstractBox#getContainerResolve Source: boxes/AbstractBox.js, line 115 Returns: Type AWT.Container getContainerX() Gets the container attribute of this box, without checking its parent Inherited From: AbstractBox#getContainerX Source: boxes/AbstractBox.js, line 107 Returns: Type AWT.Container getHostedComponent() Gets the current $hostedComponent member Inherited From: AbstractBox#getHostedComponent Source: boxes/AbstractBox.js, line 551 Returns: Type external:jQuery getMinimumSize() Gets the minimum size requested by this BoxBag Source: boxes/BoxBag.js, line 244 Returns: Type AWT.Dimension getNumCells() Returns the number of cells stored in this BoxBag Source: boxes/BoxBag.js, line 344 Returns: Type number getParent() Gets the current parent of this box Inherited From: AbstractBox#getParent Source: boxes/AbstractBox.js, line 81 Returns: Type AbstractBox getPreferredSize() Gets the preferred size of this BoxBag Source: boxes/BoxBag.js, line 236 Returns: Type AWT.Dimension getScaledSize(scale) Scales the current size of this box bag, multiplying all values by a specific factor Parameters: Name Type Description scale number The scale factor Source: boxes/BoxBag.js, line 256 Returns: Type AWT.Dimension getShape() Gets the current shape used in this box Inherited From: AbstractBox#getShape Source: boxes/AbstractBox.js, line 169 Returns: Type AWT.Shape hasBorder() Checks if this box has border Inherited From: AbstractBox#hasBorder Source: boxes/AbstractBox.js, line 252 Returns: Type boolean invalidate(rect) Invalidates the zone corresponding to this box in the associated AWT.Container, if any. Parameters: Name Type Description rect AWT.Rectangle The rectangle to be invalidated. When null, it's the fullcontainer area. Inherited From: AbstractBox#invalidate Source: boxes/AbstractBox.js, line 127 isAlternative() Checks if this box is in alternative state. Inherited From: AbstractBox#isAlternative Source: boxes/AbstractBox.js, line 412 Returns: Type boolean isFocused() Checks if this box has the input focus Inherited From: AbstractBox#isFocused Source: boxes/AbstractBox.js, line 388 Returns: Type boolean isInactive() Checks if this box is currently inactive. Inherited From: AbstractBox#isInactive Source: boxes/AbstractBox.js, line 315 Returns: Type boolean isInverted() Checks if this box is in inverted state. Inherited From: AbstractBox#isInverted Source: boxes/AbstractBox.js, line 344 Returns: Type boolean isMarked() Checks if this box is marked Inherited From: AbstractBox#isMarked Source: boxes/AbstractBox.js, line 365 Returns: Type boolean isTemporaryHidden() Checks if this box is temporary hidden Inherited From: AbstractBox#isTemporaryHidden Source: boxes/AbstractBox.js, line 299 Returns: Type boolean isVisible() Checks if this box is fully visible Inherited From: AbstractBox#isVisible Source: boxes/AbstractBox.js, line 272 Returns: Type boolean moveBy(dx, dy) Sets a new location to this box. In JClic this method was named translate. Parameters: Name Type Description dx number The displacement on the X axis dy number The displacement on the Y axis Inherited From: AbstractBox#moveBy Source: boxes/AbstractBox.js, line 235 moveTo(newPos [, y]) Sets a new location for this box. In JClic this method was named setLocation Parameters: Name Type Argument Description newPos AWT.Point | number A point or the x coordinate of a new point. y number &lt;optional&gt; The y coordinate of a new point. Inherited From: AbstractBox#moveTo Source: boxes/AbstractBox.js, line 224 recalcSize() Recalculates the total size of this BoxBag (useful after direct additions o deletions ofelements in the cells array).Updates preferredBounds and the current position and size of the box bag. Source: boxes/BoxBag.js, line 323 setAlternative(newVal) Sets this box in alternative mode, or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setAlternative Overrides: AbstractBox#setAlternative Source: boxes/AbstractBox.js, line 420 setBackgroundBox(bx) Sets the background box Parameters: Name Type Description bx AbstractBox Source: boxes/BoxBag.js, line 307 setBorder(newVal) Sets/unsets a border to this box Parameters: Name Type Description newVal boolean true to set a border. Inherited From: AbstractBox#setBorder Overrides: AbstractBox#setBorder Source: boxes/AbstractBox.js, line 260 setBounds(rect [, y] [, w] [, h]) Sets a new size and/or dimension to this box Parameters: Name Type Argument Description rect AWT.Rectangle | number An AWT.Rectangle object, or the x coordinate of theupper-left corner of a new rectangle. y number &lt;optional&gt; y coordinate of the upper-left corner of the new rectangle. w number &lt;optional&gt; Width of the new rectangle. h number &lt;optional&gt; Height of the new rectangle. Inherited From: AbstractBox#setBounds Overrides: AbstractBox#setBounds Source: boxes/AbstractBox.js, line 192 setBoxBase(boxBase) Sets the BoxBase of this box Parameters: Name Type Description boxBase BoxBase The new BoxBase Inherited From: AbstractBox#setBoxBase Source: boxes/AbstractBox.js, line 137 setCellAttr(key, value) Sets the specified key - value pair to all cells of this bag. Parameters: Name Type Description key string The key to be established value The value, of any type Source: boxes/BoxBag.js, line 353 setContainer(newContainer) Setter method for container Parameters: Name Type Description newContainer AWT.Container The new Container assigned to this box Inherited From: AbstractBox#setContainer Source: boxes/AbstractBox.js, line 95 setFocused(newVal) Sets or unsets the input focus to this box. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setFocused Source: boxes/AbstractBox.js, line 397 setHostedComponent($hc) Sets the $hostedComponent member. Parameters: Name Type Description $hc external:jQuery The jQuery DOM component hosted by this box. Inherited From: AbstractBox#setHostedComponent Source: boxes/AbstractBox.js, line 531 setHostedComponentBorder() Sets the $hostedComponent border, based on the currentBoxBase of this box. Inherited From: AbstractBox#setHostedComponentBorder Source: boxes/AbstractBox.js, line 574 setHostedComponentBounds(_sizeChanged) Places and resizes $hostedComponent, based on the sizeand position of this box. Parameters: Name Type Description _sizeChanged boolean true when this ActiveBox has changed its size Inherited From: AbstractBox#setHostedComponentBounds Source: boxes/AbstractBox.js, line 590 setHostedComponentColors() Sets $hostedComponent colors and other css propertiesbased on the current BoxBase of this box. Inherited From: AbstractBox#setHostedComponentColors Source: boxes/AbstractBox.js, line 559 setHostedComponentVisible() Makes AbstractBox#$hostedComponent visible or invisible, based on the value ofthe AbstractBox visible flag. Inherited From: AbstractBox#setHostedComponentVisible Source: boxes/AbstractBox.js, line 290 setInactive(newVal) Makes this box active (false) or inactive (true) Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setInactive Source: boxes/AbstractBox.js, line 323 setInverted(newVal) Puts this box in inverted mode or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setInverted Source: boxes/AbstractBox.js, line 353 setMarked(newVal) Sets this box in marked mode, or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setMarked Source: boxes/AbstractBox.js, line 373 setParent(parent) Setter method for parent Parameters: Name Type Description parent AbstractBox The new parent of this box Inherited From: AbstractBox#setParent Source: boxes/AbstractBox.js, line 73 setShape(sh) Sets the shape used to draw the content of this box Parameters: Name Type Description sh AWT.Shape The shape to be set Inherited From: AbstractBox#setShape Source: boxes/AbstractBox.js, line 157 setSize(width, height) Changes the size of this box Parameters: Name Type Description width number height number Inherited From: AbstractBox#setSize Source: boxes/AbstractBox.js, line 244 setTemporaryHidden(newVal) Makes this box temporary hidden (newVal true) or resets its original state (newVal false) Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setTemporaryHidden Source: boxes/AbstractBox.js, line 307 setVisible(newVal) Sets this box visible or invisible Parameters: Name Type Description newVal boolean true for visible Inherited From: AbstractBox#setVisible Overrides: AbstractBox#setVisible Source: boxes/AbstractBox.js, line 280 update(ctx [, dirtyRegion]) Draws the content of this box on an HTML canvas element. At this level, only backgroundand border are painted/stroked. Derived classes should implement specific drawing tasks inAbstractBox#updateContent. Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: AbstractBox#update Overrides: AbstractBox#update Source: boxes/AbstractBox.js, line 433 updateContent(_ctx [, _dirtyRegion]) Here is where classes derived from AbstractBox should implement the drawing of itscontent. Background and border are already painted in AbstractBox#update. Parameters: Name Type Argument Description _ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. _dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: AbstractBox#updateContent Source: boxes/AbstractBox.js, line 482 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"BoxBase.html":{"id":"BoxBase.html","title":"Class: BoxBase","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: BoxBase BoxBase This class contains all the main visual attributes needed to draw AbstractBox objects:background and foreground colors, gradients, colors for special states (inactive, alternative,disabled...), margins, fonts, border strokes, etc. Objects derived from AbstractBox can have inheritance: boxes that act as &quot;containers&quot;of other boxes (like BoxBag). Most of the attributes of BoxBase can be null,meaning that the value of the ancestor -or the default value if the box has no ancestors- mustbe used. new BoxBase( [parent]) BoxBase constructor Parameters: Name Type Argument Description parent BoxBase &lt;optional&gt; Another BoxBase object used to determine the value of properties notlocally set. Source: boxes/BoxBase.js, line 53 Members alternativeColor :string The color used to draw text when a cell is in alternative state. Type: string Source: boxes/BoxBase.js, line 321 backColor :string The background color Type: string Source: boxes/BoxBase.js, line 291 bgGradient :AWT.Gradient The background gradient. Default is null. Type: AWT.Gradient Source: boxes/BoxBase.js, line 296 borderColor :string The color of the border. Type: string Source: boxes/BoxBase.js, line 311 borderStroke :AWT.Stroke The stroke used to draw the border. Type: AWT.Stroke Source: boxes/BoxBase.js, line 347 defaultValues :object Default values Type: object Source: boxes/BoxBase.js, line 268 dontFill :boolean Wheter the cell's background should be painted or not. This property has no effect onhosted components. Type: boolean Source: boxes/BoxBase.js, line 336 dynFontSize :number The current font size of this BoxBase. Can be dynamically adjusted when drawing. Type: number Source: boxes/BoxBase.js, line 280 font :AWT.Font Font size can be dynamically reduced to fit the available space if any element using thisBoxBase requests it. When this happen, this field contains the real font currently usedto draw text. Type: AWT.Font Source: boxes/BoxBase.js, line 273 inactiveColor :string The color used to draw text when a cell is in inactive state. Type: string Source: boxes/BoxBase.js, line 316 markerStroke :AWT.Stroke The stroke used to draw a border around marked cells. Type: AWT.Stroke Source: boxes/BoxBase.js, line 352 parent :BoxBase The parent BoxBase object Type: BoxBase Source: boxes/BoxBase.js, line 263 resetFontCounter :number Counts the number of times the dynFontSize has been reset. This is useful to avoid excessiverecursive loops searching the optimal font size. Type: number Source: boxes/BoxBase.js, line 285 shadow :boolean Whether the text should have a shadow or not Type: boolean Source: boxes/BoxBase.js, line 326 shadowColor :string The color used to draw a shadow below regular text. Type: string Source: boxes/BoxBase.js, line 306 textColor :string The color used to write text. Type: string Source: boxes/BoxBase.js, line 301 textMargin :number The margin to respect between text elements and the limits of the cell or other elements. Type: number Source: boxes/BoxBase.js, line 342 transparent :boolean Whether the cell's background (and its hosted component, if any) should be transparent Type: boolean Source: boxes/BoxBase.js, line 331 Methods get(property) Gets the value of the specified property, scanning down to parents and prototype if not defined. Parameters: Name Type Description property string The property to retrieve Source: boxes/BoxBase.js, line 118 Returns: The object or value associated to this property Type * getCSS( [css], inactive, inverse, alternative) Gets the properties defined in this BoxBase as a collection of CSS attributes Parameters: Name Type Argument Description css object &lt;optional&gt; An optional set of initial CSS properties inactive boolean When true, get CSS attributes for an inactive cell inverse boolean When true, get CSS attributes for an inverse cell alternative boolean When true, get CSS attributes for an alternative cell Source: boxes/BoxBase.js, line 163 Returns: Type object getOwn(property) Gets the value of the specified property, scanning down to parents if not defined, and returningalways an own property (not from prototype) Parameters: Name Type Description property string The property to retrieve Source: boxes/BoxBase.js, line 141 Returns: The object associated to this property Type * prepareText(ctx, text, maxWidth, maxHeight) This utility method computes the width and height of text lines rendered on an HTMLcanvas element, reducing the font size of the BoxBase as needed when they exceed the maximumwidth and/or height. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw the text. text string The text to drawn. maxWidth number Maximum width maxHeight number Maximum height Source: boxes/BoxBase.js, line 200 Returns: An array of objects representing lines of text. Each object has a textmember with the text displayed in the line, and a size member with the line AWT.Dimension Type Array.&lt;object&gt; set(property, value) Sets the value of a specific property. Parameters: Name Type Description property string The property name. value * Depends on the type of property Source: boxes/BoxBase.js, line 130 setProperties($xml) Loads the BoxBase settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: boxes/BoxBase.js, line 67 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"BoxConnector.html":{"id":"BoxConnector.html","title":"Class: BoxConnector","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: BoxConnector BoxConnector BoxConnector allows users to visually connect two ActiveBox objects of anActivityPanel. There are two modes of operation: Drawing a line between an origin point (usually the point where the user clicks on) and adestination point. Dragging the ActiveBox from one location to another. The connecting lines can have arrowheads at its endings. new BoxConnector(parent, ctx) BoxConnector constructor Parameters: Name Type Description parent AWT.Container The Container to which this BoxConnector belongs ctx external:CanvasRenderingContext2D The canvas rendering context where to draw Source: boxes/BoxConnector.js, line 49 Members active :boolean true while the connector is active Type: boolean Source: boxes/BoxConnector.js, line 254 arrow :boolean When true, the connector must end on arrowhead Type: boolean Source: boxes/BoxConnector.js, line 249 arrowAngle :number The arrowhead angle Type: number Source: boxes/BoxConnector.js, line 269 arrowLength :number The arrowhead length (in pixels) Type: number Source: boxes/BoxConnector.js, line 264 bgImg :external:HTMLImageElement The background image, saved and redrawn on each movement Type: external:HTMLImageElement Source: boxes/BoxConnector.js, line 229 bgRect :AWT.Rectangle The rectangle of ActivityPanel saved in bgImg Type: AWT.Rectangle Source: boxes/BoxConnector.js, line 234 bx :ActiveBox The ActiveBox to connect or move Type: ActiveBox Source: boxes/BoxConnector.js, line 303 compositeOp :string The global composite operator used when drawing in XOR mode. Default is &quot;difference&quot;.For a list of possible values see:https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation Type: string Source: boxes/BoxConnector.js, line 284 ctx :external:CanvasRenderingContext2D The Graphics context where the BoxConnector will paint Type: external:CanvasRenderingContext2D Source: boxes/BoxConnector.js, line 308 DEFAULT_COMPOSITE_OP :string The default composite operator(&quot;source-over&quot;). Type: string Source: boxes/BoxConnector.js, line 291 dest :AWT.Point Current (while moving) and final position of the connector Type: AWT.Point Source: boxes/BoxConnector.js, line 244 dim :AWT.Dimension The dimension of the HTML canvas where to draw Type: AWT.Dimension Source: boxes/BoxConnector.js, line 313 lineColor :string The main color used in XOR operations Type: string Source: boxes/BoxConnector.js, line 274 linePainted :boolean true while the line has already been painted (used for XOR expressions) Type: boolean Source: boxes/BoxConnector.js, line 259 lineWidth :number Width of the connector line Type: number Source: boxes/BoxConnector.js, line 323 origin :AWT.Point Initial position of the connector Type: AWT.Point Source: boxes/BoxConnector.js, line 239 parent :AWT.Container The container to which this connector belongs Type: AWT.Container Source: boxes/BoxConnector.js, line 318 relativePos :AWT.Point Relative position of point B regarding A Type: AWT.Point Source: boxes/BoxConnector.js, line 298 xorColor :string The complementary color used in XOR operations Type: string Source: boxes/BoxConnector.js, line 279 Methods begin(pt [, box]) Starts the box connector operation Parameters: Name Type Argument Description pt AWT.Point Starting point box ActiveBox &lt;optional&gt; Passed only when the BoxConnector runs in drag&amp;drop mode Source: boxes/BoxConnector.js, line 125 drawLine() Strokes a line between origin and dest, optionally ended with an arrowhead. Source: boxes/BoxConnector.js, line 187 end() Finalizes the operation of this box connector until a new call to begin Source: boxes/BoxConnector.js, line 161 moveBy(dx, dy) Displaces the ending point of the connector Parameters: Name Type Description dx number Displacement on the X axis dy number Displacement on the Y axis Source: boxes/BoxConnector.js, line 69 moveTo(pt, forcePaint) Moves the ending point of the connector to a new position Parameters: Name Type Description pt AWT.Point The new position forcePaint boolean When true, forces the repaint of all the area also if there isno movement at all. Source: boxes/BoxConnector.js, line 79 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ClassicJigSaw.html":{"id":"ClassicJigSaw.html","title":"Class: ClassicJigSaw","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ClassicJigSaw ClassicJigSaw This is the classic JigSaw Shaper used in puzzle toys, where teeth and slotsare shaped by Bézier curves. new ClassicJigSaw(nx, ny) ClassicJigSaw constructor Parameters: Name Type Description nx number Number of columns ny number Number of rows Source: shapers/ClassicJigSaw.js, line 46 Extends JigSaw Members baseWidthFactor :number ClassicJigSaw needs a biggest base width Type: number Source: shapers/ClassicJigSaw.js, line 130 toothHeightFactor :number ClassicJigSaw needs a biggest base height factor Type: number Source: shapers/ClassicJigSaw.js, line 135 Methods buildShapes() Builds the jigsaw shapes based on the number of rows and columns Inherited From: JigSaw#buildShapes Source: shapers/JigSaw.js, line 60 hLine(sd, type, x, y, w, h, inv) Adds an horizontal line to the provided path Parameters: Name Type Description sd AWT.Path The Path to which the line will be added type number Type of tooth: 0 is flat (no tooth), 1 means tooth up, and 2 means tooth down x number X coordinate of the starting point y number Y coordinate of the starting point w number Width of the piece h number Height of the piece inv boolean The line must be drawn right to left Inherited From: JigSaw#hLine Overrides: JigSaw#hLine Source: shapers/JigSaw.js, line 108 vLine(sd, type, x, y, w, h, inv) Adds a vertical line to the provided path Parameters: Name Type Description sd AWT.Path The Path to which the line will be added type number Type of tooth: 0 is flat (no tooth), 1 means tooth right, and 2 means tooth left x number X coordinate of the starting point y number Y coordinate of the starting point w number Width of the piece h number Height of the piece inv boolean The line must be drawn bottom to top Inherited From: JigSaw#vLine Overrides: JigSaw#vLine Source: shapers/JigSaw.js, line 142 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Complete.html":{"id":"Complete.html","title":"Class: Complete","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Complete Complete This type of text activity suggests users to complete a given text, without any help on where towrite the missing words or phrases. new Complete(project) Complete constructor Parameters: Name Type Description project JClicProject The project to which this activity belongs Source: activities/text/Complete.js, line 46 Extends TextActivityBase Members &lt;static&gt; Panel :class Panel class associated to this type of activity: CompletePanel Type: class Source: activities/text/Complete.js, line 132 checkButtonText :string This is the label used by text activities for the check button, when present. Type: string Inherited From: TextActivityBase#checkButtonText Source: activities/text/TextActivityBase.js, line 73 ev :Evaluator This is the object used to evaluate user's answers in text activities. Type: Evaluator Inherited From: TextActivityBase#ev Source: activities/text/TextActivityBase.js, line 68 prevScreen :boolean When true, a text will be shown before the beginning of the activity. Type: boolean Inherited From: TextActivityBase#prevScreen Source: activities/text/TextActivityBase.js, line 78 prevScreenMaxTime :number Maximum amount of time for showing the previous document. Type: number Inherited From: TextActivityBase#prevScreenMaxTime Source: activities/text/TextActivityBase.js, line 94 prevScreenStyle :BoxBase The style of the optional text to be shown before the beginning of the activity. Type: BoxBase Inherited From: TextActivityBase#prevScreenStyle Source: activities/text/TextActivityBase.js, line 89 prevScreenText :string Optional text to be shown before the beginning of the activity. When null, this text isthe main document. Type: string Inherited From: TextActivityBase#prevScreenText Source: activities/text/TextActivityBase.js, line 83 Methods getMinNumActions() Retrieves the minimum number of actions needed to solve this activity Inherited From: TextActivityBase#getMinNumActions Source: activities/text/TextActivityBase.js, line 62 Returns: Type number × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"CompletePanel.html":{"id":"CompletePanel.html","title":"Class: CompletePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: CompletePanel CompletePanel The TextActivityBasePanel where Complete activities are played. new CompletePanel(act, ps [, $div]) CompletePanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/text/Complete.js, line 61 Extends TextActivityBasePanel Members $checkButton :external:jQuery The button used to check the activity, only when Activity.checkButtonText is not null Type: external:jQuery Inherited From: TextActivityBasePanel#$checkButton Source: activities/text/TextActivityBase.js, line 486 $currentPopup :external:jQuery The popup currently been displayed Type: external:jQuery Inherited From: TextActivityBasePanel#$currentPopup Source: activities/text/TextActivityBase.js, line 496 currentPopupTimer :number A timer controlling the time the current popup will be displayed Type: number Inherited From: TextActivityBasePanel#currentPopupTimer Source: activities/text/TextActivityBase.js, line 501 popupWaitTimer :number A timer prepared to display a popup after a while Type: number Inherited From: TextActivityBasePanel#popupWaitTimer Source: activities/text/TextActivityBase.js, line 506 prevScreenTimer :number System timer used to close the previous document when act.maxTime is reached. Type: number Inherited From: TextActivityBasePanel#prevScreenTimer Source: activities/text/TextActivityBase.js, line 491 targets :Array.&lt;external:jQuery&gt; Array of jQuery DOM elements (usually of type 'span') containing the targets of this activity Type: Array.&lt;external:jQuery&gt; Inherited From: TextActivityBasePanel#targets Source: activities/text/TextActivityBase.js, line 475 targetsMarked :boolean Flag indicating if targets must be visually marked at the beginning of the activity.Should be true except for IdentifyText activities. Type: boolean Inherited From: TextActivityBasePanel#targetsMarked Source: activities/text/TextActivityBase.js, line 480 Methods $createTargetElement(target, $span) Creates a target DOM element.This method can be overridden in subclasses to create specific types of targets. Parameters: Name Type Description target TextActivityDocument.TextTarget The target related to the DOM object to be created $span external:jQuery An initial DOM object (usually a span) that can be usedto store the target, or replaced by another type of object. Inherited From: TextActivityBasePanel#$createTargetElement Overrides: TextActivityBasePanel#$createTargetElement Source: activities/text/TextActivityBase.js, line 313 Returns: The jQuery DOM element loaded with the target data. Type external:jQuery evaluatePanel() Called when the user clicks on the check button Inherited From: TextActivityBasePanel#evaluatePanel Overrides: TextActivityBasePanel#evaluatePanel Source: activities/text/TextActivityBase.js, line 394 Returns: true when the panel is OK, false otherwise. Type boolean finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Overrides: TextActivityBasePanel#finishActivity Source: activities/text/Complete.js, line 123 initActivity() Basic initialization procedure, common to all activities. Inherited From: TextActivityBasePanel#initActivity Source: activities/text/TextActivityBase.js, line 323 preInitActivity() Called when the text activity has a 'previous screen' information to be shown before theactivity starts Inherited From: TextActivityBasePanel#preInitActivity Source: activities/text/TextActivityBase.js, line 345 processEvent(_event) Main handler used to process mouse, touch, keyboard and edit events Parameters: Name Type Description _event HTMLEvent The HTML event to be processed Inherited From: TextActivityBasePanel#processEvent Source: activities/text/TextActivityBase.js, line 422 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setDocContent($div, doc) Fills a jQuery DOM element (usually a 'div') with the specified TextActivityDocument. Parameters: Name Type Description $div external:jQuery The jQuery DOM object to be filled with the document. doc TextActivityDocument The document Inherited From: TextActivityBasePanel#setDocContent Source: activities/text/TextActivityBase.js, line 125 showPopup($popup, maxTime, waitTime) Parameters: Name Type Description $popup external:jQuery The popup to display, or _null _ to just hide the current popup maxTime number The maximum time to mantain the popup on screen, in seconds waitTime number When set, indicates the number of seconds to wait before show the popup Inherited From: TextActivityBasePanel#showPopup Source: activities/text/TextActivityBase.js, line 431 startActivity() Called when the activity starts playing Inherited From: TextActivityBasePanel#startActivity Overrides: TextActivityBasePanel#startActivity Source: activities/text/TextActivityBase.js, line 334 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ComplexAssociation.html":{"id":"ComplexAssociation.html","title":"Class: ComplexAssociation","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ComplexAssociation ComplexAssociation This is a special case of SimpleAssociation where the elements of the 'secondary' panelcan have zero, one or more associated elements in the 'primary' panel. new ComplexAssociation(project) ComplexAssociation constructor Parameters: Name Type Description project JClicProject The JClic project to which this activity belongs Source: activities/associations/ComplexAssociation.js, line 47 Extends SimpleAssociation Members &lt;static&gt; Panel :class Panel class associated to this type of activity: ComplexAssociationPanel Type: class Source: activities/associations/ComplexAssociation.js, line 325 nonAssignedCells :number Number of unassigned cells Type: number Source: activities/associations/ComplexAssociation.js, line 81 useIdAss :boolean Uses cell's idAss field to check if pairings match Type: boolean Overrides: SimpleAssociation#useIdAss Source: activities/associations/ComplexAssociation.js, line 86 Methods getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: SimpleAssociation#getMinNumActions Overrides: SimpleAssociation#getMinNumActions Source: activities/associations/SimpleAssociation.js, line 67 Returns: Type number hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: SimpleAssociation#hasRandom Source: activities/associations/SimpleAssociation.js, line 76 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request help. Inherited From: SimpleAssociation#helpSolutionAllowed Source: activities/associations/SimpleAssociation.js, line 94 Returns: Type boolean setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Source: activities/associations/ComplexAssociation.js, line 62 shuffleAlways() When true, the activity must always be scrambled Inherited From: SimpleAssociation#shuffleAlways Source: activities/associations/SimpleAssociation.js, line 85 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ComplexAssociationPanel.html":{"id":"ComplexAssociationPanel.html","title":"Class: ComplexAssociationPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ComplexAssociationPanel ComplexAssociationPanel The ActivityPanel where ComplexAssociation activities are played. new ComplexAssociationPanel(act, ps [, $div]) ComplexAssociationPanel prototype Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/associations/ComplexAssociation.js, line 98 Extends SimpleAssociationPanel Members bc :BoxConnector The box connector Type: BoxConnector Inherited From: SimpleAssociationPanel#bc Source: activities/associations/SimpleAssociation.js, line 506 bgA :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the primary panel Type: ActiveBoxBag Inherited From: SimpleAssociationPanel#bgA Source: activities/associations/SimpleAssociation.js, line 496 bgB :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the secondary panel Type: ActiveBoxBag Inherited From: SimpleAssociationPanel#bgB Source: activities/associations/SimpleAssociation.js, line 501 events :Array.&lt;string&gt; List of mouse, touch and keyboard events intercepted by this panel Type: Array.&lt;string&gt; Inherited From: SimpleAssociationPanel#events Source: activities/associations/SimpleAssociation.js, line 511 Methods buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: SimpleAssociationPanel#buildAccessibleComponents Source: activities/associations/SimpleAssociation.js, line 327 buildVisualComponents() Prepares the visual components of the activity Inherited From: SimpleAssociationPanel#buildVisualComponents Overrides: SimpleAssociationPanel#buildVisualComponents Source: activities/associations/SimpleAssociation.js, line 144 checkInvAss() Checks if all inverse associations are done Source: activities/associations/ComplexAssociation.js, line 140 Returns: Type boolean clear() Performs miscellaneous cleaning operations Inherited From: SimpleAssociationPanel#clear Source: activities/associations/SimpleAssociation.js, line 129 initActivity() Basic initialization procedure Inherited From: SimpleAssociationPanel#initActivity Source: activities/associations/SimpleAssociation.js, line 211 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: SimpleAssociationPanel#processEvent Overrides: SimpleAssociationPanel#processEvent Source: activities/associations/SimpleAssociation.js, line 344 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: SimpleAssociationPanel#setBounds Source: activities/associations/SimpleAssociation.js, line 277 setDimension(preferredMaxSize) Sets the real dimension of this panel. Parameters: Name Type Description preferredMaxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: SimpleAssociationPanel#setDimension Source: activities/associations/SimpleAssociation.js, line 266 Returns: Type AWT.Dimension updateContent(dirtyRegion) Updates the graphic content of this panel.This method will be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: SimpleAssociationPanel#updateContent Source: activities/associations/SimpleAssociation.js, line 245 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ComplexEvaluator.html":{"id":"ComplexEvaluator.html","title":"Class: ComplexEvaluator","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ComplexEvaluator ComplexEvaluator ComplexEvaluator acts like BasicEvaluator, but providing feedback aboutthe location of mistakes on the user's answer. new ComplexEvaluator(className) ComplexEvaluator constructor Parameters: Name Type Description className string The class name of this evaluator. Source: activities/text/Evaluator.js, line 325 Extends BasicEvaluator Members checkAccents :boolean Whether accented letters must be considered equivalent or not. Type: boolean Inherited From: BasicEvaluator#checkAccents Source: activities/text/Evaluator.js, line 297 checkcase :boolean Whether uppercase and lowercase expressions must be considered equivalent or not. Type: boolean Inherited From: Evaluator#checkcase Source: activities/text/Evaluator.js, line 192 checkDoubleSpaces :boolean Whether to check or not the extra spaces added between words. Type: boolean Inherited From: BasicEvaluator#checkDoubleSpaces Source: activities/text/Evaluator.js, line 307 checkPunctuation :boolean Whether to check or not dots, commas and other punctuation marks when comparing texts. Type: boolean Inherited From: BasicEvaluator#checkPunctuation Source: activities/text/Evaluator.js, line 302 checkScope :number When an eror is detected in the analyzed expression, this variable indicates the number ofcharacters the checking pointer will be moved forward and back looking for a coincidentexpression. For example, comparing the answer &quot;one lardzy dog&quot; with the correct answer &quot;one lazy dog&quot;will detect an error at position 6 (an &quot;r&quot; instead of &quot;z&quot;). If checkSteps is set to 2 orgreater, the &quot;zy dog&quot; expression at position 8 will be found and evaluated as valid, whilea value of 1 or less will not found any coincident expression beyond the error position, thusevaluating all the remaining sentence as erroneous. Type: number Source: activities/text/Evaluator.js, line 488 checkSteps :number Number of times to repeat the evaluation process if an error is found, eliminating in eachcycle the extra characters that caused the error. Type: number Source: activities/text/Evaluator.js, line 482 className :string The type of evaluator. Type: string Inherited From: Evaluator#className Source: activities/text/Evaluator.js, line 177 collator :external:Collator The Intl.Collator object used to compare strings, when available. Type: external:Collator Inherited From: Evaluator#collator Source: activities/text/Evaluator.js, line 187 detail :boolean Whether to detail or not the location of errors found on the analyzed text. Type: boolean Source: activities/text/Evaluator.js, line 477 initiated :boolean Whether this evaluator has been initialized or not. Type: boolean Inherited From: Evaluator#initiated Source: activities/text/Evaluator.js, line 182 PUNCTUATION :string String containing all the characters considered as punctuation marks (currently &quot;.,;:&quot;) Type: string Inherited From: BasicEvaluator#PUNCTUATION Source: activities/text/Evaluator.js, line 312 Methods _checkText(_text, _match) Abstract method to be implemented in subclasses.Performs the validation of a string against a single match. Parameters: Name Type Description _text string The text to be checked _match string A valid expression with which to compare. Inherited From: Evaluator#_checkText Source: activities/text/Evaluator.js, line 133 Returns: true when the two expressions can be considered equivalent. Type boolean _evalText(_text, _match) Abstract method to be implemented in subclasses.Performs the evaluation of a string against an array of valid matches, returning an array offlags useful to indicate where the mistakes are located. Parameters: Name Type Description _text string The text to be checked _match string A valid expression with which to compare. Inherited From: Evaluator#_evalText Overrides: BasicEvaluator#_evalText Source: activities/text/Evaluator.js, line 160 Returns: An array of flags (one number for character) indicating whether eachposition is erroneous or OK. Type Array.&lt;number&gt; checkText(text, match) Checks the given text against a set of valid matches Parameters: Name Type Description text string The text to be checked match string | Array.&lt;string&gt; The valid expression or expressions with which to compare. Inherited From: Evaluator#checkText Source: activities/text/Evaluator.js, line 117 Returns: true if the checked expression is valid, false otherwise. Type boolean compareSegment(src, ls, ok, lok, attr, iterate) Compares two segments of text.This function should make recursive calls. Parameters: Name Type Description src string Text to be compared ls number Offset in src where to start the comparison ok string Text to match against. lok number Offset in ok where to start the comparison. attr Array.&lt;number&gt; Array of integers that will be filled with information about thevalidity or error of each character in src. iterate boolean When true, the segment will be iterated looking for othercoincident fragments. Source: activities/text/Evaluator.js, line 407 Returns: true if the comparison was valid. Type boolean countFlagsOk(flags) Counts the number of flags on the provided array that are zero. Parameters: Name Type Description flags Array.&lt;number&gt; Source: activities/text/Evaluator.js, line 390 Returns: Type number evalText(text, match) Evaluates the given text against a set of valid matches, returning an array of flags usefulto indicate where the mistakes are located. Parameters: Name Type Description text string The text to be checked match string | Array.&lt;string&gt; The valid expression or expressions with which to compare. Inherited From: Evaluator#evalText Source: activities/text/Evaluator.js, line 145 Returns: An array of flags (one number for character) indicating whether eachposition is erroneous or ok. Type Array.&lt;number&gt; getClearedText(src, skipped) Removes double spaces and erroneous characters from a given text expression. Parameters: Name Type Description src string The text to be processed. skipped Array.&lt;boolean&gt; An array of boolean indicating which characters should be removedfrom the string. Inherited From: BasicEvaluator#getClearedText Source: activities/text/Evaluator.js, line 265 Returns: Type string init(_locales) Initializes this evaluator Parameters: Name Type Description _locales Array.&lt;string&gt; An array of valid locales, to be used by Intl.Collator Inherited From: Evaluator#init Source: activities/text/Evaluator.js, line 107 isOk(flags) Checks if the given array of flags (usually returned by evalText) can be considered as avalid or erroneous answer. Parameters: Name Type Description flags Array.&lt;number&gt; Inherited From: Evaluator#isOk Source: activities/text/Evaluator.js, line 170 Returns: true when there is at least one flag and all flags are 0 (meaning no error). Type boolean setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Evaluator#setProperties Source: activities/text/Evaluator.js, line 81 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ConditionalJumpInfo.html":{"id":"ConditionalJumpInfo.html","title":"Class: ConditionalJumpInfo","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ConditionalJumpInfo ConditionalJumpInfo This special case of JumpInfo is used in ActivitySequenceJump objects to decidethe type of jump or action to be performed, based on the results obtained by the user whenplaying previous JClic activities. In addition to the standard JumpInfo fields and methods, this class has two publicmembers where score and time thresholds are stored. The exact meaning of this members will depend on the type of ConditionalJumpInfo in theActivitySequenceJump (it can be upperJump or lowerJump). new ConditionalJumpInfo(action [, sq] [, threshold] [, time]) ConditionalJumpInfo constructor Parameters: Name Type Argument Description action string Must be one of the described actions. sq number | string &lt;optional&gt; Can be the tag of the sequence element to jump to, or itscardinal number in the list. threshold number &lt;optional&gt; Threshold above or below which the action will be triggered,depending on the type of JumpInfo. time number &lt;optional&gt; Delay to be applied in automatic jumps. Source: bags/ConditionalJumpInfo.js, line 52 Extends JumpInfo Members action :string The current action.Possible values are: JUMP, STOP, RETURN and EXIT. Type: string Inherited From: JumpInfo#action Source: bags/JumpInfo.js, line 92 actNum :number Activity number in the sequence list Type: number Inherited From: JumpInfo#actNum Source: bags/JumpInfo.js, line 98 id :string The JumpInfo identifier For regular jumps: 'forward', 'back' For conditional jumps: 'upper', 'lower' Type: string Inherited From: JumpInfo#id Source: bags/JumpInfo.js, line 85 projectPath :string Path of another JClic project to jump to Type: string Inherited From: JumpInfo#projectPath Source: bags/JumpInfo.js, line 108 sequence :string Current sequence tag Type: string Inherited From: JumpInfo#sequence Source: bags/JumpInfo.js, line 103 threshold :number Threshold above or below which the action will be triggered, depending on the type of JumpInfo. Type: number Source: bags/ConditionalJumpInfo.js, line 83 time :number Delay to be applied in automatic jumps. Type: number Source: bags/ConditionalJumpInfo.js, line 88 Methods setProperties($xml) Loads this object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Overrides: JumpInfo#setProperties Source: bags/ConditionalJumpInfo.js, line 72 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Container.html":{"id":"Container.html","title":"Class: Container","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Container Container Logic object that takes care of an &quot;invalidated&quot; rectangle that will be repaintedat the next update of a 2D object, usually an HTML Canvas.Container has the same constructor options as Rectangle new Container(pos, dim [, w] [, h]) Container constructor Parameters: Name Type Argument Description pos Point | Rectangle | number | Array.&lt;number&gt; dim Dimension | number w number &lt;optional&gt; h number &lt;optional&gt; Source: AWT.js, line 1751 Extends Rectangle Members dim :Dimension The Dimension of the Rectangle Type: Dimension Inherited From: Rectangle#dim Source: AWT.js, line 1077 invalidatedRect :Rectangle The currently &quot;invalidated&quot; area Type: Rectangle Source: AWT.js, line 1800 pos :Point The current position of the shape Type: Point Inherited From: Shape#pos Source: AWT.js, line 865 Methods add(shape) Adds the boundaries of another shape to the current one Parameters: Name Type Description shape Shape The Shape to be added Inherited From: Rectangle#add Source: AWT.js, line 1004 Returns: Type Rectangle clip(ctx [, fillRule]) Creates a clipping region on the specified HTML canvas 2D rendering context Parameters: Name Type Argument Default Description ctx external:CanvasRenderingContext2D The rendering context fillRule string &lt;optional&gt; 'nonzero' Can be 'nonzero' (default when not set) or 'evenodd' Inherited From: Shape#clip Source: AWT.js, line 841 Returns: The provided rendering context Type external:CanvasRenderingContext2D clone() Clones this Rectangle Inherited From: Rectangle#clone Source: AWT.js, line 962 Returns: Type Rectangle contains(_p) Checks if the provided Point is inside this shape. Parameters: Name Type Description _p Point The point to check Inherited From: Shape#contains Source: AWT.js, line 776 Returns: Type boolean equals(r) Checks if two shapes are equivalent. Parameters: Name Type Description r Shape The Shape to compare against Inherited From: Rectangle#equals Source: AWT.js, line 954 Returns: Type boolean fill(ctx [, dirtyRegion]) Fills the Shape with the current style in the provided HTML canvas context Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to fill this shape. dirtyRegion Rectangle &lt;optional&gt; The context region to be updated. Used as clippingregion when drawing. Inherited From: Shape#fill Source: AWT.js, line 798 Returns: The provided rendering context Type external:CanvasRenderingContext2D getBounds() Gets the enclosing Rectangle of this Shape. Inherited From: Rectangle#getBounds Source: AWT.js, line 930 Returns: Type Rectangle getCoords() Gets a string with the co-ordinates of the upper-left and lower-right vertexs of this rectangle,(with values rounded to int) Inherited From: Rectangle#getCoords Source: AWT.js, line 1071 Returns: Type String getOppositeVertex() Gets the Point corresponding to the lower-right vertex of the Rectangle. Inherited From: Rectangle#getOppositeVertex Source: AWT.js, line 995 Returns: Type Point getShape(rect) Gets a clone of this shape moved to the pos component of the rectangle and scaledby its dim value. Parameters: Name Type Description rect Rectangle The rectangle to be taken as a base for moving and scalingthis shape. Inherited From: Shape#getShape Source: AWT.js, line 767 Returns: Type Shape grow(dx, dy) Expands the boundaries of this shape. This affects the current position and dimension. Parameters: Name Type Description dx number The amount to grow (or decrease) in horizontal direction dy number The amount to grow (or decrease) in vertical direction Inherited From: Rectangle#grow Source: AWT.js, line 983 Returns: Type Rectangle intersects(_r) Checks if the provided Rectangle r intersects with this shape. Parameters: Name Type Description _r Rectangle Inherited From: Shape#intersects Source: AWT.js, line 786 Returns: Type boolean invalidate(rect) Adds the provided rectangle to the invalidated area. Parameters: Name Type Description rect Rectangle Source: AWT.js, line 1767 isRect() Shorthand method for determining if a Shape is an Rectangle Inherited From: Shape#isRect Source: AWT.js, line 851 Returns: Type Boolean moveBy(delta) Shifts the shape a specified amount in horizontal and vertical directions Parameters: Name Type Description delta Point | Dimension The amount to shift the Shape Inherited From: Shape#moveBy Source: AWT.js, line 718 Returns: Type Shape moveTo(newPos) Moves this shape to a new position Parameters: Name Type Description newPos Point The new position of the shape Inherited From: Shape#moveTo Source: AWT.js, line 728 Returns: Type Shape preparePath(ctx) Prepares an HTML canvas 2D rendering context with a path that can be used to stroke a line,to fill a surface or to define a clipping region. Parameters: Name Type Description ctx external:CanvasRenderingContext2D Inherited From: Shape#preparePath Source: AWT.js, line 830 Returns: The provided rendering context Type external:CanvasRenderingContext2D scaleBy(delta) Multiplies the dimension of the Shape by the specified delta amount. Parameters: Name Type Description delta Point | Dimension Object containing the X and Y ratio to be scaled. Inherited From: Rectangle#scaleBy Source: AWT.js, line 971 Returns: Type Rectangle setBounds(rect) Sets this Rectangle the position and dimension of another one Parameters: Name Type Description rect Rectangle Inherited From: Rectangle#setBounds Source: AWT.js, line 939 Returns: Type Rectangle stroke(ctx) Draws this shape in the provided HTML canvas 2D rendering context. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to draw the shape. Inherited From: Shape#stroke Source: AWT.js, line 818 Returns: The provided rendering context Type external:CanvasRenderingContext2D toString() Overwrites the original 'Object.toString' method with a more descriptive text Inherited From: Shape#toString Source: AWT.js, line 859 Returns: Type String update() Updates the invalidated area Source: AWT.js, line 1781 updateContent(_dirtyRegion) Containers should implement this method to update its graphic contents. It shouldbe called from Container~update Parameters: Name Type Description _dirtyRegion Shape Specifies the area to be updated. When null, it's the wholeContainer. Source: AWT.js, line 1793 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Counter.html":{"id":"Counter.html","title":"Class: Counter","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Counter Counter This class encapsulates the operation of a numeric counter, used to display the currentvalues of score, actions and time. new Counter(id [, $div]) Counter constructor Parameters: Name Type Argument Description id string The type of information stored on this counter $div external:jQuery &lt;optional&gt; The HTML element where this counter will show values (can be null) Source: skins/Counter.js, line 39 Members $div :external:jQuery The HTML element where this counter shows its value Type: external:jQuery Source: skins/Counter.js, line 120 countDown :number When set, the counter displays a countdown from this value to zero Type: number Source: skins/Counter.js, line 131 displayDiffFrom :Counter An optional Counter used as a subtractor to display the current value.Useful to display errors subtracting score from actions. Type: Counter Source: skins/Counter.js, line 146 enabled :boolean Flag indicating if this counter is currently enabled Type: boolean Source: skins/Counter.js, line 136 id :string Type of counter (usually: score, actions or time) Type: string Source: skins/Counter.js, line 115 MAX_DISPLAY_VALUE :Number Maximum value to be displayed by this counter Type: Number Source: skins/Counter.js, line 141 value :number Current value of this counter Type: number Source: skins/Counter.js, line 126 Methods getDisplayValue() Gets the current display value of this counter Source: skins/Counter.js, line 56 Returns: Type number incValue() Increments by one the value of this counter Source: skins/Counter.js, line 98 refreshDisplay() Paints the value of this counter on screen(method to be overridden by subclasses) Source: skins/Counter.js, line 67 setCountDown(maxValue) Sets the initial value of the counter Parameters: Name Type Description maxValue number Value from which the countdown will start Source: skins/Counter.js, line 90 setEnabled(enabled) Enables or disables this counter Parameters: Name Type Description enabled boolean State been assigned to this counter Source: skins/Counter.js, line 76 setValue(value) Sets a specific value to this counter Parameters: Name Type Description value number The value to set Source: skins/Counter.js, line 108 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"CrossWord.html":{"id":"CrossWord.html","title":"Class: CrossWord","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: CrossWord CrossWord This class of Activity shows a TextGrid initially empty, with some cellsmarked in negative color that act as word stoppers. A blinking &quot;cursor&quot; indicates the cell thatwill receive the next character entered by the user on the keyboard. The letter in each cell of the grid is always shared by two words: one in horizontal directionand the other one in vertical direction. Two ActiveBox objects are placed next to theTextGrid, hosting the definitions of the horizontal and vertical words crossing at thecell currently marked by the cursor. Two special buttons placed near this boxes allow to write on the grid horizontally or vertically.The aim of the activity is to fill all the text grid with the correct words. new CrossWord(project) CrossWord constructor Parameters: Name Type Description project JClicProject The JClic project to which this activity belongs Source: activities/textGrid/CrossWord.js, line 63 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: CrossWordPanel Type: class Source: activities/textGrid/CrossWord.js, line 579 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 checkCase :boolean Whether the case is significant to evaluate answers Type: boolean Source: activities/textGrid/CrossWord.js, line 97 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 upperCase :boolean Whether all letters of the TextGrid should be displayed in upper case Type: boolean Source: activities/textGrid/CrossWord.js, line 92 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 wildTransparent :boolean When true, the wildcard character of the TextGrid will be transparent. Type: boolean Source: activities/textGrid/CrossWord.js, line 102 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Overrides: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"CrossWordPanel.html":{"id":"CrossWordPanel.html","title":"Class: CrossWordPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: CrossWordPanel CrossWordPanel The ActivityPanel where CrossWord activities are played. new CrossWordPanel(act, ps [, $div]) CrossWordPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/textGrid/CrossWord.js, line 114 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 advance :string Flag indicating the type of automatic advance of the cursor.Possible values are: NO_ADVANCE (default), 'ADVANCE_RIGHT' and 'ADVANCE_DOWN'.TODO: Implement 'ADVANCE_LEFT' for LTR languages Type: string Source: activities/textGrid/CrossWord.js, line 505 bb :BoxBag A BoxBag used to place the across and down clues, and the toggle direction button. Type: BoxBag Source: activities/textGrid/CrossWord.js, line 495 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 grid :textGrid The text grid of this ActivityPanel Type: textGrid Source: activities/textGrid/CrossWord.js, line 490 hClue :ActiveBox The ActiveBox object used to display the 'across' clues Type: ActiveBox Source: activities/textGrid/CrossWord.js, line 512 hClueBtn :ActiveBox Button used to set the advance mode to 'ADVANCE_RIGHT' Type: ActiveBox Source: activities/textGrid/CrossWord.js, line 522 hIcon :string Graphic icon for the horizontal direction button, represented as a string containingan SVG file codified in base64. Type: string Source: activities/textGrid/CrossWord.js, line 538 icoBB :BoxBase BoxBase with the style to be used by the direction buttons. Type: BoxBase Source: activities/textGrid/CrossWord.js, line 569 icoSize :Object Sizes of the icons (currently 36 x 36 pixel) Type: Object Source: activities/textGrid/CrossWord.js, line 564 LABEL_WIDTH :number The default width of the 'Horizontal' and 'Vertical' buttons (currently 40 pixels) Type: number Source: activities/textGrid/CrossWord.js, line 485 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 numLetters :number The total number of letters of this cross word Type: number Source: activities/textGrid/CrossWord.js, line 500 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 vClue :ActiveBox The ActiveBox object used to display the 'down' clues Type: ActiveBox Source: activities/textGrid/CrossWord.js, line 517 vClueBtn :ActiveBox Button used to set the advance mode to 'ADVANCE_BOTTOM' Type: ActiveBox Source: activities/textGrid/CrossWord.js, line 527 vIcon :string Graphic icon for the vertical direction button, represented as a string containingan SVG file codified in base64. Type: string Source: activities/textGrid/CrossWord.js, line 551 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 createBoxBag(type) Creates a BoxBag with a label (&quot;Horizontal&quot; or &quot;Vertical&quot;) and an ActiveBoxthat will be used to display clues. Parameters: Name Type Description type string acrossClues for horizontal clues, 'downClues' for vertical. Source: activities/textGrid/CrossWord.js, line 148 Returns: Type BoxBag cursorPosChanged() Method called when the cursor moves to a different location Source: activities/textGrid/CrossWord.js, line 428 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 getCurrentScore() Calculates the current score Source: activities/textGrid/CrossWord.js, line 262 Returns: Type number initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 moveCursor(dx, dy) Moves the cursor the specified dx and dy amount (in logical coordinates) Parameters: Name Type Description dx number Amount of cells to horizontally move on dy number Amount of cells to vertically move on Source: activities/textGrid/CrossWord.js, line 408 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setBtnStatus() Sets the status of horizontal and vertical buttons based on the value of advance Source: activities/textGrid/CrossWord.js, line 476 setCursorAt(x, y) Places the cursor at the specified location (in logical coordinates) Parameters: Name Type Description x number y number Source: activities/textGrid/CrossWord.js, line 420 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 writeChars(txt) Writes a string on the grid starting at the current cursor position andfollowing the direction marked by the advance field Parameters: Name Type Description txt string Text to write Source: activities/textGrid/CrossWord.js, line 444 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"CustomSkin.html":{"id":"CustomSkin.html","title":"Class: CustomSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: CustomSkin CustomSkin Custom Skin for JClic.js, built assembling specific cuts of a canvas (usually a PNG file) defined in an XML file new CustomSkin(ps [, name] [, options]) CustomSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects needed tot build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; null Optional parameter with additional options Source: skins/CustomSkin.js, line 48 Extends Skin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Overrides: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 cssVariants :object Specifc styles (default, half and twoThirds) computed at run-time,based on the provided XML file Type: object Source: skins/CustomSkin.js, line 398 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 imgName :string The name of the image file to be used as a base of this skin. Type: string Source: skins/CustomSkin.js, line 384 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 msgKeys :object Key ids of currently supported buttons, associated with its helper literal Type: object Source: skins/CustomSkin.js, line 404 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 skinCSS :string Styles used in this skin Type: string Source: skins/CustomSkin.js, line 389 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: Skin#skinId Source: skins/Skin.js, line 764 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _computeStyleSheets() Computes the CSS styles used by this skin in thre moodes: main, half ant twoThirds.The resulting strings will be stored in cssVariants Source: skins/CustomSkin.js, line 128 Returns: Type string _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Inherited From: Skin#_getStyleSheets Overrides: Skin#_getStyleSheets Source: skins/Skin.js, line 287 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Overrides: Skin#enableMainButtons Source: skins/CustomSkin.js, line 119 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Overrides: Skin#getMsgBox Source: skins/CustomSkin.js, line 359 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Overrides: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"DefaultSkin.html":{"id":"DefaultSkin.html","title":"Class: DefaultSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: DefaultSkin DefaultSkin This is the default Skin used by JClic.js new DefaultSkin(ps [, name] [, options]) DefaultSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects needed tot build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options, used by subclassesthis skin. When null or undefined, a new one will be created. Source: skins/DefaultSkin.js, line 53 Extends Skin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $ctrlCnt :external:jQuery The HTML div where buttons, counters and message box are placed Type: external:jQuery Source: skins/DefaultSkin.js, line 237 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $msgBoxDiv :external:jQuery The div DOM object where msgBox is located Type: external:jQuery Source: skins/Skin.js, line 819 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 actionsIcon :string Actions icon Type: string Source: skins/DefaultSkin.js, line 404 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 closeIcon :string Close button Type: string Source: skins/DefaultSkin.js, line 350 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counterIconFill :string Counter icon fill color Type: string Source: skins/DefaultSkin.js, line 383 counterIconHeight :number Counter icon height Type: number Source: skins/DefaultSkin.js, line 378 counterIconWidth :number Counter icon width Type: number Source: skins/DefaultSkin.js, line 373 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 countersHeight :number Height of counters, in pixels Type: number Source: skins/DefaultSkin.js, line 257 countersWidth :number Width of counters, in pixels Type: number Source: skins/DefaultSkin.js, line 252 cssFonts :Array.&lt;string&gt; Fonts used in this skin Type: Array.&lt;string&gt; Source: skins/DefaultSkin.js, line 296 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 fullScreenExitIcon :string Full screen off icon Type: string Source: skins/DefaultSkin.js, line 343 fullScreenIcon :string Full screen on icon Type: string Source: skins/DefaultSkin.js, line 336 halfMedia :object Screen sizes (width and height) below which will half sized elements will be used Type: object Source: skins/Skin.js, line 1048 iconFill :string Fill color for icons Type: string Source: skins/DefaultSkin.js, line 313 iconHeight :number Icon height Type: number Source: skins/DefaultSkin.js, line 308 iconWidth :number Icon width Type: number Source: skins/DefaultSkin.js, line 303 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 infoIcon :string Info button Type: string Source: skins/DefaultSkin.js, line 357 mainCSS :string Styles used in this skin Type: string Source: skins/DefaultSkin.js, line 265 mainCSSHalf :string Styles used in this skin, sized to half its regular size Type: string Source: skins/DefaultSkin.js, line 276 mainCSSTwoThirds :string Styles used in this skin, sized to two thirds of its regular size Type: string Source: skins/DefaultSkin.js, line 286 margin :number Space (pixels) between the components of this Skin Type: number Source: skins/DefaultSkin.js, line 242 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 msgBox :ActiveBox The box used to display the main messages of JClic activities Type: ActiveBox Source: skins/Skin.js, line 814 msgBoxHeight :number Height of DefaultSkin#msgBox Type: number Source: skins/DefaultSkin.js, line 247 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 nextIcon :string Icon for 'next activity' button Type: string Source: skins/DefaultSkin.js, line 329 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 prevIcon :string Icon for 'previous activity' button Type: string Source: skins/DefaultSkin.js, line 322 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 reportsIcon :string Reports button Type: string Source: skins/DefaultSkin.js, line 364 scoreIcon :string Score icon Type: string Source: skins/DefaultSkin.js, line 397 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: Skin#skinId Source: skins/Skin.js, line 764 timeIcon :string Time icon Type: string Source: skins/DefaultSkin.js, line 389 twoThirdsMedia :object Screen sizes (width and height) below which will two-thirds sized elements will be used Type: object Source: skins/Skin.js, line 1053 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: Skin#_getStyleSheets Source: skins/DefaultSkin.js, line 192 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Overrides: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Overrides: Skin#enableMainButtons Source: skins/DefaultSkin.js, line 224 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Overrides: Skin#getMsgBox Source: skins/DefaultSkin.js, line 215 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Dimension.html":{"id":"Dimension.html","title":"Class: Dimension","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Dimension Dimension This class encapsulates width and height properties. new Dimension(w, h) Dimension constructor Parameters: Name Type Description w number | Point The width of this Dimension, or the upper-left vertex of avirtual Rectangle h number | Point The height of this Dimension, or the bottom-right vertex of avirtual Rectangle Source: AWT.js, line 613 Members height :number Type: number Source: AWT.js, line 693 width :number Type: number Source: AWT.js, line 689 Methods equals(d) Check if two dimensions are equivalent Parameters: Name Type Description d Dimension Source: AWT.js, line 647 Returns: Type Boolean getSurface() Calculates the area of a Rectangle with this dimension Source: AWT.js, line 683 Returns: The resulting area Type number multBy(delta) Multiplies the w and h co-ordinates by a specified delta Parameters: Name Type Description delta Point | Dimension Source: AWT.js, line 656 Returns: Type Dimension setDimension(width [, height]) Sets new values for width and height.width can be a number or another Dimension object Parameters: Name Type Argument Description width number | Dimension The new width, or a full Dimension to copy it from. height number &lt;optional&gt; Not used when width is a Dimension Source: AWT.js, line 669 Returns: Type Dimension setProperties($xml) Reads the properties of this Dimension from an XML element Parameters: Name Type Description $xml external:jQuery The xml element to be parsed Source: AWT.js, line 636 Returns: Type Dimension × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"DoublePuzzle.html":{"id":"DoublePuzzle.html","title":"Class: DoublePuzzle","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: DoublePuzzle DoublePuzzle The aim of this class of Activity is to put in order the scrambled elements of anActiveBagContent that contains an image, sounds, text... or any other media content. The activity uses two panels: one with the scrambled cells, and other initially empty wherethis cells must be placed in order. new DoublePuzzle(project) DoublePuzzle constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/puzzles/DoublePuzzle.js, line 52 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: DoublePuzzlePanel Type: class Source: activities/puzzles/DoublePuzzle.js, line 425 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Overrides: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Overrides: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"DoublePuzzlePanel.html":{"id":"DoublePuzzlePanel.html","title":"Class: DoublePuzzlePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: DoublePuzzlePanel DoublePuzzlePanel The ActivityPanel where DoublePuzzle activities are played. new DoublePuzzlePanel(act, ps [, $div]) DoublePuzzlePanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/puzzles/DoublePuzzle.js, line 103 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The box connector Type: BoxConnector Overrides: ActivityPanel#bc Source: activities/puzzles/DoublePuzzle.js, line 409 bgA :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the primary panel Type: ActiveBoxBag Source: activities/puzzles/DoublePuzzle.js, line 399 bgB :ActiveBoxBag The secondary ActiveBoxBag, initially empty. Type: ActiveBoxBag Source: activities/puzzles/DoublePuzzle.js, line 404 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Overrides: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Ellipse.html":{"id":"Ellipse.html","title":"Class: Ellipse","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Ellipse Ellipse The Ellipse shape has the same constructor options as Rectangle new Ellipse(pos, dim [, w] [, h]) Ellipse constructor Parameters: Name Type Argument Description pos Point | Rectangle | number | Array.&lt;number&gt; dim Dimension | number w number &lt;optional&gt; h number &lt;optional&gt; Source: AWT.js, line 1089 Extends Rectangle Members dim :Dimension The Dimension of the Rectangle Type: Dimension Inherited From: Rectangle#dim Source: AWT.js, line 1077 pos :Point The current position of the shape Type: Point Inherited From: Shape#pos Source: AWT.js, line 865 Methods add(shape) Adds the boundaries of another shape to the current one Parameters: Name Type Description shape Shape The Shape to be added Inherited From: Rectangle#add Source: AWT.js, line 1004 Returns: Type Rectangle clip(ctx [, fillRule]) Creates a clipping region on the specified HTML canvas 2D rendering context Parameters: Name Type Argument Default Description ctx external:CanvasRenderingContext2D The rendering context fillRule string &lt;optional&gt; 'nonzero' Can be 'nonzero' (default when not set) or 'evenodd' Inherited From: Shape#clip Source: AWT.js, line 841 Returns: The provided rendering context Type external:CanvasRenderingContext2D clone() Clones this Rectangle Inherited From: Rectangle#clone Overrides: Rectangle#clone Source: AWT.js, line 962 Returns: Type Rectangle contains(_p) Checks if the provided Point is inside this shape. Parameters: Name Type Description _p Point The point to check Inherited From: Shape#contains Overrides: Rectangle#contains Source: AWT.js, line 776 Returns: Type boolean equals(r) Checks if two shapes are equivalent. Parameters: Name Type Description r Shape The Shape to compare against Inherited From: Rectangle#equals Overrides: Rectangle#equals Source: AWT.js, line 954 Returns: Type boolean fill(ctx [, dirtyRegion]) Fills the Shape with the current style in the provided HTML canvas context Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to fill this shape. dirtyRegion Rectangle &lt;optional&gt; The context region to be updated. Used as clippingregion when drawing. Inherited From: Shape#fill Source: AWT.js, line 798 Returns: The provided rendering context Type external:CanvasRenderingContext2D getBounds() Gets the enclosing Rectangle of this Shape. Inherited From: Rectangle#getBounds Source: AWT.js, line 930 Returns: Type Rectangle getCoords() Gets a string with the co-ordinates of the upper-left and lower-right vertexs of this rectangle,(with values rounded to int) Inherited From: Rectangle#getCoords Source: AWT.js, line 1071 Returns: Type String getOppositeVertex() Gets the Point corresponding to the lower-right vertex of the Rectangle. Inherited From: Rectangle#getOppositeVertex Source: AWT.js, line 995 Returns: Type Point getShape(rect) Gets a clone of this shape moved to the pos component of the rectangle and scaledby its dim value. Parameters: Name Type Description rect Rectangle The rectangle to be taken as a base for moving and scalingthis shape. Inherited From: Shape#getShape Source: AWT.js, line 767 Returns: Type Shape grow(dx, dy) Expands the boundaries of this shape. This affects the current position and dimension. Parameters: Name Type Description dx number The amount to grow (or decrease) in horizontal direction dy number The amount to grow (or decrease) in vertical direction Inherited From: Rectangle#grow Source: AWT.js, line 983 Returns: Type Rectangle intersects(_r) Checks if the provided Rectangle r intersects with this shape. Parameters: Name Type Description _r Rectangle Inherited From: Shape#intersects Source: AWT.js, line 786 Returns: Type boolean isRect() Shorthand method for determining if a Shape is an Rectangle Inherited From: Shape#isRect Overrides: Rectangle#isRect Source: AWT.js, line 851 Returns: Type Boolean moveBy(delta) Shifts the shape a specified amount in horizontal and vertical directions Parameters: Name Type Description delta Point | Dimension The amount to shift the Shape Inherited From: Shape#moveBy Source: AWT.js, line 718 Returns: Type Shape moveTo(newPos) Moves this shape to a new position Parameters: Name Type Description newPos Point The new position of the shape Inherited From: Shape#moveTo Source: AWT.js, line 728 Returns: Type Shape preparePath(ctx) Prepares an HTML canvas 2D rendering context with a path that can be used to stroke a line,to fill a surface or to define a clipping region. Parameters: Name Type Description ctx external:CanvasRenderingContext2D Inherited From: Shape#preparePath Overrides: Rectangle#preparePath Source: AWT.js, line 830 Returns: The provided rendering context Type external:CanvasRenderingContext2D scaleBy(delta) Multiplies the dimension of the Shape by the specified delta amount. Parameters: Name Type Description delta Point | Dimension Object containing the X and Y ratio to be scaled. Inherited From: Rectangle#scaleBy Source: AWT.js, line 971 Returns: Type Rectangle setBounds(rect) Sets this Rectangle the position and dimension of another one Parameters: Name Type Description rect Rectangle Inherited From: Rectangle#setBounds Source: AWT.js, line 939 Returns: Type Rectangle stroke(ctx) Draws this shape in the provided HTML canvas 2D rendering context. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to draw the shape. Inherited From: Shape#stroke Source: AWT.js, line 818 Returns: The provided rendering context Type external:CanvasRenderingContext2D toString() Overwrites the original 'Object.toString' method with a more descriptive text Inherited From: Shape#toString Overrides: Rectangle#toString Source: AWT.js, line 859 Returns: Type String × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"EmptySkin.html":{"id":"EmptySkin.html","title":"Class: EmptySkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: EmptySkin EmptySkin A minimalist Skin for JClic.js with just the player, without messages, counters nor any button. new EmptySkin(ps [, name] [, options]) EmptySkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects needed tot build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options Source: skins/EmptySkin.js, line 44 Extends Skin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 skinCSS :string Styles used in this skin Type: string Source: skins/EmptySkin.js, line 77 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: Skin#skinId Source: skins/Skin.js, line 764 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: Skin#_getStyleSheets Source: skins/EmptySkin.js, line 64 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Inherited From: Skin#enableMainButtons Source: skins/Skin.js, line 477 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Inherited From: Skin#getMsgBox Source: skins/Skin.js, line 732 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Encryption.html":{"id":"Encryption.html","title":"Class: Encryption","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Encryption Encryption Utilities to encrypt and decrypt strings using simple methods, just to avoid writepasswords in plain text in data and configuration files. Do not use it as asecure cryptographic system! Based on Encryptionutilities, created by Albert Llastarri for JClic. IMPORTANT: This is a shortened version of Encryption with only the methods needed to decryptstored passwords. Full version is on file src/misc/encryption/Encryption.js &lt;abstract&gt; new Encryption() Source: report/EncryptMin.js, line 51 Members &lt;static&gt; BLANK :string Default bank password Type: string Source: report/EncryptMin.js, line 213 Methods &lt;static&gt; codify(word) Parameters: Name Type Description word string Source: report/EncryptMin.js, line 190 Returns: Type string &lt;static&gt; decodify(word) Parameters: Name Type Description word string Source: report/EncryptMin.js, line 200 Returns: Type string &lt;static&gt; decodifyFromHex(sb1) Parameters: Name Type Description sb1 string (was StringBuilder) Source: report/EncryptMin.js, line 159 Returns: Type string &lt;static&gt; decodifyZerosField(cA) Parameters: Name Type Description cA string (was char[]) Source: report/EncryptMin.js, line 102 Returns: Type string &lt;static&gt; decompressZeros(cA) Parameters: Name Type Description cA string (was char[]) Source: report/EncryptMin.js, line 130 Returns: (was StringBuilder) Type string &lt;static&gt; Decrypt(txt) Decrypts the given code Parameters: Name Type Description txt string Code to be decrypted Source: report/EncryptMin.js, line 57 Returns: Type string &lt;static&gt; hexCharArrayToChar(cA, fromIndex) Parameters: Name Type Description cA string (was char[]) fromIndex integer Source: report/EncryptMin.js, line 69 Returns: (was char) Type string &lt;static&gt; hexCharArrayToInt(cA, fromIndex) Parameters: Name Type Description cA string (was char[]) fromIndex number Source: report/EncryptMin.js, line 86 Returns: Type number &lt;static&gt; unchangeOrder(s) Parameters: Name Type Description s string Source: report/EncryptMin.js, line 173 Returns: (was char[]) Type string × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Evaluator.html":{"id":"Evaluator.html","title":"Class: Evaluator","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Evaluator Evaluator This class and its derivatives BasicEvaluator andComplexEvaluator are used to evaluate the answers written by the final usersin text activities. new Evaluator(className) Evaluator constructor Parameters: Name Type Description className string The class name of this evaluator. Source: activities/text/Evaluator.js, line 45 Members checkcase :boolean Whether uppercase and lowercase expressions must be considered equivalent or not. Type: boolean Source: activities/text/Evaluator.js, line 192 className :string The type of evaluator. Type: string Source: activities/text/Evaluator.js, line 177 collator :external:Collator The Intl.Collator object used to compare strings, when available. Type: external:Collator Source: activities/text/Evaluator.js, line 187 initiated :boolean Whether this evaluator has been initialized or not. Type: boolean Source: activities/text/Evaluator.js, line 182 Methods &lt;static&gt; getEvaluator($xml) Factory constructor that returns a specific type of Evaluator based on the classattribute declared in the $xml element. Parameters: Name Type Description $xml external:jQuery The XML element to be parsed. Source: activities/text/Evaluator.js, line 63 Returns: Type Evaluator _checkText(_text, _match) Abstract method to be implemented in subclasses.Performs the validation of a string against a single match. Parameters: Name Type Description _text string The text to be checked _match string A valid expression with which to compare. Source: activities/text/Evaluator.js, line 133 Returns: true when the two expressions can be considered equivalent. Type boolean _evalText(_text, _match) Abstract method to be implemented in subclasses.Performs the evaluation of a string against an array of valid matches, returning an array offlags useful to indicate where the mistakes are located. Parameters: Name Type Description _text string The text to be checked _match string A valid expression with which to compare. Source: activities/text/Evaluator.js, line 160 Returns: An array of flags (one number for character) indicating whether eachposition is erroneous or OK. Type Array.&lt;number&gt; checkText(text, match) Checks the given text against a set of valid matches Parameters: Name Type Description text string The text to be checked match string | Array.&lt;string&gt; The valid expression or expressions with which to compare. Source: activities/text/Evaluator.js, line 117 Returns: true if the checked expression is valid, false otherwise. Type boolean evalText(text, match) Evaluates the given text against a set of valid matches, returning an array of flags usefulto indicate where the mistakes are located. Parameters: Name Type Description text string The text to be checked match string | Array.&lt;string&gt; The valid expression or expressions with which to compare. Source: activities/text/Evaluator.js, line 145 Returns: An array of flags (one number for character) indicating whether eachposition is erroneous or ok. Type Array.&lt;number&gt; init(_locales) Initializes this evaluator Parameters: Name Type Description _locales Array.&lt;string&gt; An array of valid locales, to be used by Intl.Collator Source: activities/text/Evaluator.js, line 107 isOk(flags) Checks if the given array of flags (usually returned by evalText) can be considered as avalid or erroneous answer. Parameters: Name Type Description flags Array.&lt;number&gt; Source: activities/text/Evaluator.js, line 170 Returns: true when there is at least one flag and all flags are 0 (meaning no error). Type boolean setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Source: activities/text/Evaluator.js, line 81 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"EventSounds.html":{"id":"EventSounds.html","title":"Class: EventSounds","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: EventSounds EventSounds The EventSounds objects contains specific sounds to be played when JClic events are fired: start click actionError actionOk finishedError finishedOk The sounds are stored in an array of EventSoundsElement objects. new EventSounds( [parent]) EventSounds constructor Parameters: Name Type Argument Description parent EventSounds &lt;optional&gt; Another EventSounds object that will act as a parent of this one,used to resolve which sound must be played for events when not defined here. Source: media/EventSounds.js, line 52 Members &lt;static&gt; MEDIA :object Audio data for default event sounds Type: object Source: media/EventSounds.js, line 102 elements :object Collection of EventSoundsElement objects Type: object Source: media/EventSounds.js, line 314 enabled :number Whether this event sounds are enabled or not Type: number Source: media/EventSounds.js, line 326 globalEnabled :boolean This attribute is intended to be used at prototype level, to indicate a globally disabledor enabled state. Type: boolean Source: media/EventSounds.js, line 331 Methods play(eventName) Plays a specific event sound Parameters: Name Type Description eventName string The identifier of the event to be played Source: media/EventSounds.js, line 93 realize(ps, mediaBag) Instantiates the audio objects needed to play event sounds Parameters: Name Type Description ps PlayStation mediaBag MediaBag Source: media/EventSounds.js, line 84 setProperties($xml) Reads the object properties from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Source: media/EventSounds.js, line 69 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"EventSoundsElement.html":{"id":"EventSoundsElement.html","title":"Class: EventSoundsElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: EventSoundsElement EventSoundsElement The EventSoundsElement object contains the description of a specific sound to be played whenone of the JClic events are fired.For a full list of the JClic events see: EventSounds new EventSoundsElement(id [, fileName]) EventSoundsElement constructor Parameters: Name Type Argument Description id string The identifier of this media sound fileName string &lt;optional&gt; An optional file name or URL containing the sound data Source: media/EventSoundsElement.js, line 46 Members audio :HTMLAudioElement HTMLAudioElement used to play this sound Type: HTMLAudioElement Source: media/EventSoundsElement.js, line 126 enabled :number Whether the sound for this event is enabled or not Type: number Source: media/EventSoundsElement.js, line 116 fileName :string The sound file used by this element Type: string Source: media/EventSoundsElement.js, line 111 player :ActiveMediaPlayer Media player used to play this sound Type: ActiveMediaPlayer Source: media/EventSoundsElement.js, line 121 Methods play() Plays the audio associated to this event Source: media/EventSoundsElement.js, line 87 realize(ps, mediaBag) Instantiates this audio object Parameters: Name Type Description ps PlayStation mediaBag MediaBag Source: media/EventSoundsElement.js, line 77 setProperties($xml) Reads the properties of this object from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Source: media/EventSoundsElement.js, line 66 stop() Stops playing the audio associated to this event Source: media/EventSoundsElement.js, line 100 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ExchangePuzzle.html":{"id":"ExchangePuzzle.html","title":"Class: ExchangePuzzle","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ExchangePuzzle ExchangePuzzle This class of Activity shows only one panel with scrambled ActiveBox objects.To solve the activity, each cell must exchange its location with another one. When all cells areon place, the activity is done. new ExchangePuzzle(project) ExchangePuzzle constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/puzzles/ExchangePuzzle.js, line 50 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: ExchangePuzzlePanel Type: class Source: activities/puzzles/ExchangePuzzle.js, line 378 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Overrides: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Overrides: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ExchangePuzzlePanel.html":{"id":"ExchangePuzzlePanel.html","title":"Class: ExchangePuzzlePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ExchangePuzzlePanel ExchangePuzzlePanel The ActivityPanel where activities of type ExchangePuzzle are played. new ExchangePuzzlePanel(act, ps [, $div]) ExchangePuzzlePanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/puzzles/ExchangePuzzle.js, line 101 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The box connector Type: BoxConnector Overrides: ActivityPanel#bc Source: activities/puzzles/ExchangePuzzle.js, line 362 bg :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the panel. Type: ActiveBoxBag Source: activities/puzzles/ExchangePuzzle.js, line 357 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Overrides: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Explore.html":{"id":"Explore.html","title":"Class: Explore","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Explore Explore This class of Activity shows a panel with ActiveBox objects. Users can clickon this objects to obtain associated information. This associated information, displayed ina second panel, can be text graphics, sound, video... or a combination of them. new Explore(project) Explore constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/panels/Explore.js, line 50 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: ExplorePanel Type: class Source: activities/panels/Explore.js, line 341 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Overrides: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ExplorePanel.html":{"id":"ExplorePanel.html","title":"Class: ExplorePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ExplorePanel ExplorePanel The ActivityPanel where Explore activities are played. new ExplorePanel(act, ps) ExplorePanel constructor Parameters: Name Type Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. Source: activities/panels/Explore.js, line 97 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Overrides: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bgA :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the primary panel Type: ActiveBoxBag Source: activities/panels/Explore.js, line 319 bgB :ActiveBoxBag The ActiveBoxBag object containing the information associated to primary elements.Only one of this elements will be showed for each click done in the primary panel. Type: ActiveBoxBag Source: activities/panels/Explore.js, line 324 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Overrides: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-CanvasRenderingContext2D.html":{"id":"external-CanvasRenderingContext2D.html","title":"External: CanvasRenderingContext2D","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: CanvasRenderingContext2D CanvasRenderingContext2D The CanvasRenderingContext2D interface provides the 2D rendering context for the drawing surfaceof a &lt;canvas&gt; element. Source: JClic.js, line 55 See: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-Collator.html":{"id":"external-Collator.html","title":"External: Collator","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: Collator Collator The Intl.Collator object is a constructor for collators, objects that enable language sensitivestring comparison. Source: JClic.js, line 79 See: https://developer.mozilla.org/ca/docs/Web/JavaScript/Reference/Global_Objects/Collator × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-HTMLAudioElement.html":{"id":"external-HTMLAudioElement.html","title":"External: HTMLAudioElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: HTMLAudioElement HTMLAudioElement The HTMLAudioElement interface provides access to the properties of &lt;audio&gt; elements, aswell as methods to manipulate them. It derives from theHTMLMediaElement interface. Source: JClic.js, line 71 See: https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-HTMLElement.html":{"id":"external-HTMLElement.html","title":"External: HTMLElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: HTMLElement HTMLElement The HTMLElement interface represents any HTML element. Some elements directly implement thisinterface, others implement it via an interface that inherits it. Source: JClic.js, line 33 See: https://developer.mozilla.org/ca/docs/Web/API/HTMLElement × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-HTMLImageElement.html":{"id":"external-HTMLImageElement.html","title":"External: HTMLImageElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: HTMLImageElement HTMLImageElement The HTMLImageElement interface provides special properties and methods (beyond the regularHTMLElement interface italso has available to it by inheritance) for manipulating the layout and presentation of&lt;img&gt; elements. Source: JClic.js, line 62 See: https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-i18next.html":{"id":"external-i18next.html","title":"External: i18next","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: i18next i18next An i18next object, used to translate literals Source: JClic.js, line 99 See: http://i18next.com × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-jQuery.html":{"id":"external-jQuery.html","title":"External: jQuery","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: jQuery jQuery A jQuery object Source: JClic.js, line 40 See: http://api.jquery.com/jQuery/ × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-jqXHR.html":{"id":"external-jqXHR.html","title":"External: jqXHR","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: jqXHR jqXHR The jQuery XMLHttpRequest (jqXHR) object returned by $.ajax() as of jQuery 1.5 is a supersetof the browser's native XMLHttpRequest object.As of jQuery 1.5, jqXHR objects implement the Promise interface, giving themall the properties, methods, and behavior of a Promise. Source: JClic.js, line 46 See: https://api.jquery.com/jQuery.ajax/#jqXHR × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-JSZip.html":{"id":"external-JSZip.html","title":"External: JSZip","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: JSZip JSZip A JSZip object Source: JClic.js, line 86 See: https://stuk.github.io/jszip × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-MediaRecorder.html":{"id":"external-MediaRecorder.html","title":"External: MediaRecorder","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: MediaRecorder MediaRecorder The MediaRecorder interface of the MediaRecorder APIprovides functionality to easily capture media. Source: JClic.js, line 92 See: https://developer.mozilla.org/ca/docs/Web/API/MediaRecorder × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-NamedNodeMap.html":{"id":"external-NamedNodeMap.html","title":"External: NamedNodeMap","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: NamedNodeMap NamedNodeMap The NamedNodeMap interface represents a collection of Attr objects. Objects inside a NamedNodeMap are not in any particularorder, unlike NodeList, although they may be accessed by an index as in an array. Source: JClic.js, line 119 See: https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-Promise.html":{"id":"external-Promise.html","title":"External: Promise","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: Promise Promise The Promise object is used for asynchronous computations. A Promise represents an operationthat hasn't completed yet, but is expected in the future. Source: JClic.js, line 105 See: https://developer.mozilla.org/ca/docs/Web/JavaScript/Reference/Global_Objects/Promise × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"external-Storage.html":{"id":"external-Storage.html","title":"External: Storage","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage External: Storage Storage The Storage interface of the Web Storage API provides access to the session storage or local storage for a particular domain,allowing you to for example add, modify or delete stored data items. Source: JClic.js, line 112 See: https://developer.mozilla.org/en-US/docs/Web/API/Storage × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"FillInBlanks.html":{"id":"FillInBlanks.html","title":"Class: FillInBlanks","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: FillInBlanks FillInBlanks In this type of activity the text document has some blanks that must be filled-in. The blankscan be drop-down boxes or text fields (empty or pre-filled with an initial text). Blanks canalso have associated clues, shown as &quot;pop-ups&quot;. new FillInBlanks(project) FillInBlanks constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/text/FillInBlanks.js, line 48 Extends TextActivityBase Members &lt;static&gt; Panel :class Panel class associated to this type of activity: FillInBlanksPanel Type: class Source: activities/text/FillInBlanks.js, line 430 autoJump :boolean Whether to jump or not to the next target when the current one is solved. Type: boolean Source: activities/text/FillInBlanks.js, line 68 checkButtonText :string This is the label used by text activities for the check button, when present. Type: string Inherited From: TextActivityBase#checkButtonText Source: activities/text/TextActivityBase.js, line 73 ev :Evaluator This is the object used to evaluate user's answers in text activities. Type: Evaluator Inherited From: TextActivityBase#ev Source: activities/text/TextActivityBase.js, line 68 forceOkToAdvance :boolean Whether to block or not the jump to other targets until the current oneis resolved. Type: boolean Source: activities/text/FillInBlanks.js, line 73 prevScreen :boolean When true, a text will be shown before the beginning of the activity. Type: boolean Inherited From: TextActivityBase#prevScreen Source: activities/text/TextActivityBase.js, line 78 prevScreenMaxTime :number Maximum amount of time for showing the previous document. Type: number Inherited From: TextActivityBase#prevScreenMaxTime Source: activities/text/TextActivityBase.js, line 94 prevScreenStyle :BoxBase The style of the optional text to be shown before the beginning of the activity. Type: BoxBase Inherited From: TextActivityBase#prevScreenStyle Source: activities/text/TextActivityBase.js, line 89 prevScreenText :string Optional text to be shown before the beginning of the activity. When null, this text isthe main document. Type: string Inherited From: TextActivityBase#prevScreenText Source: activities/text/TextActivityBase.js, line 83 Methods getMinNumActions() Retrieves the minimum number of actions needed to solve this activity Inherited From: TextActivityBase#getMinNumActions Source: activities/text/TextActivityBase.js, line 62 Returns: Type number needsKeyboard() This kind of activity usually makes use of the keyboard Source: activities/text/FillInBlanks.js, line 62 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"FillInBlanksPanel.html":{"id":"FillInBlanksPanel.html","title":"Class: FillInBlanksPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: FillInBlanksPanel FillInBlanksPanel The TextActivityBasePanel where FillInBlanks activities are played. new FillInBlanksPanel(act, ps [, $div]) FillInBlanksPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/text/FillInBlanks.js, line 86 Extends TextActivityBasePanel Members $checkButton :external:jQuery The button used to check the activity, only when Activity.checkButtonText is not null Type: external:jQuery Inherited From: TextActivityBasePanel#$checkButton Source: activities/text/TextActivityBase.js, line 486 $currentPopup :external:jQuery The popup currently been displayed Type: external:jQuery Inherited From: TextActivityBasePanel#$currentPopup Source: activities/text/TextActivityBase.js, line 496 currentPopupTimer :number A timer controlling the time the current popup will be displayed Type: number Inherited From: TextActivityBasePanel#currentPopupTimer Source: activities/text/TextActivityBase.js, line 501 locked :boolean Flag indicating if the activity is open or locked Type: boolean Source: activities/text/FillInBlanks.js, line 420 popupWaitTimer :number A timer prepared to display a popup after a while Type: number Inherited From: TextActivityBasePanel#popupWaitTimer Source: activities/text/TextActivityBase.js, line 506 prevScreenTimer :number System timer used to close the previous document when act.maxTime is reached. Type: number Inherited From: TextActivityBasePanel#prevScreenTimer Source: activities/text/TextActivityBase.js, line 491 targets :Array.&lt;external:jQuery&gt; Array of jQuery DOM elements (usually of type 'span') containing the targets of this activity Type: Array.&lt;external:jQuery&gt; Inherited From: TextActivityBasePanel#targets Source: activities/text/TextActivityBase.js, line 475 targetsMarked :boolean Flag indicating if targets must be visually marked at the beginning of the activity.Should be true except for IdentifyText activities. Type: boolean Inherited From: TextActivityBasePanel#targetsMarked Source: activities/text/TextActivityBase.js, line 480 Methods $createTargetElement(target, $span) Creates a target DOM element.This method can be overridden in subclasses to create specific types of targets. Parameters: Name Type Description target TextActivityDocument.TextTarget The target related to the DOM object to be created $span external:jQuery An initial DOM object (usually a span) that can be usedto store the target, or replaced by another type of object. Inherited From: TextActivityBasePanel#$createTargetElement Overrides: TextActivityBasePanel#$createTargetElement Source: activities/text/TextActivityBase.js, line 313 Returns: The jQuery DOM element loaded with the target data. Type external:jQuery activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Source: activities/text/FillInBlanks.js, line 286 checkTarget(target, onlyCheck [, jumpDirection]) Checks if the specified TextTarget has a valid answer in its currentText field Parameters: Name Type Argument Description target TextActivityDocument.TextTarget The target to check onlyCheck boolean When true, the cursor will no be re-positioned jumpDirection number &lt;optional&gt; 1 to go forward, -1 to go back. Source: activities/text/FillInBlanks.js, line 186 Returns: true when the target contains a valid answer Type boolean countSolvedTargets(checkNow [, mark]) Counts the number of targets with SOLVED status Parameters: Name Type Argument Description checkNow boolean When true, all targets will be evaluated. Otherwise, only thecurrent value of targetStatus will be checked. mark boolean &lt;optional&gt; When true, errors in the target answer will be marked. Source: activities/text/FillInBlanks.js, line 229 Returns: The number of targets currently solved. Type number evaluatePanel() Called when the user clicks on the check button Inherited From: TextActivityBasePanel#evaluatePanel Overrides: TextActivityBasePanel#evaluatePanel Source: activities/text/TextActivityBase.js, line 394 Returns: true when the panel is OK, false otherwise. Type boolean finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: TextActivityBasePanel#finishActivity Overrides: TextActivityBasePanel#finishActivity Source: activities/text/TextActivityBase.js, line 404 initActivity() Basic initialization procedure, common to all activities. Inherited From: TextActivityBasePanel#initActivity Source: activities/text/TextActivityBase.js, line 323 markTarget(target, attributes) Visually marks the target as 'solved OK' or 'with errors'. Parameters: Name Type Description target TextActivityDocument.TextTarget The text target to be marked. attributes Array.&lt;number&gt; Array of flags indicating the status (OK or error) for eachcharacter in target.currentText. Source: activities/text/FillInBlanks.js, line 245 preInitActivity() Called when the text activity has a 'previous screen' information to be shown before theactivity starts Inherited From: TextActivityBasePanel#preInitActivity Source: activities/text/TextActivityBase.js, line 345 processEvent(_event) Main handler used to process mouse, touch, keyboard and edit events Parameters: Name Type Description _event HTMLEvent The HTML event to be processed Inherited From: TextActivityBasePanel#processEvent Overrides: TextActivityBasePanel#processEvent Source: activities/text/TextActivityBase.js, line 422 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setDocContent($div, doc) Fills a jQuery DOM element (usually a 'div') with the specified TextActivityDocument. Parameters: Name Type Description $div external:jQuery The jQuery DOM object to be filled with the document. doc TextActivityDocument The document Inherited From: TextActivityBasePanel#setDocContent Source: activities/text/TextActivityBase.js, line 125 showPopup($popup, maxTime, waitTime) Parameters: Name Type Description $popup external:jQuery The popup to display, or _null _ to just hide the current popup maxTime number The maximum time to mantain the popup on screen, in seconds waitTime number When set, indicates the number of seconds to wait before show the popup Inherited From: TextActivityBasePanel#showPopup Source: activities/text/TextActivityBase.js, line 431 startActivity() Called when the activity starts playing Inherited From: TextActivityBasePanel#startActivity Source: activities/text/TextActivityBase.js, line 334 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Font.html":{"id":"Font.html","title":"Class: Font","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Font Font Font contains properties and provides methods to manage fonts new Font( [family] [, size] [, bold] [, italic] [, variant]) Font constructor Parameters: Name Type Argument Default Description family string &lt;optional&gt; 'Arial' size number &lt;optional&gt; 17 bold number &lt;optional&gt; 0 italic number &lt;optional&gt; 0 variant string &lt;optional&gt; '' Source: AWT.js, line 53 Members bold :number The font bold value Type: number Source: AWT.js, line 316 family :string The font-family property Type: string Source: AWT.js, line 304 italic :number The font italic value Type: number Source: AWT.js, line 321 size :number The font sizeWarning: Do not change size directly. Use the setSize()method instead. Type: number Source: AWT.js, line 309 variant :string The font variant value Type: string Source: AWT.js, line 326 Methods &lt;static&gt; checkTree($tree [, options]) Finds the XML elements with typeface specifications, checks its value against the fontsubstitution list, replacing the family attribute and loading the alternative font when needed. Parameters: Name Type Argument Description $tree external:jQuery The xml element to be processed options Object &lt;optional&gt; Optional param that can contain a fontSubstitutions attribute witha substition table to be added to Font.SUBSTITUTIONS Source: AWT.js, line 83 &lt;static&gt; loadGoogleFont(name) Try to load a specific font from [http://www.google.com/fonts] Parameters: Name Type Description name string The font family name Source: AWT.js, line 119 &lt;static&gt; loadGoogleFonts(fonts) Try to load a set of Google fonts Parameters: Name Type Description fonts Array.&lt;string&gt; An array of font names Source: AWT.js, line 131 _calcHeight() The TextMetrics object usedby CanvasRenderingContext2Ddoes not provide a heigth value for rendered text.This stackoverflow questionhas an excellent response by Daniel Earwicker explaining how to measure thevertical dimension of rendered text using a span element.The code has been slighty adapted to deal with Font objects. Warning: Do not call this method direcly. Use getHeight() instead Source: AWT.js, line 240 Returns: Type Font cssFont() Gets the codification of this font in a single string, suitable to be used in a fontCSS attribute. Source: AWT.js, line 223 Returns: A string with all the CSS font properties concatenated Type String equals(font) Checks if two Font objects are equivalent Parameters: Name Type Description font Font The Font object to compare against this one Source: AWT.js, line 264 Returns: true if both objects are equivalent, false otherwise Type Boolean getHeight() Calculates the vertical font metrics and returns its height Source: AWT.js, line 181 Returns: The font height Type number setProperties($xml) Reads the properties of this Font from an XML element Parameters: Name Type Description $xml external:jQuery The xml element to be parsed Source: AWT.js, line 141 Returns: Type Font setSize(size) Allows to change the size member, recalculating the vertical metrics. Parameters: Name Type Description size number The new size to set Source: AWT.js, line 160 Returns: Type Font toCss(css) Translates the Font properties into CSS statements Parameters: Name Type Description css Object The object where to add CSS properties. When null or undefined, a newobject will be created and returned. Source: AWT.js, line 204 Returns: A set of CSS property-values pairs, ready to be used by JQuery.css(properties). Type Object zoom(amount) Increases or decreases the current font size by the specified amount Parameters: Name Type Description amount number The amount to increase or decrease current size Source: AWT.js, line 173 Returns: Type Font × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Gradient.html":{"id":"Gradient.html","title":"Class: Gradient","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Gradient Gradient Contains parameters and methods to draw complex color gradients new Gradient(c1, c2 [, angle] [, cycles]) Gradient constructor Parameters: Name Type Argument Default Description c1 string The initial color, in any CSS-valid form. c2 string The final color, in any CSS-valid form. angle number &lt;optional&gt; 0 The inclination of the gradient relative to the horizontal line. cycles number &lt;optional&gt; 1 The number of times the gradient will be repeated. Source: AWT.js, line 345 Members angle :number Tilt angle Type: number Source: AWT.js, line 425 c1 :string Initial color Type: string Source: AWT.js, line 415 c2 :string Final color Type: string Source: AWT.js, line 420 cycles :number Number of repetitions of the gradient Type: number Source: AWT.js, line 430 Methods getCss() Gets the CSS 'linear-gradient' expression of this Gradient Source: AWT.js, line 398 Returns: A string ready to be used as a value for the linear-gradient CSS attribute Type string getGradient(ctx, rect) Creates a CanvasGradientbased on the provided context and rectangle. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The 2D rendering context rect Rectangle The rectangle where this gradient will be applied to Source: AWT.js, line 384 Returns: Type Gradient hasTransparency() Checks if any of the gradient colors has transparency Source: AWT.js, line 409 Returns: true if this gradient uses colors with transparency, false otherwise. Type boolean setProperties($xml) Reads the properties of this Gradient from an XML element Parameters: Name Type Description $xml external:jQuery The xml element to be parsed Source: AWT.js, line 369 Returns: Type Gradient × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"GreenSkin.html":{"id":"GreenSkin.html","title":"Class: GreenSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: GreenSkin GreenSkin This is a variant of the default Skin used by JClic.jsIt differs from DefaultSkin only in some colors new GreenSkin(ps [, name] [, options]) GreenSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects needed to build this Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options Source: skins/GreenSkin.js, line 46 Extends DefaultSkin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $ctrlCnt :external:jQuery The HTML div where buttons, counters and message box are placed Type: external:jQuery Inherited From: DefaultSkin#$ctrlCnt Source: skins/DefaultSkin.js, line 237 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $msgBoxDiv :external:jQuery The div DOM object where msgBox is located Type: external:jQuery Inherited From: DefaultSkin#$msgBoxDiv Source: skins/Skin.js, line 819 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 actionsIcon :string Actions icon Type: string Inherited From: DefaultSkin#actionsIcon Source: skins/DefaultSkin.js, line 404 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 closeIcon :string Close button Type: string Inherited From: DefaultSkin#closeIcon Source: skins/DefaultSkin.js, line 350 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counterIconFill :string Counter icon fill color Type: string Inherited From: DefaultSkin#counterIconFill Overrides: DefaultSkin#counterIconFill Source: skins/DefaultSkin.js, line 383 counterIconHeight :number Counter icon height Type: number Inherited From: DefaultSkin#counterIconHeight Source: skins/DefaultSkin.js, line 378 counterIconWidth :number Counter icon width Type: number Inherited From: DefaultSkin#counterIconWidth Source: skins/DefaultSkin.js, line 373 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 countersHeight :number Height of counters, in pixels Type: number Inherited From: DefaultSkin#countersHeight Source: skins/DefaultSkin.js, line 257 countersWidth :number Width of counters, in pixels Type: number Inherited From: DefaultSkin#countersWidth Source: skins/DefaultSkin.js, line 252 cssFonts :Array.&lt;string&gt; Fonts used in this skin Type: Array.&lt;string&gt; Inherited From: DefaultSkin#cssFonts Source: skins/DefaultSkin.js, line 296 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 fullScreenExitIcon :string Full screen off icon Type: string Inherited From: DefaultSkin#fullScreenExitIcon Source: skins/DefaultSkin.js, line 343 fullScreenIcon :string Full screen on icon Type: string Inherited From: DefaultSkin#fullScreenIcon Source: skins/DefaultSkin.js, line 336 halfMedia :object Screen sizes (width and height) below which will half sized elements will be used Type: object Inherited From: DefaultSkin#halfMedia Source: skins/Skin.js, line 1048 iconFill :string Fill color for icons Type: string Inherited From: DefaultSkin#iconFill Overrides: DefaultSkin#iconFill Source: skins/DefaultSkin.js, line 313 iconHeight :number Icon height Type: number Inherited From: DefaultSkin#iconHeight Source: skins/DefaultSkin.js, line 308 iconWidth :number Icon width Type: number Inherited From: DefaultSkin#iconWidth Source: skins/DefaultSkin.js, line 303 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 infoIcon :string Info button Type: string Inherited From: DefaultSkin#infoIcon Source: skins/DefaultSkin.js, line 357 mainCSS :string Styles used in this skin Type: string Inherited From: DefaultSkin#mainCSS Source: skins/DefaultSkin.js, line 265 mainCSSHalf :string Styles used in this skin, sized to half its regular size Type: string Inherited From: DefaultSkin#mainCSSHalf Source: skins/DefaultSkin.js, line 276 mainCSSTwoThirds :string Styles used in this skin, sized to two thirds of its regular size Type: string Inherited From: DefaultSkin#mainCSSTwoThirds Source: skins/DefaultSkin.js, line 286 margin :number Space (pixels) between the components of this Skin Type: number Inherited From: DefaultSkin#margin Source: skins/DefaultSkin.js, line 242 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 msgBox :ActiveBox The box used to display the main messages of JClic activities Type: ActiveBox Inherited From: DefaultSkin#msgBox Source: skins/Skin.js, line 814 msgBoxHeight :number Height of DefaultSkin#msgBox Type: number Inherited From: DefaultSkin#msgBoxHeight Source: skins/DefaultSkin.js, line 247 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 nextIcon :string Icon for 'next activity' button Type: string Inherited From: DefaultSkin#nextIcon Source: skins/DefaultSkin.js, line 329 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 prevIcon :string Icon for 'previous activity' button Type: string Inherited From: DefaultSkin#prevIcon Source: skins/DefaultSkin.js, line 322 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 reportsIcon :string Reports button Type: string Inherited From: DefaultSkin#reportsIcon Source: skins/DefaultSkin.js, line 364 scoreIcon :string Score icon Type: string Inherited From: DefaultSkin#scoreIcon Source: skins/DefaultSkin.js, line 397 skinCSS :string Styles used in this skin Type: string Source: skins/GreenSkin.js, line 92 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: DefaultSkin#skinId Source: skins/Skin.js, line 764 timeIcon :string Time icon Type: string Inherited From: DefaultSkin#timeIcon Source: skins/DefaultSkin.js, line 389 twoThirdsMedia :object Screen sizes (width and height) below which will two-thirds sized elements will be used Type: object Inherited From: DefaultSkin#twoThirdsMedia Source: skins/Skin.js, line 1053 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: DefaultSkin#_getStyleSheets Source: skins/GreenSkin.js, line 66 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Inherited From: DefaultSkin#enableMainButtons Source: skins/DefaultSkin.js, line 224 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Inherited From: DefaultSkin#getMsgBox Source: skins/DefaultSkin.js, line 215 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"HolePuzzle.html":{"id":"HolePuzzle.html","title":"Class: HolePuzzle","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: HolePuzzle HolePuzzle This class of Activity shows only one panel with scrambled ActiveBox cells. One of the cells is out of the main panel, thus allowing its neighbors occupy their space.Only immediate neighbors of the &quot;hole&quot; can move into it. When all cells are on place, the initially &quot;expulsed&quot; cell comes back home and the activity is done. new HolePuzzle(project) HolePuzzle constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/puzzles/HolePuzzle.js, line 54 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: HolePuzzlePanel Type: class Source: activities/puzzles/HolePuzzle.js, line 365 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Overrides: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Overrides: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"HolePuzzlePanel.html":{"id":"HolePuzzlePanel.html","title":"Class: HolePuzzlePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: HolePuzzlePanel HolePuzzlePanel The ActivityPanel where HolePuzzle activities are played new HolePuzzlePanel(act, ps [, $div]) HolePuzzlePanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/puzzles/HolePuzzle.js, line 105 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bg :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the panel. Type: ActiveBoxBag Source: activities/puzzles/HolePuzzle.js, line 333 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 hiddenBox :ActiveBox The hidden cell Type: ActiveBox Source: activities/puzzles/HolePuzzle.js, line 344 hiddenBoxIndex :number Index of the hidden cell on the ActiveBagContent Type: number Source: activities/puzzles/HolePuzzle.js, line 349 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 parkBg :ActiveBoxGrid An auxiliary box bag with only one box, used to store the &quot;missing piece&quot; ofthe puzzle. Type: ActiveBoxGrid Source: activities/puzzles/HolePuzzle.js, line 338 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Holes.html":{"id":"Holes.html","title":"Class: Holes","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Holes Holes This Shaper consists of a set of arbitrary shapes placed over a main rectangle thatacts as a enclosure.The components can be of type AWT.Rectangle, AWT.Ellipse or AWT.Path.This components have internal dimension values relative to the horizontal and verticalsizes of the enclosure. Its values (always between 0 and 1) must be scaled to real sizesof graphic objects. new Holes(nx, ny) Holes constructor Parameters: Name Type Description nx number Not used ny number Not used Source: shapers/Holes.js, line 49 Extends Shaper Members baseWidthFactor :number In JigSaw, ratio between the base width of the tooth and the total length of the side. Type: number Inherited From: Shaper#baseWidthFactor Source: shapers/Shaper.js, line 278 className :string This shaper class name Type: string Inherited From: Shaper#className Source: shapers/Shaper.js, line 246 enclosing :AWT.Shape In Holes, the enclosing area where all shapes are placed. Type: AWT.Shape Inherited From: Shaper#enclosing Source: shapers/Shaper.js, line 307 hasRemainder :boolean Flag indicating if this Shaper deploys over a surface biggest than the rectangle enclosingall its shapes Type: boolean Inherited From: Shaper#hasRemainder Source: shapers/Shaper.js, line 322 initiated :boolean Flag used to check if the Shaper has been initialized against a real surface Type: boolean Inherited From: Shaper#initiated Overrides: Shaper#initiated Source: shapers/Shaper.js, line 271 nCells :number Number of cells managed by this shaper Type: number Inherited From: Shaper#nCells Source: shapers/Shaper.js, line 261 nCols :number Number of columns (useful in grid-based shapers) Type: number Inherited From: Shaper#nCols Overrides: Shaper#nCols Source: shapers/Shaper.js, line 251 nRows :number Number of rows (useful in grid-based shapers) Type: number Inherited From: Shaper#nRows Overrides: Shaper#nRows Source: shapers/Shaper.js, line 256 randomLines :boolean In JigSaw, whether the tooths take random directions or not Type: boolean Inherited From: Shaper#randomLines Source: shapers/Shaper.js, line 288 rectangularShapes :boolean Flag indicating if this shaper organizes its cells in rows and columns Type: boolean Inherited From: Shaper#rectangularShapes Source: shapers/Shaper.js, line 317 scaleX :number In Holes, scale to be applied to horizontal positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleX Source: shapers/Shaper.js, line 295 scaleY :number In Holes, scale to be applied to vertical positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleY Source: shapers/Shaper.js, line 301 shapeData :object Contains the specific definition of each shape Type: object Inherited From: Shaper#shapeData Source: shapers/Shaper.js, line 266 showEnclosure :boolean In Holes, when true, the enclosing area will be drawn Type: boolean Inherited From: Shaper#showEnclosure Overrides: Shaper#showEnclosure Source: shapers/Shaper.js, line 312 toothHeightFactor :number In JigSaw, ratio between the tooth height and the total length of the side. Type: number Inherited From: Shaper#toothHeightFactor Source: shapers/Shaper.js, line 283 Methods buildShapes() Builds the individual shapes that will form this Shaper Inherited From: Shaper#buildShapes Overrides: Shaper#buildShapes Source: shapers/Shaper.js, line 182 getEnclosingShapeData() Gets the AWT.Rectangle that contains all shapes of this Shaper. Inherited From: Shaper#getEnclosingShapeData Overrides: Shaper#getEnclosingShapeData Source: shapers/Shaper.js, line 212 Returns: Type AWT.Rectangle getRemainderShape(rect) When hasRemainder is true, this method gets the rectangle containing the full surface wherethe Shaper develops. Parameters: Name Type Description rect AWT.Rectangle The frame where to move and scale all the shapes Inherited From: Shaper#getRemainderShape Source: shapers/Shaper.js, line 222 Returns: Type AWT.Rectangle getShape(n, rect) Gets a clone of the nth Shape object, scaled and located inside a Rectangle Parameters: Name Type Description n number rect AWT.Rectangle Inherited From: Shaper#getShape Source: shapers/Shaper.js, line 191 Returns: Type AWT.Shape getShapeData(n) Gets the nth Shape data object Parameters: Name Type Description n number Inherited From: Shaper#getShapeData Source: shapers/Shaper.js, line 204 Returns: Type object reset(nCols, nRows) Initializes this Shaper to default values Parameters: Name Type Description nCols number Number of columns nRows number Number of rows Inherited From: Shaper#reset Source: shapers/Shaper.js, line 75 setProperties($xml) Loads this shaper settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element with the shaper data Inherited From: Shaper#setProperties Source: shapers/Shaper.js, line 89 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Identify.html":{"id":"Identify.html","title":"Class: Identify","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Identify Identify The aim of this type of Activity is to identify ActiveBox elements in a panelthat satisfy a specific condition, usually exposed in the main message. new Identify(project) Identify constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/panels/Identify.js, line 48 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: IdentifyPanel Type: class Source: activities/panels/Identify.js, line 358 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 cellsToMatch :number Number of cells the user must identify to complete the activity (calculated inIdentifyPanel#buildVisualComponents) Type: number Source: activities/panels/Identify.js, line 82 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 nonAssignedCells :number Number of not assigned cells (calculated in IdentifyPanel#buildVisualComponents) Type: number Source: activities/panels/Identify.js, line 77 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"IdentifyPanel.html":{"id":"IdentifyPanel.html","title":"Class: IdentifyPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: IdentifyPanel IdentifyPanel The ActivityPanel where Identify activities are played. new IdentifyPanel(act, ps) IdentifyPanel constructor Parameters: Name Type Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. Source: activities/panels/Identify.js, line 99 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Overrides: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bg :ActiveBoxBag The ActiveBoxBag containing the information to be displayed on the panel. Type: ActiveBoxBag Source: activities/panels/Identify.js, line 342 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Overrides: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"IdentifyText.html":{"id":"IdentifyText.html","title":"Class: IdentifyText","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: IdentifyText IdentifyText This type of text activity suggests users to click on specific words or single letters of agiven text, without any help on where these elements are placed. new IdentifyText(project) IdentifyText constructor Parameters: Name Type Description project JClicProject The project to which this activity belongs Source: activities/text/IdentifyText.js, line 46 Extends TextActivityBase Members &lt;static&gt; Panel :class Panel class associated to this type of activity: IdentifyTextPanel Type: class Source: activities/text/IdentifyText.js, line 218 checkButtonText :string This is the label used by text activities for the check button, when present. Type: string Inherited From: TextActivityBase#checkButtonText Source: activities/text/TextActivityBase.js, line 73 ev :Evaluator This is the object used to evaluate user's answers in text activities. Type: Evaluator Inherited From: TextActivityBase#ev Source: activities/text/TextActivityBase.js, line 68 prevScreen :boolean When true, a text will be shown before the beginning of the activity. Type: boolean Inherited From: TextActivityBase#prevScreen Source: activities/text/TextActivityBase.js, line 78 prevScreenMaxTime :number Maximum amount of time for showing the previous document. Type: number Inherited From: TextActivityBase#prevScreenMaxTime Source: activities/text/TextActivityBase.js, line 94 prevScreenStyle :BoxBase The style of the optional text to be shown before the beginning of the activity. Type: BoxBase Inherited From: TextActivityBase#prevScreenStyle Source: activities/text/TextActivityBase.js, line 89 prevScreenText :string Optional text to be shown before the beginning of the activity. When null, this text isthe main document. Type: string Inherited From: TextActivityBase#prevScreenText Source: activities/text/TextActivityBase.js, line 83 Methods getMinNumActions() Retrieves the minimum number of actions needed to solve this activity Inherited From: TextActivityBase#getMinNumActions Source: activities/text/TextActivityBase.js, line 62 Returns: Type number × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"IdentifyTextPanel.html":{"id":"IdentifyTextPanel.html","title":"Class: IdentifyTextPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: IdentifyTextPanel IdentifyTextPanel The TextActivityBasePanel where IdentifyText activities are played. new IdentifyTextPanel(act, ps [, $div]) IdentifyTextPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/text/IdentifyText.js, line 61 Extends TextActivityBasePanel Members $checkButton :external:jQuery The button used to check the activity, only when Activity.checkButtonText is not null Type: external:jQuery Inherited From: TextActivityBasePanel#$checkButton Source: activities/text/TextActivityBase.js, line 486 $currentPopup :external:jQuery The popup currently been displayed Type: external:jQuery Inherited From: TextActivityBasePanel#$currentPopup Source: activities/text/TextActivityBase.js, line 496 currentPopupTimer :number A timer controlling the time the current popup will be displayed Type: number Inherited From: TextActivityBasePanel#currentPopupTimer Source: activities/text/TextActivityBase.js, line 501 lastTimeStamp :number Used to avoid duplicate event processing Type: number Source: activities/text/IdentifyText.js, line 207 popupWaitTimer :number A timer prepared to display a popup after a while Type: number Inherited From: TextActivityBasePanel#popupWaitTimer Source: activities/text/TextActivityBase.js, line 506 prevScreenTimer :number System timer used to close the previous document when act.maxTime is reached. Type: number Inherited From: TextActivityBasePanel#prevScreenTimer Source: activities/text/TextActivityBase.js, line 491 targets :Array.&lt;external:jQuery&gt; Array of jQuery DOM elements (usually of type 'span') containing the targets of this activity Type: Array.&lt;external:jQuery&gt; Inherited From: TextActivityBasePanel#targets Source: activities/text/TextActivityBase.js, line 475 targetsMarked :boolean Flag indicating if targets must be visually marked when the activity begins. In this type ofactivity should be always false to avoid revealing the words o letters that must be found. Type: boolean Overrides: TextActivityBasePanel#targetsMarked Source: activities/text/IdentifyText.js, line 201 Methods $createTargetElement(target, $span) Creates a target DOM element.This method can be overridden in subclasses to create specific types of targets. Parameters: Name Type Description target TextActivityDocument.TextTarget The target related to the DOM object to be created $span external:jQuery An initial DOM object (usually a span) that can be usedto store the target, or replaced by another type of object. Inherited From: TextActivityBasePanel#$createTargetElement Overrides: TextActivityBasePanel#$createTargetElement Source: activities/text/TextActivityBase.js, line 313 Returns: The jQuery DOM element loaded with the target data. Type external:jQuery countSolvedTargets() Counts the number of targets that are solved Source: activities/text/IdentifyText.js, line 107 Returns: Type number evaluatePanel() Called when the user clicks on the check button Inherited From: TextActivityBasePanel#evaluatePanel Overrides: TextActivityBasePanel#evaluatePanel Source: activities/text/TextActivityBase.js, line 394 Returns: true when the panel is OK, false otherwise. Type boolean finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: TextActivityBasePanel#finishActivity Overrides: TextActivityBasePanel#finishActivity Source: activities/text/TextActivityBase.js, line 404 initActivity() Basic initialization procedure, common to all activities. Inherited From: TextActivityBasePanel#initActivity Overrides: TextActivityBasePanel#initActivity Source: activities/text/TextActivityBase.js, line 323 preInitActivity() Called when the text activity has a 'previous screen' information to be shown before theactivity starts Inherited From: TextActivityBasePanel#preInitActivity Source: activities/text/TextActivityBase.js, line 345 processEvent(_event) Main handler used to process mouse, touch, keyboard and edit events Parameters: Name Type Description _event HTMLEvent The HTML event to be processed Inherited From: TextActivityBasePanel#processEvent Overrides: TextActivityBasePanel#processEvent Source: activities/text/TextActivityBase.js, line 422 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setDocContent($div, doc) Fills a jQuery DOM element (usually a 'div') with the specified TextActivityDocument. Parameters: Name Type Description $div external:jQuery The jQuery DOM object to be filled with the document. doc TextActivityDocument The document Inherited From: TextActivityBasePanel#setDocContent Source: activities/text/TextActivityBase.js, line 125 showPopup($popup, maxTime, waitTime) Parameters: Name Type Description $popup external:jQuery The popup to display, or _null _ to just hide the current popup maxTime number The maximum time to mantain the popup on screen, in seconds waitTime number When set, indicates the number of seconds to wait before show the popup Inherited From: TextActivityBasePanel#showPopup Source: activities/text/TextActivityBase.js, line 431 startActivity() Called when the activity starts playing Inherited From: TextActivityBasePanel#startActivity Source: activities/text/TextActivityBase.js, line 334 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"InformationScreen.html":{"id":"InformationScreen.html","title":"Class: InformationScreen","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: InformationScreen InformationScreen This class of Activity just shows a panel with ActiveBox objects.Because active boxes can act as a links to specific points in the project's sequence ofactivities, this kind of activity is often used as a menu where users can choose from differentoptions. new InformationScreen(project) InformationScreen constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/panels/InformationScreen.js, line 50 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: InformationScreenPanel Type: class Source: activities/panels/InformationScreen.js, line 264 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Overrides: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Overrides: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"InformationScreenPanel.html":{"id":"InformationScreenPanel.html","title":"Class: InformationScreenPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: InformationScreenPanel InformationScreenPanel The ActivityPanel where InformationScreen activities should display its content new InformationScreenPanel(act, ps) InformationScreenPanel constructor Parameters: Name Type Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. Source: activities/panels/InformationScreen.js, line 72 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Overrides: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bg :ActiveBoxBag The ActiveBoxBag containing the information to be displayed. Type: ActiveBoxBag Source: activities/panels/InformationScreen.js, line 248 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"JClicPlayer.html":{"id":"JClicPlayer.html","title":"Class: JClicPlayer","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: JClicPlayer JClicPlayer JClicPlayer is one of the the main classes of the JClic system. It implements thePlayStationinterface, needed to host JClic activities.JClicPlayer offers to Activity#Panel objects all the necessary resources and functions:media bags (to load and realize images and other media contents), sequence control, managementof the reporting system, user interface, display of system messages, etc. new JClicPlayer($topDiv [, options]) JClicPlayer constructor Parameters: Name Type Argument Description $topDiv external:jQuery The HTML div element where this JClicPlayer will deploy. options object &lt;optional&gt; A set of optional customized options. Source: JClicPlayer.js, line 63 Extends AWT.Container Members $div :external:jQuery The JQuery &quot;div&quot; element used by this player as stage for activities Type: external:jQuery Source: JClicPlayer.js, line 1083 $mainContainer :external:jQuery The main container of all JClic components Type: external:jQuery Source: JClicPlayer.js, line 1093 $topDiv :external:jQuery The JQuery top container where this player will deploy Type: external:jQuery Source: JClicPlayer.js, line 1088 actions :Array.&lt;AWT.Action&gt; Collection of AWT.Action objects used by this player. Type: Array.&lt;AWT.Action&gt; Source: JClicPlayer.js, line 1164 activeMediaBag :ActiveMediaBag Object containing references to realized media objects, ready to play. Type: ActiveMediaBag Source: JClicPlayer.js, line 1153 actPanel :Activity#Panel The Activity#Panel currently running on this player. Type: Activity#Panel Source: JClicPlayer.js, line 1128 audioEnabled :boolean Whether the player must play all sounds (including system sounds) and other media contentof the activities. Type: boolean Source: JClicPlayer.js, line 1200 basePath :string Relative path or absolute URL to be used as a base to access files Type: string Source: JClicPlayer.js, line 1108 bgImageOrigin :AWT.Point Point indicating the upper-left corner of the current background image Type: AWT.Point Source: JClicPlayer.js, line 1195 counterVal :JClicPlayer~counterValType Current values of the counters Type: JClicPlayer~counterValType Source: JClicPlayer.js, line 1190 defaultSkin :Skin The last skin directly specified by a JClicProject Type: Skin Source: JClicPlayer.js, line 1148 defaultSkin :Skin The default Skin to be used if none specified Type: Skin Source: JClicPlayer.js, line 1143 delayedAction :AWT.Action This variable holds the action to be executed by delayedTimer Type: AWT.Action Source: JClicPlayer.js, line 1179 delayedTimer :AWT.Timer Timer for delayed actions Type: AWT.Timer Source: JClicPlayer.js, line 1174 fullScreenChecked :boolean Flag indicatig that this player has switched to full screen at least once Type: boolean Source: JClicPlayer.js, line 1098 history :PlayerHistory This object records the list of the activities played during the current session. Type: PlayerHistory Source: JClicPlayer.js, line 1133 id :string Unique ID of this player, randomly generated by the constructor Type: string Source: JClicPlayer.js, line 1078 JClicVersion :string Current version will be updated by i18n.js Type: string Source: JClicPlayer.js, line 1045 localFS :boolean This flag indicates if the player is running inside a document loaded by file: protocol Type: boolean Source: JClicPlayer.js, line 1122 navButtonsAlways :boolean When this flag is true, the navigation buttons are always enabled despiteof the indications made by the activities or the sequence control system.This is used only to debug projects with complicated sequence chaining. Type: boolean Source: JClicPlayer.js, line 1211 navButtonsDisabled :boolean Whether the navigation buttons next and back are enabled o disabled. Type: boolean Source: JClicPlayer.js, line 1206 options :object Object with miscellaneous options. Type: object Source: JClicPlayer.js, line 1050 project :JClicProject The JClicProject currently hosted in this player Type: JClicProject Source: JClicPlayer.js, line 1103 reporter :Reporter Object responsible for passing the scores obtained by users to a external reporting systemswhen playing activities. Type: Reporter Source: JClicPlayer.js, line 1158 skin :Skin The Skin currently used by this player. Type: Skin Source: JClicPlayer.js, line 1138 timer :AWT.Timer Main timer object used to feed the time counter. Ticks every second. Type: AWT.Timer Source: JClicPlayer.js, line 1169 zip :external:JSZip A external:JSZip object pointing to a jclic.zip or jclic.scorm.zip file containingthe current project.Two extra properties will be added to this object when loaded: zip.fullZipPath {string} - The full path of the ZIP file zip.zipBasePath {string} - The path to the folder containing the ZIP file Type: external:JSZip Source: JClicPlayer.js, line 1113 Methods activityFinished(_completedOK) Called from Activity when finished. Parameters: Name Type Description _completedOK boolean true when the activity was successfully completed, falseotherwise. Source: JClicPlayer.js, line 806 activityReady() Called by JClicPlayer#load when the Activity#Panel is fully visible, justafter the JQuery animation effect. Source: JClicPlayer.js, line 635 buildActions() Builds the AWT.Action objects for this player Source: JClicPlayer.js, line 131 closeHelpWindow() Closes the help dialog window Source: JClicPlayer.js, line 260 displayURL(url, inFrame) Navigates to the requested URL Parameters: Name Type Description url string The URL to navigate to inFrame boolean When true opens in a new frame Source: JClicPlayer.js, line 1017 doLayout() Configures the layout and visual aspect of the player area. Source: JClicPlayer.js, line 655 end() Executes miscellaneous finalization routines. Source: JClicPlayer.js, line 189 Returns: A promise to be fullfilled when all pending tasks are finished. Type Promise exit(url) Only when exitUrl has been specified in options, navigates to the specified URL Parameters: Name Type Description url string The URL to navigate to. Source: JClicPlayer.js, line 1031 forceFinishActivity() Forces the current activity to stop playing. Source: JClicPlayer.js, line 585 getActiveMediaPlayer(mediaContent) Builds an ActiveMediaPlayer for the specified MediaContent Parameters: Name Type Description mediaContent MediaContent The media content to be played Source: JClicPlayer.js, line 954 Returns: Type ActiveMediaPlayer getCounterValue(counter) Gets the current value for the specified counter Parameters: Name Type Description counter string The id of the counter ('score', 'actions' or 'time') Source: JClicPlayer.js, line 877 Returns: Type number getMsg(key) Function obtained from i18next that will return the translation of the provided keyinto the current language.The real function will be initiated by constructor. Meanwhile, it returns always key. Parameters: Name Type Description key string ID of the expression to be translated Source: JClicPlayer.js, line 832 Returns: Translated text Type string getUniqueId(lb) Generates an unique ID for elements being used with this player Parameters: Name Type Description lb string The element's label Source: JClicPlayer.js, line 124 Returns: Type string incCounterValue(counter) Increments by 1 the value of the specified counter Parameters: Name Type Description counter string The id of the counter ('score', 'actions' or 'time') Source: JClicPlayer.js, line 897 incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Source: JClicPlayer.js, line 944 initActivity() Initializes the activity Source: JClicPlayer.js, line 615 initReporter() Creates and initializes the Reporter member Source: JClicPlayer.js, line 215 Returns: Type Promise initTimers() Creates and initializes objects of type AWT.Timer Source: JClicPlayer.js, line 228 load(project [, sequence] [, activity]) Loads the specified project and starts playing at the specified activity or sequence tag. Parameters: Name Type Argument Description project string | JClicProject &lt;nullable&gt; The project to load (if it's a string) or to use (if it's an object of type JClicProject).When it's a string, it can be the absolute or relative path to: A '.jclic' project file A '.jclic.zip' compressed project file (containing one '.jclic' file) A '.scorm.zip' file, as exported by JClic Author. A 'project.json' file, as exported by JClic AuthorWhen null or undefined, refers to the current project. sequence string | number &lt;optional&gt; Sequence tag or numeric order in the ActivitySequenceto be loaded. If sequence and activity are both null, the first ActivitySequenceElementwill be loaded. activity string &lt;optional&gt; Name of the activity to be loaded (usually null) Source: JClicPlayer.js, line 305 playMedia(mediaContent [, mediaPlacement] [, delayedActions]) Plays the specified media. Parameters: Name Type Argument Default Description mediaContent MediaContent The media to be played mediaPlacement ActiveBox &lt;optional&gt; null The cell where the graphic component of this media should be placed (used with video objects) delayedActions Array.&lt;function()&gt; &lt;optional&gt; null If set, store the the action in this array for future execution Source: JClicPlayer.js, line 716 playMsg() Launches the active media content associated to the main message, if any. Source: JClicPlayer.js, line 856 removeActivity() Removes the current Activity#Panel from this player Source: JClicPlayer.js, line 600 reportEndActivity(act, solved) Notifies the reporting system that the current activity has finished Parameters: Name Type Description act Activity The activity that is sending the notification solved boolean Whether the activity was successfully completed or not. Source: JClicPlayer.js, line 998 reportNewAction(act, type, source, dest, ok, currentScore) Notifies the reporting system that a new action has been performed on the current activity Parameters: Name Type Argument Description act Activity The activity that is sending the notification type string Type of action (match, move, switch...) source string &lt;nullable&gt; Object acting as a source of the action (cell, grid, clue...) dest string &lt;nullable&gt; When applicable, object acting as a receiver of the action (cell, grid...) ok boolean Whether the action was OK or not currentScore number The current score of the activity Source: JClicPlayer.js, line 984 reportNewActivity(act) Notifies the reporting system that a new activity has started Parameters: Name Type Description act Activity The activity that is sending the notification Source: JClicPlayer.js, line 962 reset() Resets the main components of this player Source: JClicPlayer.js, line 163 runCmd(cmd) Launches the specified system command.Currently not implemented. Parameters: Name Type Description cmd string Source: JClicPlayer.js, line 797 setCountDown(counter, maxValue) Sets the specified counter in count-down status, starting at maxValue. Parameters: Name Type Description counter string The id of the counter ('score', 'actions' or 'time') maxValue number The value from which to start counting down Source: JClicPlayer.js, line 915 setCounterEnabled(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string The id of the counter ('score', 'actions' or 'time') bEnabled boolean When true, the counter will be enabled. Source: JClicPlayer.js, line 886 setCounterValue(counter, newValue) Sets a value to the specified counter Parameters: Name Type Description counter string The id of the counter ('score', 'actions' or 'time') newValue number The value to be set Source: JClicPlayer.js, line 866 setMsg(abc) Sets the current main message. Parameters: Name Type Description abc ActiveBoxContent The content of the message Source: JClicPlayer.js, line 841 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Source: JClicPlayer.js, line 935 setProject(project) Sets the current project of this player, without starting any activity Parameters: Name Type Description project JClicProject The project to be set Source: JClicPlayer.js, line 281 setSkin(newSkin) Sets the current skin Parameters: Name Type Argument Description newSkin Skin &lt;nullable&gt; The skin to use. When null, defaultSkin will be used. Source: JClicPlayer.js, line 268 setWaitCursor(status) Set/unset the panel in 'wait' state Parameters: Name Type Description status boolean Source: JClicPlayer.js, line 925 setWindowTitle(docTitle) Sets a title in a specific HTML element, if provided. Parameters: Name Type Description docTitle string Source: JClicPlayer.js, line 1039 showHelp($hlpComponent) Shows the help info provided by the activity Parameters: Name Type Description $hlpComponent external:jQuery The jQuery DOM component to be shown. Source: JClicPlayer.js, line 1008 Returns: True when the component was successfully displayed Type boolean showReports() Opens the reports dialog Source: JClicPlayer.js, line 253 startActivity() Starts the activity. This method is usually called from text activities with previous text. Source: JClicPlayer.js, line 645 startAutoPassTimer() Starts the automatic jump to next activity, when applicable. Source: JClicPlayer.js, line 816 stop() Instructs the player to stop working Source: JClicPlayer.js, line 181 stopMedia( [level]) Stops currently playing media Parameters: Name Type Argument Default Description level number &lt;optional&gt; -1 Sets the threshold above which all media objects with equalor greater level will also also be muted. Source: JClicPlayer.js, line 786 Type Definitions counterValType Type: object Properties: Name Type Description score number actions number time number Source: JClicPlayer.js, line 1184 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"JClicProject.html":{"id":"JClicProject.html","title":"Class: JClicProject","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: JClicProject JClicProject JClicProject contains all the components of a JClic project: activities, sequences, media files, descriptors and metadata. This encapsulation is achieved by three auxiliary objects: ProjectSettings: stores metadata like full title, description, authors, languages,educational topics... ActivitySequence: defines the order in which the activities must be shown. MediaBag: contains the list of all media files used by the activities new JClicProject() JClicProject constructor Source: project/JClicProject.js, line 55 Members activitySequence :ActivitySequence Object containing the order in which the activities should be played Type: ActivitySequence Source: project/JClicProject.js, line 166 basePath :string Relative path or absolute URL to be used as a base to access files, usually in conjunctionwith JClicPlayer#basePath Type: string Source: project/JClicProject.js, line 194 code :string Optional property that can be used by reporting systems Type: string Source: project/JClicProject.js, line 156 mediaBag :MediaBag The collection of all media elements used in this project Type: MediaBag Source: project/JClicProject.js, line 184 name :string The project's name Type: string Source: project/JClicProject.js, line 141 path :string Full path of this project Type: string Source: project/JClicProject.js, line 200 reportableActs :number Number of activities suitable to be included reports Type: number Source: project/JClicProject.js, line 178 settings :ProjectSettings Object containing the project settings Type: ProjectSettings Source: project/JClicProject.js, line 161 skin :Skin The object that builds and manages the visual interface presented to users Type: Skin Source: project/JClicProject.js, line 189 type :string Optional property that can be used by reporting systems Type: string Source: project/JClicProject.js, line 151 version :string The version of the XML file format used to save the project (currently 0.1.3) Type: string Source: project/JClicProject.js, line 146 zip :external:JSZip The JSZip object where this project is stored (can be null) Type: external:JSZip Source: project/JClicProject.js, line 205 Methods end() Run finalizers on realized objects Source: project/JClicProject.js, line 135 getActivity(name) Finds activities by name and builds the corresponding Activity object. Parameters: Name Type Description name string The name of the requested activity Source: project/JClicProject.js, line 112 Returns: Type Activity realize(ps) Builds the Skin, EventSounds and MediaBag fonts associated to this project. Parameters: Name Type Description ps PlayStation The PlayStation (usually a JClicPlayer) linked to this project. Source: project/JClicProject.js, line 121 setProperties($xml, path, zip, options) Loads the project settings from a main jQuery XML element Parameters: Name Type Argument Description $xml external:jQuery The XML element path string The full path of this project zip external:JSZip &lt;nullable&gt; An optional JSZip object where this project is encapsulated options object &lt;nullable&gt; An object with miscellaneous options Source: project/JClicProject.js, line 74 Returns: Type JClicProject × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"JigSaw.html":{"id":"JigSaw.html","title":"Class: JigSaw","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: JigSaw JigSaw This Shaper returns a set of rectangular shapes with teeth and slots that fit between them. new JigSaw(nx, ny) JigSaw constructor Parameters: Name Type Description nx number Number of columns ny number Number of rows Source: shapers/JigSaw.js, line 46 Extends Shaper Members baseWidthFactor :number In JigSaw, ratio between the base width of the tooth and the total length of the side. Type: number Inherited From: Shaper#baseWidthFactor Source: shapers/Shaper.js, line 278 className :string This shaper class name Type: string Inherited From: Shaper#className Source: shapers/Shaper.js, line 246 enclosing :AWT.Shape In Holes, the enclosing area where all shapes are placed. Type: AWT.Shape Inherited From: Shaper#enclosing Source: shapers/Shaper.js, line 307 hasRemainder :boolean Flag indicating if this Shaper deploys over a surface biggest than the rectangle enclosingall its shapes Type: boolean Inherited From: Shaper#hasRemainder Source: shapers/Shaper.js, line 322 initiated :boolean Flag used to check if the Shaper has been initialized against a real surface Type: boolean Inherited From: Shaper#initiated Overrides: Shaper#initiated Source: shapers/Shaper.js, line 271 nCells :number Number of cells managed by this shaper Type: number Inherited From: Shaper#nCells Source: shapers/Shaper.js, line 261 nCols :number Number of columns (useful in grid-based shapers) Type: number Inherited From: Shaper#nCols Source: shapers/Shaper.js, line 251 nRows :number Number of rows (useful in grid-based shapers) Type: number Inherited From: Shaper#nRows Source: shapers/Shaper.js, line 256 randomLines :boolean In JigSaw, whether the tooths take random directions or not Type: boolean Inherited From: Shaper#randomLines Source: shapers/Shaper.js, line 288 rectangularShapes :boolean Flag indicating if this shaper organizes its cells in rows and columns Type: boolean Inherited From: Shaper#rectangularShapes Source: shapers/Shaper.js, line 317 scaleX :number In Holes, scale to be applied to horizontal positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleX Source: shapers/Shaper.js, line 295 scaleY :number In Holes, scale to be applied to vertical positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleY Source: shapers/Shaper.js, line 301 shapeData :object Contains the specific definition of each shape Type: object Inherited From: Shaper#shapeData Source: shapers/Shaper.js, line 266 showEnclosure :boolean In Holes, when true, the enclosing area will be drawn Type: boolean Inherited From: Shaper#showEnclosure Source: shapers/Shaper.js, line 312 toothHeightFactor :number In JigSaw, ratio between the tooth height and the total length of the side. Type: number Inherited From: Shaper#toothHeightFactor Source: shapers/Shaper.js, line 283 Methods buildShapes() Builds the individual shapes that will form this Shaper Inherited From: Shaper#buildShapes Overrides: Shaper#buildShapes Source: shapers/Shaper.js, line 182 getEnclosingShapeData() Gets the AWT.Rectangle that contains all shapes of this Shaper. Inherited From: Shaper#getEnclosingShapeData Source: shapers/Shaper.js, line 212 Returns: Type AWT.Rectangle getRemainderShape(rect) When hasRemainder is true, this method gets the rectangle containing the full surface wherethe Shaper develops. Parameters: Name Type Description rect AWT.Rectangle The frame where to move and scale all the shapes Inherited From: Shaper#getRemainderShape Source: shapers/Shaper.js, line 222 Returns: Type AWT.Rectangle getShape(n, rect) Gets a clone of the nth Shape object, scaled and located inside a Rectangle Parameters: Name Type Description n number rect AWT.Rectangle Inherited From: Shaper#getShape Source: shapers/Shaper.js, line 191 Returns: Type AWT.Shape getShapeData(n) Gets the nth Shape data object Parameters: Name Type Description n number Inherited From: Shaper#getShapeData Source: shapers/Shaper.js, line 204 Returns: Type object hLine(sd, type, x, y, w, h, inv) Adds an horizontal line to the provided path Parameters: Name Type Description sd AWT.Path The Path to which the line will be added type number Type of tooth: 0 is flat (no tooth), 1 means tooth up, and 2 means tooth down x number X coordinate of the starting point y number Y coordinate of the starting point w number Width of the piece h number Height of the piece inv boolean The line must be drawn right to left Source: shapers/JigSaw.js, line 108 reset(nCols, nRows) Initializes this Shaper to default values Parameters: Name Type Description nCols number Number of columns nRows number Number of rows Inherited From: Shaper#reset Source: shapers/Shaper.js, line 75 setProperties($xml) Loads this shaper settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element with the shaper data Inherited From: Shaper#setProperties Source: shapers/Shaper.js, line 89 vLine(sd, type, x, y, w, h, inv) Adds a vertical line to the provided path Parameters: Name Type Description sd AWT.Path The Path to which the line will be added type number Type of tooth: 0 is flat (no tooth), 1 means tooth right, and 2 means tooth left x number X coordinate of the starting point y number Y coordinate of the starting point w number Width of the piece h number Height of the piece inv boolean The line must be drawn bottom to top Source: shapers/JigSaw.js, line 142 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"JumpInfo.html":{"id":"JumpInfo.html","title":"Class: JumpInfo","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: JumpInfo JumpInfo This class contains information about what things JClic sequence manager has to do in certaincircumstances, such as: an activity finishes the user clicks on the &quot;next&quot; or &quot;prev&quot; buttons the user clicks or a cell with special &quot;active content&quot; Different kinds of actions are possible for each of these events: RETURN: to go back to a previous point in the sequence. EXIT: to exit the program (thus navigating to another URL) STOP: to do nothing. JUMP: to jump to a specific point in the sequence of activities, or to another JClic project. new JumpInfo(action [, sq]) JumpInfo constructor Parameters: Name Type Argument Description action string Must be one of the described actions. sq number | string &lt;optional&gt; Can be the tag of the sequence element to jump to, or itscardinal number in the list. Source: bags/JumpInfo.js, line 52 See: ActivitySequenceJump ConditionalJumpInfo Members action :string The current action.Possible values are: JUMP, STOP, RETURN and EXIT. Type: string Source: bags/JumpInfo.js, line 92 actNum :number Activity number in the sequence list Type: number Source: bags/JumpInfo.js, line 98 id :string The JumpInfo identifier For regular jumps: 'forward', 'back' For conditional jumps: 'upper', 'lower' Type: string Source: bags/JumpInfo.js, line 85 projectPath :string Path of another JClic project to jump to Type: string Source: bags/JumpInfo.js, line 108 sequence :string Current sequence tag Type: string Source: bags/JumpInfo.js, line 103 Methods setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: bags/JumpInfo.js, line 75 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MediaBag.html":{"id":"MediaBag.html","title":"Class: MediaBag","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MediaBag MediaBag This class stores and manages all the media components (images, sounds, animations, video,MIDI files, etc.) needed to run the activities of a JClicProject. The main member ofthe class is elements. This is where MediaBagElement objects are stored. new MediaBag(project) MediaBag constructor Parameters: Name Type Description project JClicProject The JClic project to which this media bag belongs Source: bags/MediaBag.js, line 47 Members elements :object The collection of MediaBagElement objects Type: object Source: bags/MediaBag.js, line 184 project :JClicProject The JClic project to which this MediaBag belongs Type: JClicProject Source: bags/MediaBag.js, line 189 Methods buildAll(type [, callback] [, ps]) Preloads all resources. Use with care! Calling this method will start loading all the resources defined in theMediaBag, whether used or not in the current activity. Parameters: Name Type Argument Description type string The type of media to be build. When null or undefined, allresources will be build. callback function &lt;optional&gt; Function to be called when each element is ready. ps PlayStation &lt;optional&gt; An optional PlayStation (currently a JClicPlayer) used to dynamically load fonts Source: bags/MediaBag.js, line 140 Returns: The total number of elements that will be build * Type number countWaitingElements() Checks if there are media waiting to be loaded Source: bags/MediaBag.js, line 155 Returns: The amount of media elements already loaded, or -1 if all elements are ready Type number getElement(name [, create]) Finds a MediaBagElement by its name, creating a new one if not found and requested. Parameters: Name Type Argument Description name string The name of the element create boolean &lt;optional&gt; When true, a new MediaBagElement will be created if not found,using 'name' as its fileName.. Source: bags/MediaBag.js, line 77 Returns: Type MediaBagElement getElementByFileName(fileName [, create]) Gets a MediaBagElement by its file name. Parameters: Name Type Argument Description fileName string The requested file name create boolean &lt;optional&gt; When true, a new MediaBagElement will be created if notfound. Source: bags/MediaBag.js, line 92 Returns: Type MediaBagElement getElementsOfType(type) Get the names of the media elements that are of the given type.When the search type is font, the fontName property is used instead of name Parameters: Name Type Description type string The type of elements to search Source: bags/MediaBag.js, line 120 Returns: Type Array.&lt;String&gt; getSkinElement(name, ps) Loads a Skin object Parameters: Name Type Description name string The skin name to be loaded ps string The PlayStation linked to the skin Source: bags/MediaBag.js, line 178 Returns: Type Skin setProperties($xml) Loads this object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: bags/MediaBag.js, line 61 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MediaBagElement.html":{"id":"MediaBagElement.html","title":"Class: MediaBagElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MediaBagElement MediaBagElement This kind of objects are the components of MediaBag. Media elements have a name, a reference to a file (the fileName field) and, when initialized,a data field pointing to a object containing the real media. They have also a flag indicatingif the data must be saved on the JClicProject zip file or just maintained as a referenceto an external file. new MediaBagElement(basePath, fileName [, zip]) MediaBagElement constructor Parameters: Name Type Argument Description basePath string Path to be used as a prefix of the file name fileName string The media file name zip external:JSZip &lt;optional&gt; An optional JSZip object from which the file must be extracted. Source: bags/MediaBagElement.js, line 49 Members animated :boolean Flag used for animated GIFs Type: boolean Source: bags/MediaBagElement.js, line 376 basePath :string The path to be used as base to access this media element Type: string Source: bags/MediaBagElement.js, line 334 data :object When loaded, this field will store the realized media object Type: object Source: bags/MediaBagElement.js, line 344 ext :string Normalized extension of fileName, useful to determine the media type Type: string Source: bags/MediaBagElement.js, line 360 fileName :string The name of the file where this element is stored Type: string Source: bags/MediaBagElement.js, line 324 fontName :string The font family name, used only in elements of type 'font' Type: string Source: bags/MediaBagElement.js, line 329 name :string The name of this element. Usually is the same as fileName Type: string Source: bags/MediaBagElement.js, line 319 ready :boolean Flag indicating that data is ready to be used Type: boolean Source: bags/MediaBagElement.js, line 349 timeout :number Time set to load the resource before leaving Type: number Source: bags/MediaBagElement.js, line 370 type :string The resource type ('audio', 'image', 'midi', 'video', 'font') Type: string Source: bags/MediaBagElement.js, line 365 zip :external:JSZip An optional JSZip object that can act as a container of this media Type: external:JSZip Source: bags/MediaBagElement.js, line 339 Methods _onReady() Notify listeners that the resource is ready Source: bags/MediaBagElement.js, line 287 build(callback [, ps]) Instantiates the media content Parameters: Name Type Argument Description callback function Callback method called when the referred resource is ready ps PlayStation &lt;optional&gt; An optional PlayStation (currently a JClicPlayer) used to dynamically load fonts Source: bags/MediaBagElement.js, line 185 checkAnimatedGif() Checks if the image associated with this MediaBagElement is an animated GIF Based on: https://gist.github.com/marckubischta/261ad8427a214022890bThanks to @lakenen and @marckubischta Source: bags/MediaBagElement.js, line 103 checkReady() Checks if this media element is ready to start Source: bags/MediaBagElement.js, line 255 Returns: true if ready, false otherwise Type Boolean checkTimeout() Checks if this resource has timed out. Source: bags/MediaBagElement.js, line 277 Returns: true if the resource has exhausted the allowed time to load, false otherwise Type Boolean getFileType(ext) Determines the type of a file from its extension Parameters: Name Type Description ext string The file name extension Source: bags/MediaBagElement.js, line 169 Returns: Type string getFullPath() Gets the full path of the file associated to this element.WARNING: This function should be called only after a successful call to getFullPathPromise Source: bags/MediaBagElement.js, line 300 Returns: Type string getFullPathPromise() Gets a promise with the full path of the file associated to this element. Source: bags/MediaBagElement.js, line 308 Returns: Type Promise isEmpty() Checks if the MediaBagElement has been initiated Source: bags/MediaBagElement.js, line 160 Returns: Type boolean setProperties($xml) Loads this object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: bags/MediaBagElement.js, line 76 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MediaContent.html":{"id":"MediaContent.html","title":"Class: MediaContent","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MediaContent MediaContent This object contains a description of any multimedia content (sound, video, MIDI, voicerecording..) or special actions (jump to another point in the sequence, link to an URL, etc.)associated to an ActiveBox object. new MediaContent(type [, mediaFileName]) MediaContent constructor Parameters: Name Type Argument Description type string The type of media. Valid values are: UNKNOWN, PLAY_AUDIO, PLAY_VIDEO,PLAY_MIDI, PLAY_CDAUDIO, RECORD_AUDIO, PLAY_RECORDED_AUDIO, RUN_CLIC_ACTIVITY,RUN_CLIC_PACKAGE, RUN_EXTERNAL, URL, EXIT and RETURN mediaFileName string &lt;optional&gt; Optional parameter indicating the media file name Source: media/MediaContent.js, line 46 Members &lt;static&gt; ICONS :object Collection of icon external:HTMLImageElement objects Type: object Source: media/MediaContent.js, line 319 absLocation :AWT.Point Places the video window at a specific location. Type: AWT.Point Source: media/MediaContent.js, line 239 absLocationFrom :string When MediaContent#absLocation is not null, this field indicates from where tomeasure its coordinates. Valid values are: BOX, WINDOW or FRAME. Type: string Source: media/MediaContent.js, line 244 autoStart :boolean When true, the media will automatically start playing when the associated ActiveBoxbecome active. Type: boolean Source: media/MediaContent.js, line 260 catchMouseEvents :boolean true when the video window must catch mouse clicks. Type: boolean Source: media/MediaContent.js, line 250 externalParams :string Optional parameters passed to external calls Type: string Source: media/MediaContent.js, line 200 free :boolean When true, the video plays out of the cell, centered on the activity window. Type: boolean Source: media/MediaContent.js, line 234 from :number Special setting used to play only a fragment of media. -1 means not used (plays fulllength, from the beginning) Type: number Source: media/MediaContent.js, line 205 length :number When mediaType is RECORD_AUDIO, this member stores the maximum length of the recordedsound, in seconds. Type: number Source: media/MediaContent.js, line 217 level :number The priority level is important when different medias want to play together. Objects withhighest priority level can mute lower ones. Type: number Source: media/MediaContent.js, line 189 loop :boolean Whether to repeat the media in loop, or just one time. Type: boolean Source: media/MediaContent.js, line 255 mediaFileName :String Media file name Type: String Source: media/MediaContent.js, line 195 mediaType :string The type of media. Valid values are: UNKNOWN, PLAY_AUDIO, PLAY_VIDEO,PLAY_MIDI, PLAY_CDAUDIO, RECORD_AUDIO, PLAY_RECORDED_AUDIO, RUN_CLIC_ACTIVITY,RUN_CLIC_PACKAGE, RUN_EXTERNAL, URL, EXIT and RETURN Type: string Source: media/MediaContent.js, line 182 recBuffer :number When mediaType is RECORD_AUDIO, this member stores the buffer ID where the recordingwill be stored. Type: number Source: media/MediaContent.js, line 223 stretch :boolean Whether to stretch or not the video size to fit the cell space. Type: boolean Source: media/MediaContent.js, line 229 to :number Special setting used to play only a fragment of media. -1 means not used (plays to the endof the media) Type: number Source: media/MediaContent.js, line 211 Methods getDescription() Gets a string representing this media content, useful for checking if two different elementsare equivalent. Source: media/MediaContent.js, line 133 Returns: Type string getIcon() Returns an image to be used as icon for representing this media content. Source: media/MediaContent.js, line 154 Returns: Type external:HTMLImageElement isEquivalent(mc) Compares this object with another MediaContent. Parameters: Name Type Description mc MediaContent The Media Content to compare against to. Source: media/MediaContent.js, line 118 Returns: true when both objects are equivalent. Type boolean setProperties($xml) Loads the MediaContent settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery Source: media/MediaContent.js, line 64 toString() Returns a simplified description of this media content. Useful for accessibility methods. Source: media/MediaContent.js, line 146 Returns: Type string × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MemoryGame.html":{"id":"MemoryGame.html","title":"Class: MemoryGame","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MemoryGame MemoryGame This class of Activity shows a panel with duplicate ActiveBox objects initiallyhidden and scrambled. To complete the activity, all object pairs must be found. Only two objectsare revealed in every move, so the user must remember the content of each cell. The cell pairs can have identical content, defined in the primary ActiveBagContent ofthe activity, or two different contents. In this case, the secondary bag elements will havecontent related to each primary element. new MemoryGame(project) MemoryGame constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/memory/MemoryGame.js, line 55 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: MemoryGamePanel Type: class Source: activities/memory/MemoryGame.js, line 427 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Overrides: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MemoryGamePanel.html":{"id":"MemoryGamePanel.html","title":"Class: MemoryGamePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MemoryGamePanel MemoryGamePanel The ActivityPanel where MemoryGame activities are played. new MemoryGamePanel(act, ps [, $div]) MemoryGamePanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/memory/MemoryGame.js, line 97 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The BoxConnector used to reveal pairs of cells Type: BoxConnector Overrides: ActivityPanel#bc Source: activities/memory/MemoryGame.js, line 411 bg :ActiveBoxBag The ActiveBoxBag containing the information to be displayed. Type: ActiveBoxBag Source: activities/memory/MemoryGame.js, line 406 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Menu.html":{"id":"Menu.html","title":"Class: Menu","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Menu Menu This class of Activity is only used in legacy JClic project libraries. It containsone or more buttons pointing to specific JClic projects or to other Menu activity panels. new Menu(project) Menu constructor Parameters: Name Type Description project JClicProject The JClicProject to which this activity belongs Source: activities/panels/Menu.js, line 47 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: MenuPanel Type: class Source: activities/panels/Menu.js, line 229 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Overrides: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Overrides: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Overrides: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MenuPanel.html":{"id":"MenuPanel.html","title":"Class: MenuPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MenuPanel MenuPanel The ActivityPanel where Menu will show its content. new MenuPanel(act, ps) MenuPanel constructor Parameters: Name Type Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. Source: activities/panels/Menu.js, line 70 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"MiniSkin.html":{"id":"MiniSkin.html","title":"Class: MiniSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: MiniSkin MiniSkin This is a variant of the default Skin used by JClic.jsIt differs from DefaultSkin in colors and sizes new MiniSkin(ps [, name] [, options]) MiniSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects meeded tot build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options Source: skins/MiniSkin.js, line 46 Extends DefaultSkin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $ctrlCnt :external:jQuery The HTML div where buttons, counters and message box are placed Type: external:jQuery Inherited From: DefaultSkin#$ctrlCnt Source: skins/DefaultSkin.js, line 237 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $msgBoxDiv :external:jQuery The div DOM object where msgBox is located Type: external:jQuery Inherited From: DefaultSkin#$msgBoxDiv Source: skins/Skin.js, line 819 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 actionsIcon :string Actions icon Type: string Inherited From: DefaultSkin#actionsIcon Source: skins/DefaultSkin.js, line 404 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 closeIcon :string Close button Type: string Inherited From: DefaultSkin#closeIcon Source: skins/DefaultSkin.js, line 350 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counterIconFill :string Counter icon fill color Type: string Inherited From: DefaultSkin#counterIconFill Overrides: DefaultSkin#counterIconFill Source: skins/DefaultSkin.js, line 383 counterIconHeight :number Counter icon height Type: number Inherited From: DefaultSkin#counterIconHeight Source: skins/DefaultSkin.js, line 378 counterIconWidth :number Counter icon width Type: number Inherited From: DefaultSkin#counterIconWidth Source: skins/DefaultSkin.js, line 373 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 countersHeight :number Height of counters, in pixels Type: number Inherited From: DefaultSkin#countersHeight Source: skins/DefaultSkin.js, line 257 countersWidth :number Width of counters, in pixels Type: number Inherited From: DefaultSkin#countersWidth Source: skins/DefaultSkin.js, line 252 cssFonts :Array.&lt;string&gt; Fonts used in this skin Type: Array.&lt;string&gt; Inherited From: DefaultSkin#cssFonts Source: skins/DefaultSkin.js, line 296 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 fullScreenExitIcon :string Full screen off icon Type: string Inherited From: DefaultSkin#fullScreenExitIcon Source: skins/DefaultSkin.js, line 343 fullScreenIcon :string Full screen on icon Type: string Inherited From: DefaultSkin#fullScreenIcon Source: skins/DefaultSkin.js, line 336 halfMedia :object Screen sizes (width and height) below which will half sized elements will be used Type: object Inherited From: DefaultSkin#halfMedia Source: skins/Skin.js, line 1048 iconFill :string Fill color for icons Type: string Inherited From: DefaultSkin#iconFill Overrides: DefaultSkin#iconFill Source: skins/DefaultSkin.js, line 313 iconHeight :number Icon height Type: number Inherited From: DefaultSkin#iconHeight Overrides: DefaultSkin#iconHeight Source: skins/DefaultSkin.js, line 308 iconWidth :number Icon width Type: number Inherited From: DefaultSkin#iconWidth Overrides: DefaultSkin#iconWidth Source: skins/DefaultSkin.js, line 303 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 infoIcon :string Info button Type: string Inherited From: DefaultSkin#infoIcon Source: skins/DefaultSkin.js, line 357 mainCSS :string Styles used in this skin Type: string Inherited From: DefaultSkin#mainCSS Source: skins/DefaultSkin.js, line 265 mainCSSHalf :string Styles used in this skin, sized to half its regular size Type: string Inherited From: DefaultSkin#mainCSSHalf Overrides: DefaultSkin#mainCSSHalf Source: skins/DefaultSkin.js, line 276 mainCSSTwoThirds :string Styles used in this skin, sized to two thirds of its regular size Type: string Inherited From: DefaultSkin#mainCSSTwoThirds Overrides: DefaultSkin#mainCSSTwoThirds Source: skins/DefaultSkin.js, line 286 margin :number Space (pixels) between the components of this Skin Type: number Inherited From: DefaultSkin#margin Overrides: DefaultSkin#margin Source: skins/DefaultSkin.js, line 242 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 msgBox :ActiveBox The box used to display the main messages of JClic activities Type: ActiveBox Inherited From: DefaultSkin#msgBox Source: skins/Skin.js, line 814 msgBoxHeight :number Height of DefaultSkin#msgBox Type: number Inherited From: DefaultSkin#msgBoxHeight Source: skins/DefaultSkin.js, line 247 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 nextIcon :string Icon for 'next activity' button Type: string Inherited From: DefaultSkin#nextIcon Source: skins/DefaultSkin.js, line 329 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 prevIcon :string Icon for 'previous activity' button Type: string Inherited From: DefaultSkin#prevIcon Source: skins/DefaultSkin.js, line 322 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 reportsIcon :string Reports button Type: string Inherited From: DefaultSkin#reportsIcon Source: skins/DefaultSkin.js, line 364 scoreIcon :string Score icon Type: string Inherited From: DefaultSkin#scoreIcon Source: skins/DefaultSkin.js, line 397 skinCSS :string Styles used in this skin Type: string Source: skins/MiniSkin.js, line 111 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: DefaultSkin#skinId Source: skins/Skin.js, line 764 timeIcon :string Time icon Type: string Inherited From: DefaultSkin#timeIcon Source: skins/DefaultSkin.js, line 389 twoThirdsMedia :object Screen sizes (width and height) below which will two-thirds sized elements will be used Type: object Inherited From: DefaultSkin#twoThirdsMedia Source: skins/Skin.js, line 1053 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: DefaultSkin#_getStyleSheets Source: skins/MiniSkin.js, line 66 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Inherited From: DefaultSkin#enableMainButtons Source: skins/DefaultSkin.js, line 224 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Inherited From: DefaultSkin#getMsgBox Source: skins/DefaultSkin.js, line 215 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"module-JClic.html":{"id":"module-JClic.html","title":"Module: JClic","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Module: JClic This is the main method of JClic Executes on document.ready(). The method iterates over all div objects with JClic class and creates a JClicPlayerwithin them. Each player loads the JClic project file specified in the data-project attribute ofthe div tag. The div elements must preferabily be empty. Inner content may become overlapped by objectscreated by the JClic player. This method exports the global variable window.JClicObject, useful when other scriptsneed to make direct calls to the main components of JClic. The main members of the global variable JClicObject are: JClicObject.JClicPlayer (the JClicPlayer object) JClicObject.JClicProject (the JClicProject object) JClicObject.AWT (the AWT object) JClicObject.Utils (the Utils object) JClicObject.$ (the JQuery object) JClicObject.options (the main options loaded at startup, usually the content of the global variable JClicDataOptions) JClicObject.projectFiles (used by JSONP to store the content of some files when inaccessible to the browser because CORS or other restrictions) JClicObject.currentPlayers (array with references to the players currently running) JClicObject.loadProject (a function that starts a JClicPlayer on a specific div) Source: JClic.js, line 146 Examples Creates a JClic div and loads &quot;myproject.jclic&quot; on it: &lt;div class =&quot;JClic&quot; data-project=&quot;myproject.jclic&quot;&gt;&lt;/div&gt; Creates a JClic div that loads &quot;myproject.jclic&quot; with additional parameters, passed as a JSON string.Note that data-options should be delimited by apostrophes ' because quotation marks &quot; are usedfor JSON keys and values: &lt;div class =&quot;JClic&quot; data-project=&quot;myproject.jclic&quot; data-options='{&quot;fade&quot;:&quot;400&quot;,&quot;lang&quot;:&quot;es&quot;,&quot;reporter&quot;:&quot;TCPReporter&quot;,&quot;user&quot;:&quot;test01&quot;,&quot;path&quot;:&quot;localhost:9090&quot;}'&gt;&lt;/div&gt; Methods &lt;inner&gt; loadProject(div, projectName [, options]) Creates a new JClicPlayer hosted on the specified div, and loads an specific project on it. Parameters: Name Type Argument Description div HTMLElement The HTML element (usually a &lt;div/&gt;) that will be used as a main container of the player. projectName string The file name or URL of the JClic project to be loaded options object &lt;optional&gt; An optional set of preferences Source: JClic.js, line 200 Returns: Type JClicPlayer × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"OrangeSkin.html":{"id":"OrangeSkin.html","title":"Class: OrangeSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: OrangeSkin OrangeSkin This is a variant of the default Skin used by JClic.jsIt differs from DefaultSkin only in some colors new OrangeSkin(ps [, name] [, options]) OrangeSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects meeded tot build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options Source: skins/OrangeSkin.js, line 46 Extends DefaultSkin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $ctrlCnt :external:jQuery The HTML div where buttons, counters and message box are placed Type: external:jQuery Inherited From: DefaultSkin#$ctrlCnt Source: skins/DefaultSkin.js, line 237 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $msgBoxDiv :external:jQuery The div DOM object where msgBox is located Type: external:jQuery Inherited From: DefaultSkin#$msgBoxDiv Source: skins/Skin.js, line 819 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 actionsIcon :string Actions icon Type: string Inherited From: DefaultSkin#actionsIcon Source: skins/DefaultSkin.js, line 404 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 closeIcon :string Close button Type: string Inherited From: DefaultSkin#closeIcon Source: skins/DefaultSkin.js, line 350 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counterIconFill :string Counter icon fill color Type: string Inherited From: DefaultSkin#counterIconFill Source: skins/DefaultSkin.js, line 383 counterIconHeight :number Counter icon height Type: number Inherited From: DefaultSkin#counterIconHeight Source: skins/DefaultSkin.js, line 378 counterIconWidth :number Counter icon width Type: number Inherited From: DefaultSkin#counterIconWidth Source: skins/DefaultSkin.js, line 373 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 countersHeight :number Height of counters, in pixels Type: number Inherited From: DefaultSkin#countersHeight Source: skins/DefaultSkin.js, line 257 countersWidth :number Width of counters, in pixels Type: number Inherited From: DefaultSkin#countersWidth Source: skins/DefaultSkin.js, line 252 cssFonts :Array.&lt;string&gt; Fonts used in this skin Type: Array.&lt;string&gt; Inherited From: DefaultSkin#cssFonts Source: skins/DefaultSkin.js, line 296 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 fullScreenExitIcon :string Full screen off icon Type: string Inherited From: DefaultSkin#fullScreenExitIcon Source: skins/DefaultSkin.js, line 343 fullScreenIcon :string Full screen on icon Type: string Inherited From: DefaultSkin#fullScreenIcon Source: skins/DefaultSkin.js, line 336 halfMedia :object Screen sizes (width and height) below which will half sized elements will be used Type: object Inherited From: DefaultSkin#halfMedia Source: skins/Skin.js, line 1048 iconFill :string Fill color for icons Type: string Inherited From: DefaultSkin#iconFill Source: skins/DefaultSkin.js, line 313 iconHeight :number Icon height Type: number Inherited From: DefaultSkin#iconHeight Source: skins/DefaultSkin.js, line 308 iconWidth :number Icon width Type: number Inherited From: DefaultSkin#iconWidth Source: skins/DefaultSkin.js, line 303 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 infoIcon :string Info button Type: string Inherited From: DefaultSkin#infoIcon Source: skins/DefaultSkin.js, line 357 mainCSS :string Styles used in this skin Type: string Inherited From: DefaultSkin#mainCSS Source: skins/DefaultSkin.js, line 265 mainCSSHalf :string Styles used in this skin, sized to half its regular size Type: string Inherited From: DefaultSkin#mainCSSHalf Source: skins/DefaultSkin.js, line 276 mainCSSTwoThirds :string Styles used in this skin, sized to two thirds of its regular size Type: string Inherited From: DefaultSkin#mainCSSTwoThirds Source: skins/DefaultSkin.js, line 286 margin :number Space (pixels) between the components of this Skin Type: number Inherited From: DefaultSkin#margin Source: skins/DefaultSkin.js, line 242 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 msgBox :ActiveBox The box used to display the main messages of JClic activities Type: ActiveBox Inherited From: DefaultSkin#msgBox Source: skins/Skin.js, line 814 msgBoxHeight :number Height of DefaultSkin#msgBox Type: number Inherited From: DefaultSkin#msgBoxHeight Source: skins/DefaultSkin.js, line 247 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 nextIcon :string Icon for 'next activity' button Type: string Inherited From: DefaultSkin#nextIcon Source: skins/DefaultSkin.js, line 329 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 prevIcon :string Icon for 'previous activity' button Type: string Inherited From: DefaultSkin#prevIcon Source: skins/DefaultSkin.js, line 322 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 reportsIcon :string Reports button Type: string Inherited From: DefaultSkin#reportsIcon Source: skins/DefaultSkin.js, line 364 scoreIcon :string Score icon Type: string Inherited From: DefaultSkin#scoreIcon Source: skins/DefaultSkin.js, line 397 skinCSS :string Styles used in this skin Type: string Source: skins/OrangeSkin.js, line 77 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: DefaultSkin#skinId Source: skins/Skin.js, line 764 timeIcon :string Time icon Type: string Inherited From: DefaultSkin#timeIcon Source: skins/DefaultSkin.js, line 389 twoThirdsMedia :object Screen sizes (width and height) below which will two-thirds sized elements will be used Type: object Inherited From: DefaultSkin#twoThirdsMedia Source: skins/Skin.js, line 1053 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: DefaultSkin#_getStyleSheets Source: skins/OrangeSkin.js, line 65 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Inherited From: DefaultSkin#enableMainButtons Source: skins/DefaultSkin.js, line 224 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Inherited From: DefaultSkin#getMsgBox Source: skins/DefaultSkin.js, line 215 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"OrderText.html":{"id":"OrderText.html","title":"Class: OrderText","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: OrderText OrderText In this type of text activity users must put in order some words or paragraphs that have beeninitially scrambled. new OrderText(project) OrderText constructor Parameters: Name Type Description project JClicProject The project to which this activity belongs Source: activities/text/OrderText.js, line 48 Extends TextActivityBase Members &lt;static&gt; Panel :class Panel class associated to this type of activity: OrderTextPanel Type: class Source: activities/text/OrderText.js, line 425 amongParagraphs :boolean Whether to allow or not to scramble words among different paragraphs. Type: boolean Source: activities/text/OrderText.js, line 86 bc :BoxConnector The box connector Type: BoxConnector Source: activities/text/OrderText.js, line 91 checkButtonText :string This is the label used by text activities for the check button, when present. Type: string Inherited From: TextActivityBase#checkButtonText Source: activities/text/TextActivityBase.js, line 73 ev :Evaluator This is the object used to evaluate user's answers in text activities. Type: Evaluator Inherited From: TextActivityBase#ev Source: activities/text/TextActivityBase.js, line 68 prevScreen :boolean When true, a text will be shown before the beginning of the activity. Type: boolean Inherited From: TextActivityBase#prevScreen Source: activities/text/TextActivityBase.js, line 78 prevScreenMaxTime :number Maximum amount of time for showing the previous document. Type: number Inherited From: TextActivityBase#prevScreenMaxTime Source: activities/text/TextActivityBase.js, line 94 prevScreenStyle :BoxBase The style of the optional text to be shown before the beginning of the activity. Type: BoxBase Inherited From: TextActivityBase#prevScreenStyle Source: activities/text/TextActivityBase.js, line 89 prevScreenText :string Optional text to be shown before the beginning of the activity. When null, this text isthe main document. Type: string Inherited From: TextActivityBase#prevScreenText Source: activities/text/TextActivityBase.js, line 83 Methods getMinNumActions() Retrieves the minimum number of actions needed to solve this activity Inherited From: TextActivityBase#getMinNumActions Source: activities/text/TextActivityBase.js, line 62 Returns: Type number hasRandom() Whether or not the activity uses random to scramble internal components Source: activities/text/OrderText.js, line 62 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request help. Source: activities/text/OrderText.js, line 80 Returns: Type boolean shuffleAlways() When true, the activity must always be scrambled Source: activities/text/OrderText.js, line 71 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"OrderTextPanel.html":{"id":"OrderTextPanel.html","title":"Class: OrderTextPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: OrderTextPanel OrderTextPanel The TextActivityBasePanel where OrderText activities are played. new OrderTextPanel(act, ps [, $div]) OrderTextPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/text/OrderText.js, line 103 Extends TextActivityBasePanel Members $checkButton :external:jQuery The button used to check the activity, only when Activity.checkButtonText is not null Type: external:jQuery Inherited From: TextActivityBasePanel#$checkButton Source: activities/text/TextActivityBase.js, line 486 $currentPopup :external:jQuery The popup currently been displayed Type: external:jQuery Inherited From: TextActivityBasePanel#$currentPopup Source: activities/text/TextActivityBase.js, line 496 bc :BoxConnector The box connector Type: BoxConnector Source: activities/text/OrderText.js, line 409 currentPopupTimer :number A timer controlling the time the current popup will be displayed Type: number Inherited From: TextActivityBasePanel#currentPopupTimer Source: activities/text/TextActivityBase.js, line 501 currentTarget :TextActivityDocument.TextTarget Currently selected text target Type: TextActivityDocument.TextTarget Source: activities/text/OrderText.js, line 404 events :Array.&lt;string&gt; List of mouse, touch and keyboard events intercepted by this panel Type: Array.&lt;string&gt; Source: activities/text/OrderText.js, line 414 popupWaitTimer :number A timer prepared to display a popup after a while Type: number Inherited From: TextActivityBasePanel#popupWaitTimer Source: activities/text/TextActivityBase.js, line 506 prevScreenTimer :number System timer used to close the previous document when act.maxTime is reached. Type: number Inherited From: TextActivityBasePanel#prevScreenTimer Source: activities/text/TextActivityBase.js, line 491 targets :Array.&lt;external:jQuery&gt; Array of jQuery DOM elements (usually of type 'span') containing the targets of this activity Type: Array.&lt;external:jQuery&gt; Inherited From: TextActivityBasePanel#targets Source: activities/text/TextActivityBase.js, line 475 targetsMarked :boolean Flag indicating if targets must be visually marked at the beginning of the activity.Should be true except for IdentifyText activities. Type: boolean Inherited From: TextActivityBasePanel#targetsMarked Source: activities/text/TextActivityBase.js, line 480 Methods $createTargetElement(target, $span) Creates a target DOM element.This method can be overridden in subclasses to create specific types of targets. Parameters: Name Type Description target TextActivityDocument.TextTarget The target related to the DOM object to be created $span external:jQuery An initial DOM object (usually a span) that can be usedto store the target, or replaced by another type of object. Inherited From: TextActivityBasePanel#$createTargetElement Overrides: TextActivityBasePanel#$createTargetElement Source: activities/text/TextActivityBase.js, line 313 Returns: The jQuery DOM element loaded with the target data. Type external:jQuery buildVisualComponents() Prepares the text panel Source: activities/text/OrderText.js, line 120 countSolvedTargets() Counts the number of targets that are at right position Source: activities/text/OrderText.js, line 291 Returns: Type number evaluatePanel() Called when the user clicks on the check button Inherited From: TextActivityBasePanel#evaluatePanel Overrides: TextActivityBasePanel#evaluatePanel Source: activities/text/TextActivityBase.js, line 394 Returns: true when the panel is OK, false otherwise. Type boolean finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: TextActivityBasePanel#finishActivity Overrides: TextActivityBasePanel#finishActivity Source: activities/text/TextActivityBase.js, line 404 initActivity() Basic initialization procedure, common to all activities. Inherited From: TextActivityBasePanel#initActivity Overrides: TextActivityBasePanel#initActivity Source: activities/text/TextActivityBase.js, line 323 preInitActivity() Called when the text activity has a 'previous screen' information to be shown before theactivity starts Inherited From: TextActivityBasePanel#preInitActivity Source: activities/text/TextActivityBase.js, line 345 processEvent(_event) Main handler used to process mouse, touch, keyboard and edit events Parameters: Name Type Description _event HTMLEvent The HTML event to be processed Inherited From: TextActivityBasePanel#processEvent Overrides: TextActivityBasePanel#processEvent Source: activities/text/TextActivityBase.js, line 422 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Source: activities/text/OrderText.js, line 130 setCurrentTarget(target) Sets the current target Parameters: Name Type Description target TextActivityDocument.TextTarget The currently selected target. Can be null. Source: activities/text/OrderText.js, line 274 setDocContent($div, doc) Fills a jQuery DOM element (usually a 'div') with the specified TextActivityDocument. Parameters: Name Type Description $div external:jQuery The jQuery DOM object to be filled with the document. doc TextActivityDocument The document Inherited From: TextActivityBasePanel#setDocContent Source: activities/text/TextActivityBase.js, line 125 showPopup($popup, maxTime, waitTime) Parameters: Name Type Description $popup external:jQuery The popup to display, or _null _ to just hide the current popup maxTime number The maximum time to mantain the popup on screen, in seconds waitTime number When set, indicates the number of seconds to wait before show the popup Inherited From: TextActivityBasePanel#showPopup Source: activities/text/TextActivityBase.js, line 431 shuffleTargets(targets, steps) Randomly shuffles a set of targets Parameters: Name Type Description targets Array.&lt;TextActivityDocument.TextTarget&gt; The set of targets to shuffle (can be alldocument targets or just the targets belonging to the same paragraph, depending on the value ofamongParagraphs in Activity. steps number The number of times to shuffle the elements Source: activities/text/OrderText.js, line 252 startActivity() Called when the activity starts playing Inherited From: TextActivityBasePanel#startActivity Overrides: TextActivityBasePanel#startActivity Source: activities/text/TextActivityBase.js, line 334 swapTargets(t1, t2) Swaps the position of two targets in the document Parameters: Name Type Description t1 TextActivityDocument.TextTarget One target t2 TextActivityDocument.TextTarget Another target Source: activities/text/OrderText.js, line 178 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Path.html":{"id":"Path.html","title":"Class: Path","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Path Path A Path is a Shape formed by a serie of strokes, represented byPathStroke objects new Path(strokes) Path constructor Parameters: Name Type Description strokes Array.&lt;PathStroke&gt; The array of PathStroke objects defining this Path. Source: AWT.js, line 1185 Extends Shape Members enclosing :Rectangle The Rectangle enclosing this Path (when drawing, this Rectangle don't include border width!) Type: Rectangle Source: AWT.js, line 1350 enclosingPoints :Array.&lt;Point&gt; Set of vertexs of a polygon close to the real path of this shape Type: Array.&lt;Point&gt; Source: AWT.js, line 1355 pos :Point The current position of the shape Type: Point Inherited From: Shape#pos Overrides: Shape#pos Source: AWT.js, line 865 strokes :Array.&lt;PathStroke&gt; The strokes forming this Path. Type: Array.&lt;PathStroke&gt; Source: AWT.js, line 1345 Methods addStroke(stroke) Adds a PathStroke to strokes Parameters: Name Type Description stroke PathStroke Source: AWT.js, line 1215 calcEnclosingRect() Calculates the polygon and the rectangle that (approximately) encloses this shape Source: AWT.js, line 1224 Returns: Type Rectangle clip(ctx [, fillRule]) Creates a clipping region on the specified HTML canvas 2D rendering context Parameters: Name Type Argument Default Description ctx external:CanvasRenderingContext2D The rendering context fillRule string &lt;optional&gt; 'nonzero' Can be 'nonzero' (default when not set) or 'evenodd' Inherited From: Shape#clip Source: AWT.js, line 841 Returns: The provided rendering context Type external:CanvasRenderingContext2D contains(_p) Checks if the provided Point is inside this shape. Parameters: Name Type Description _p Point The point to check Inherited From: Shape#contains Overrides: Shape#contains Source: AWT.js, line 776 Returns: Type boolean equals(p) Checks if two shapes are equivalent. Parameters: Name Type Description p Shape The Shape to compare against Inherited From: Shape#equals Overrides: Shape#equals Source: AWT.js, line 746 Returns: Type boolean fill(ctx [, dirtyRegion]) Fills the Shape with the current style in the provided HTML canvas context Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to fill this shape. dirtyRegion Rectangle &lt;optional&gt; The context region to be updated. Used as clippingregion when drawing. Inherited From: Shape#fill Source: AWT.js, line 798 Returns: The provided rendering context Type external:CanvasRenderingContext2D getBounds() Gets the enclosing Rectangle of this Shape. Inherited From: Shape#getBounds Overrides: Shape#getBounds Source: AWT.js, line 737 Returns: Type Rectangle getShape(rect) Gets a clone of this shape moved to the pos component of the rectangle and scaledby its dim value. Parameters: Name Type Description rect Rectangle The rectangle to be taken as a base for moving and scalingthis shape. Inherited From: Shape#getShape Source: AWT.js, line 767 Returns: Type Shape intersects(_r) Checks if the provided Rectangle r intersects with this shape. Parameters: Name Type Description _r Rectangle Inherited From: Shape#intersects Overrides: Shape#intersects Source: AWT.js, line 786 Returns: Type boolean isRect() Shorthand method for determining if a Shape is an Rectangle Inherited From: Shape#isRect Source: AWT.js, line 851 Returns: Type Boolean moveBy(delta) Shifts the shape a specified amount in horizontal and vertical directions Parameters: Name Type Description delta Point | Dimension The amount to shift the Shape Inherited From: Shape#moveBy Overrides: Shape#moveBy Source: AWT.js, line 718 Returns: Type Shape moveTo(newPos) Moves this shape to a new position Parameters: Name Type Description newPos Point The new position of the shape Inherited From: Shape#moveTo Overrides: Shape#moveTo Source: AWT.js, line 728 Returns: Type Shape preparePath(ctx) Prepares an HTML canvas 2D rendering context with a path that can be used to stroke a line,to fill a surface or to define a clipping region. Parameters: Name Type Description ctx external:CanvasRenderingContext2D Inherited From: Shape#preparePath Overrides: Shape#preparePath Source: AWT.js, line 830 Returns: The provided rendering context Type external:CanvasRenderingContext2D scaleBy(_delta) Multiplies the dimension of the Shape by the specified delta amount. Parameters: Name Type Description _delta Point | Dimension Object containing the X and Y ratio to be scaled. Inherited From: Shape#scaleBy Overrides: Shape#scaleBy Source: AWT.js, line 755 Returns: Type Shape stroke(ctx) Draws this shape in the provided HTML canvas 2D rendering context. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to draw the shape. Inherited From: Shape#stroke Source: AWT.js, line 818 Returns: The provided rendering context Type external:CanvasRenderingContext2D toString() Overwrites the original 'Object.toString' method with a more descriptive text Inherited From: Shape#toString Source: AWT.js, line 859 Returns: Type String × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"PathStroke.html":{"id":"PathStroke.html","title":"Class: PathStroke","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: PathStroke PathStroke PathStroke is the basic component of Path objects new PathStroke(type, points) PathStroke constructor Parameters: Name Type Description type string The type of stroke. Possible values are: M (move to), L (line to),Q (quadratic to), B (bezier to) and X (close path). points Array.&lt;Point&gt; The array of Point objects used in this Stroke. Source: AWT.js, line 1366 Members points :Array.&lt;Point&gt; The array of points used by this stroke. Can be null. Type: Array.&lt;Point&gt; Source: AWT.js, line 1539 type :string The Stroke type. Possible values are: M (move to), L (line to), Q (quadratic to),B (bezier to) and X (close path). Type: string Source: AWT.js, line 1533 Methods &lt;static&gt; getCubicPoints(p0, p1, p2, p3 [, numPoints]) Calculates some of the points included in a cubic Bézier (curve with two control points)The number of points being calculated is defined in Utils.settings.BEZIER_POINTS Parameters: Name Type Argument Description p0 Point Starting point of the cubic Bézier curve p1 Point First control point p2 Point Second control point p3 Point Ending point numPoints number &lt;optional&gt; The number of intermediate points to calculate. When not defined,the value will be obtained from Utils.settings.BEZIER_POINTS. Source: AWT.js, line 1432 Returns: Array with some intermediate points from the resulting Bézier curve Type Array.&lt;Point&gt; &lt;static&gt; getQuadraticPoints(p0, p1, p2 [, numPoints]) Calculates some of the points included in a quadratic Bézier curveThe number of points being calculated is defined in Utils.settings.BEZIER_POINTS Parameters: Name Type Argument Description p0 Point Starting point of the quadratic Bézier curve p1 Point Control point p2 Point Ending point numPoints number &lt;optional&gt; The number of intermediate points to calculate. When not defined,the value will be obtained from Utils.settings.BEZIER_POINTS. Source: AWT.js, line 1403 See: https://en.wikipedia.org/wiki/B%C3%A9zier_curve https://www.jasondavies.com/animated-bezier/ Returns: Array with some intermediate points from the resulting Bézier curve Type Array.&lt;Point&gt; clone() Clones this PathStroke Source: AWT.js, line 1449 Returns: Type PathStroke getEnclosingPoints(from) Gets the set of points that will be included as a vertexs on the owner's shapeenclosing polygon. Parameters: Name Type Description from Point The starting point for this stroke Source: AWT.js, line 1512 Returns: Type Array.&lt;Point&gt; moveBy(delta) Increments or decrements by delta the x and y coordinates of all points Parameters: Name Type Description delta Point | Dimension The amount to add to the x and ycoordinates of each point. Source: AWT.js, line 1459 multBy(delta) Multiplies each point coordinates by the x and y (or w and h) values of thepassed Point or Dimension. Parameters: Name Type Description delta Point | Dimension Source: AWT.js, line 1470 stroke(ctx) Draws this PathStroke in the provided HTML canvas context Parameters: Name Type Description ctx external:CanvasRenderingContext2D The HTML canvas 2D rendering context Source: AWT.js, line 1480 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"PlayerHistory.html":{"id":"PlayerHistory.html","title":"Class: PlayerHistory","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: PlayerHistory PlayerHistory PlayerHistory uses an array to store the list of projects and activities done by the user.This class allows JClicPlayer objects to rewind a sequence or to go back to a caller menu. new PlayerHistory(player) PlayerHistory constructor Parameters: Name Type Description player JClicPlayer The JClicPlayer associated to this history Source: PlayerHistory.js, line 43 Classes HistoryElement Members player :JClicPlayer The JClicPlayer object to which this PlayerHistory belongs Type: JClicPlayer Source: PlayerHistory.js, line 204 sequenceStack :Array.&lt;PlayerHistory#HistoryElement&gt; This is the main member of the class. PlayerHistory puts and retrieveson it information about the proects and activities done by the current user. Type: Array.&lt;PlayerHistory#HistoryElement&gt; Source: PlayerHistory.js, line 209 testMode :boolean When in test mode, jumps are only simulated. Type: boolean Source: PlayerHistory.js, line 215 Methods clearHistory() Removes all elements from sequenceStack Source: PlayerHistory.js, line 67 jumpToSequence(sequence, path, allowReturn) Performs a jump to the specified sequence Parameters: Name Type Argument Description sequence string The ActivitySequence tag to jump to. path string &lt;nullable&gt; When not null, indicates a new project file that must be loaded.Otherwise, the sequence parameter refers to a tag on the ActivitySequence of thecurrent project. allowReturn boolean When this parameter is true, the jump will be recorded, thusallowing to return to the current activity. Source: PlayerHistory.js, line 176 pop() Retrieves the HistoryElement placed at the top of thestack (if any) and instructs JClicPlayer to load it. The obtained effect is to&quot;rewind&quot; or &quot;go back&quot;, usually to an activity that acts as a menu. Source: PlayerHistory.js, line 101 Returns: Type boolean processJump(ji, allowReturn) Processes the provided JumpInfo object, instructing JClicPlayer to go back,stop or jump to another point in the sequence. Parameters: Name Type Description ji JumpInfo The object to be processed allowReturn boolean When this parameter is true, the jump instructed by ji (if any)will be recorded, thus allowing to return to the current activity. Source: PlayerHistory.js, line 126 Returns: true if the jump can be processed without errors, false otherwise. Type boolean push() Adds the current project and activity to the top of the history stack. Source: PlayerHistory.js, line 74 storedElementsCount() Counts the number of HistoryElement objects stored insequenceStack Source: PlayerHistory.js, line 59 Returns: Type number × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"PlayerHistory_HistoryElement.html":{"id":"PlayerHistory_HistoryElement.html","title":"Class: HistoryElement","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: HistoryElement PlayerHistory# HistoryElement new HistoryElement() Inner class used to store history elements. Source: PlayerHistory.js, line 220 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Point.html":{"id":"Point.html","title":"Class: Point","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Point Point Contains the x andy y coordinates of a point, and provides some useful methods. new Point(x [, y]) Point constructor Parameters: Name Type Argument Description x number | Point When x is an Point object, a clone of it will be created. y number &lt;optional&gt; Not used when x is an Point Source: AWT.js, line 504 Members x :number Type: number Source: AWT.js, line 599 y :number Type: number Source: AWT.js, line 603 Methods clone() Clones this point Source: AWT.js, line 593 Returns: Type Point distanceTo(point) Calculates the distance between two points Parameters: Name Type Description point Point The Point to calculate the distance against to Source: AWT.js, line 585 Returns: The distance between the two points. Type number equals(p) Checks if two points are at the same place Parameters: Name Type Description p Point The Point to check against to Source: AWT.js, line 576 Returns: Type boolean moveBy(delta) Moves this Point to a new position, by a specified displacement Parameters: Name Type Description delta Point | Dimension The amount to move Source: AWT.js, line 537 Returns: Type Point moveTo(newPos [, y]) Moves this Point to a new position Parameters: Name Type Argument Description newPos number | Point The new position, or a x coordinate y number &lt;optional&gt; null or undefined when newPos is a Point Source: AWT.js, line 549 Returns: Type Point multBy(delta) Multiplies the x and y coordinates by a specified delta Parameters: Name Type Description delta Point | Dimension The amount to multiply by. Source: AWT.js, line 565 Returns: Type Point setProperties($xml) Reads the properties of this Point from an XML element Parameters: Name Type Description $xml external:jQuery The xml element to be parsed Source: AWT.js, line 526 Returns: Type Point × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ProjectSettings.html":{"id":"ProjectSettings.html","title":"Class: ProjectSettings","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ProjectSettings ProjectSettings This class contains miscellaneous settings of JClic projects. In addition to the members of this class, there can be other properties in JClic project filesthat are not currently loaded: iconFileName descriptors area level locale authors organizations revisions new ProjectSettings(project) ProjectSettings constructor Parameters: Name Type Description project JClicProject The project to which this settings belongs Source: project/ProjectSettings.js, line 55 Members description :string Project's description. Can have multiple paragraphs, separated by &lt;p&gt; Type: string Source: project/ProjectSettings.js, line 125 eventSounds :EventSounds The main EventSounds object of the project Type: EventSounds Source: project/ProjectSettings.js, line 146 languages :Array.&lt;string&gt; JClic projects can use more than one language, so use a string array Type: Array.&lt;string&gt; Source: project/ProjectSettings.js, line 130 locales :Array.&lt;string&gt; Array of canonical locales, as defined inIntl Type: Array.&lt;string&gt; Source: project/ProjectSettings.js, line 135 project :JClicProject The JClicProject to which this ProjectSettings belongs Type: JClicProject Source: project/ProjectSettings.js, line 115 skinFileName :string The name of an optional 'skin' (visual aspect) can be set for the whole project, or for each Activity Type: string Source: project/ProjectSettings.js, line 141 title :string The project title Type: string Source: project/ProjectSettings.js, line 120 Methods setProperties($xml) Reads the ProjectSettings values from a JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: project/ProjectSettings.js, line 70 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Rectangle.html":{"id":"Rectangle.html","title":"Class: Rectangle","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Rectangle Rectangle The rectangular Shape accepts five different sets of parameters: new Rectangle(pos, dim [, w] [, h]) Rectangle constructor Parameters: Name Type Argument Description pos Point | Rectangle | number | Array.&lt;number&gt; dim Dimension | number w number &lt;optional&gt; h number &lt;optional&gt; Source: AWT.js, line 889 Example &lt;p&gt;// Calling Rectangle() with different sets of parameters&lt;br&gt;// A Point and a Dimension:&lt;br&gt;new Rectangle(pos, dim)&lt;br&gt;// Another Rectangle, to be cloned:&lt;br&gt;new Rectangle(rect)&lt;br&gt;// Two Point objects containing the coordinates of upper-left and lower-right vertexs:&lt;br&gt;new Rectangle(p0, p1)&lt;br&gt;// An array of four numbers with the coordinates of the same vertexs:&lt;br&gt;new Rectangle([x0, y0, x1, y1])&lt;br&gt;// Four single numbers, meaning the same coordinates as above:&lt;br&gt;new Rectangle(x0, y0, x1, y1)&lt;/p&gt; Extends Shape Members dim :Dimension The Dimension of the Rectangle Type: Dimension Source: AWT.js, line 1077 pos :Point The current position of the shape Type: Point Inherited From: Shape#pos Source: AWT.js, line 865 Methods add(shape) Adds the boundaries of another shape to the current one Parameters: Name Type Description shape Shape The Shape to be added Source: AWT.js, line 1004 Returns: Type Rectangle clip(ctx [, fillRule]) Creates a clipping region on the specified HTML canvas 2D rendering context Parameters: Name Type Argument Default Description ctx external:CanvasRenderingContext2D The rendering context fillRule string &lt;optional&gt; 'nonzero' Can be 'nonzero' (default when not set) or 'evenodd' Inherited From: Shape#clip Source: AWT.js, line 841 Returns: The provided rendering context Type external:CanvasRenderingContext2D clone() Clones this Rectangle Source: AWT.js, line 962 Returns: Type Rectangle contains(_p) Checks if the provided Point is inside this shape. Parameters: Name Type Description _p Point The point to check Inherited From: Shape#contains Overrides: Shape#contains Source: AWT.js, line 776 Returns: Type boolean equals(r) Checks if two shapes are equivalent. Parameters: Name Type Description r Shape The Shape to compare against Overrides: Shape#equals Source: AWT.js, line 954 Returns: Type boolean fill(ctx [, dirtyRegion]) Fills the Shape with the current style in the provided HTML canvas context Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to fill this shape. dirtyRegion Rectangle &lt;optional&gt; The context region to be updated. Used as clippingregion when drawing. Inherited From: Shape#fill Source: AWT.js, line 798 Returns: The provided rendering context Type external:CanvasRenderingContext2D getBounds() Gets the enclosing Rectangle of this Shape. Overrides: Shape#getBounds Source: AWT.js, line 930 Returns: Type Rectangle getCoords() Gets a string with the co-ordinates of the upper-left and lower-right vertexs of this rectangle,(with values rounded to int) Source: AWT.js, line 1071 Returns: Type String getOppositeVertex() Gets the Point corresponding to the lower-right vertex of the Rectangle. Source: AWT.js, line 995 Returns: Type Point getShape(rect) Gets a clone of this shape moved to the pos component of the rectangle and scaledby its dim value. Parameters: Name Type Description rect Rectangle The rectangle to be taken as a base for moving and scalingthis shape. Inherited From: Shape#getShape Source: AWT.js, line 767 Returns: Type Shape grow(dx, dy) Expands the boundaries of this shape. This affects the current position and dimension. Parameters: Name Type Description dx number The amount to grow (or decrease) in horizontal direction dy number The amount to grow (or decrease) in vertical direction Source: AWT.js, line 983 Returns: Type Rectangle intersects(_r) Checks if the provided Rectangle r intersects with this shape. Parameters: Name Type Description _r Rectangle Inherited From: Shape#intersects Overrides: Shape#intersects Source: AWT.js, line 786 Returns: Type boolean isRect() Shorthand method for determining if a Shape is an Rectangle Inherited From: Shape#isRect Overrides: Shape#isRect Source: AWT.js, line 851 Returns: Type Boolean moveBy(delta) Shifts the shape a specified amount in horizontal and vertical directions Parameters: Name Type Description delta Point | Dimension The amount to shift the Shape Inherited From: Shape#moveBy Source: AWT.js, line 718 Returns: Type Shape moveTo(newPos) Moves this shape to a new position Parameters: Name Type Description newPos Point The new position of the shape Inherited From: Shape#moveTo Source: AWT.js, line 728 Returns: Type Shape preparePath(ctx) Prepares an HTML canvas 2D rendering context with a path that can be used to stroke a line,to fill a surface or to define a clipping region. Parameters: Name Type Description ctx external:CanvasRenderingContext2D Inherited From: Shape#preparePath Overrides: Shape#preparePath Source: AWT.js, line 830 Returns: The provided rendering context Type external:CanvasRenderingContext2D scaleBy(delta) Multiplies the dimension of the Shape by the specified delta amount. Parameters: Name Type Description delta Point | Dimension Object containing the X and Y ratio to be scaled. Overrides: Shape#scaleBy Source: AWT.js, line 971 Returns: Type Rectangle setBounds(rect) Sets this Rectangle the position and dimension of another one Parameters: Name Type Description rect Rectangle Source: AWT.js, line 939 Returns: Type Rectangle stroke(ctx) Draws this shape in the provided HTML canvas 2D rendering context. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to draw the shape. Inherited From: Shape#stroke Source: AWT.js, line 818 Returns: The provided rendering context Type external:CanvasRenderingContext2D toString() Overwrites the original 'Object.toString' method with a more descriptive text Inherited From: Shape#toString Overrides: Shape#toString Source: AWT.js, line 859 Returns: Type String × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Rectangular.html":{"id":"Rectangular.html","title":"Class: Rectangular","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Rectangular Rectangular This is the simplest Shaper. It divides the graphic object in a set of rectangularshapes distributed in the specified number of rows and columns. new Rectangular(nx, ny) Rectangular constructor Parameters: Name Type Description nx number Number of columns ny number Number of rows Source: shapers/Rectangular.js, line 46 Extends Shaper Members baseWidthFactor :number In JigSaw, ratio between the base width of the tooth and the total length of the side. Type: number Inherited From: Shaper#baseWidthFactor Source: shapers/Shaper.js, line 278 className :string This shaper class name Type: string Inherited From: Shaper#className Source: shapers/Shaper.js, line 246 enclosing :AWT.Shape In Holes, the enclosing area where all shapes are placed. Type: AWT.Shape Inherited From: Shaper#enclosing Source: shapers/Shaper.js, line 307 hasRemainder :boolean Flag indicating if this Shaper deploys over a surface biggest than the rectangle enclosingall its shapes Type: boolean Inherited From: Shaper#hasRemainder Source: shapers/Shaper.js, line 322 initiated :boolean Flag used to check if the Shaper has been initialized against a real surface Type: boolean Inherited From: Shaper#initiated Overrides: Shaper#initiated Source: shapers/Shaper.js, line 271 nCells :number Number of cells managed by this shaper Type: number Inherited From: Shaper#nCells Source: shapers/Shaper.js, line 261 nCols :number Number of columns (useful in grid-based shapers) Type: number Inherited From: Shaper#nCols Source: shapers/Shaper.js, line 251 nRows :number Number of rows (useful in grid-based shapers) Type: number Inherited From: Shaper#nRows Source: shapers/Shaper.js, line 256 randomLines :boolean In JigSaw, whether the tooths take random directions or not Type: boolean Inherited From: Shaper#randomLines Source: shapers/Shaper.js, line 288 rectangularShapes :boolean Flag indicating if this shaper organizes its cells in rows and columns Type: boolean Inherited From: Shaper#rectangularShapes Overrides: Shaper#rectangularShapes Source: shapers/Shaper.js, line 317 scaleX :number In Holes, scale to be applied to horizontal positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleX Source: shapers/Shaper.js, line 295 scaleY :number In Holes, scale to be applied to vertical positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleY Source: shapers/Shaper.js, line 301 shapeData :object Contains the specific definition of each shape Type: object Inherited From: Shaper#shapeData Source: shapers/Shaper.js, line 266 showEnclosure :boolean In Holes, when true, the enclosing area will be drawn Type: boolean Inherited From: Shaper#showEnclosure Source: shapers/Shaper.js, line 312 toothHeightFactor :number In JigSaw, ratio between the tooth height and the total length of the side. Type: number Inherited From: Shaper#toothHeightFactor Source: shapers/Shaper.js, line 283 Methods buildShapes() Builds the individual shapes that will form this Shaper Inherited From: Shaper#buildShapes Overrides: Shaper#buildShapes Source: shapers/Shaper.js, line 182 getEnclosingShapeData() Gets the AWT.Rectangle that contains all shapes of this Shaper. Inherited From: Shaper#getEnclosingShapeData Source: shapers/Shaper.js, line 212 Returns: Type AWT.Rectangle getRemainderShape(rect) When hasRemainder is true, this method gets the rectangle containing the full surface wherethe Shaper develops. Parameters: Name Type Description rect AWT.Rectangle The frame where to move and scale all the shapes Inherited From: Shaper#getRemainderShape Source: shapers/Shaper.js, line 222 Returns: Type AWT.Rectangle getShape(n, rect) Gets a clone of the nth Shape object, scaled and located inside a Rectangle Parameters: Name Type Description n number rect AWT.Rectangle Inherited From: Shaper#getShape Source: shapers/Shaper.js, line 191 Returns: Type AWT.Shape getShapeData(n) Gets the nth Shape data object Parameters: Name Type Description n number Inherited From: Shaper#getShapeData Source: shapers/Shaper.js, line 204 Returns: Type object reset(nCols, nRows) Initializes this Shaper to default values Parameters: Name Type Description nCols number Number of columns nRows number Number of rows Inherited From: Shaper#reset Source: shapers/Shaper.js, line 75 setProperties($xml) Loads this shaper settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element with the shaper data Inherited From: Shaper#setProperties Source: shapers/Shaper.js, line 89 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ReportBean.html":{"id":"ReportBean.html","title":"Class: ReportBean","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ReportBean ReportBean This inner class encapsulates a chunk of information in XML format, ready to betransmitted to the remote reports server. new ReportBean(id, $data) ReportBean constructor Parameters: Name Type Description id string The main identifier of this ReportBean. Current valid values are:get property, get_properties, add session, add activity, get groups, get users,get user data, get group data, new group, new user and multiple. $data external:jQuery Optional XML data to be added to this bean Source: report/TCPReporter.js, line 588 Members $bean :external:jQuery The main jQuery XML object managed by this ReportBean Type: external:jQuery Source: report/TCPReporter.js, line 624 Methods appendData($data) Adds an XML element to the bean Parameters: Name Type Description $data external:jQuery The XML element to be added to this bean Source: report/TCPReporter.js, line 606 setParam(name, value) Adds an XML element of type param to this ReportBean Parameters: Name Type Description name string The key name of the parameter value string | number | boolean The value of the parameter Source: report/TCPReporter.js, line 617 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Reporter.html":{"id":"Reporter.html","title":"Class: Reporter","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Reporter Reporter This class implements the basic operations related with the processing of times and scoresdone by users playing JClic activities. These operations include: identification of users,compilation of data coming from the activities, storage of this data for later use, andpresentation of summarized results. new Reporter(ps) Reporter constructor Parameters: Name Type Description ps PlayStation The PlayStation used to retrieve localized messages Source: report/Reporter.js, line 49 Members &lt;static&gt; CLASSES :Object Static list of classes derived from Reporter. It should be filled by Reporter classes at declaration time. Type: Object Source: report/Reporter.js, line 718 bUserBased :boolean true if the system is connected to a database with user's data.When false, a generic ID will be used. Type: boolean Source: report/Reporter.js, line 552 currentSession :SessionReg Currently active session Type: SessionReg Source: report/Reporter.js, line 542 descriptionDetail :string Additional info to display after the reporter's description Type: string Source: report/Reporter.js, line 527 descriptionKey :string Description of this reporting system Type: string Source: report/Reporter.js, line 522 groupCodeFilter :string Optional filter key to be used in the group selection dialog Type: string Source: report/Reporter.js, line 512 info :ReporterInfo The ReporterInfo used to calculate and store global results. Type: ReporterInfo Source: report/Reporter.js, line 483 initiated :boolean true if the system was successfully initiated, false otherwise Type: boolean Source: report/Reporter.js, line 547 MAX_USERID_PROMPT_ATTEMPTS :number Maximum number of incorrect UserID attempts Type: number Source: report/Reporter.js, line 558 ps :PlayStation The PlayStation used to retrieve messages Type: PlayStation Source: report/Reporter.js, line 488 SCORM A valid SCORM bridge, or null if no SCORM API detected. Source: report/Reporter.js, line 493 sessionContext :string A second optional key to be reported as a field in session records Type: string Source: report/Reporter.js, line 507 sessionKey :string Optional key to be added as a field in session records Type: string Source: report/Reporter.js, line 502 sessions :Array.&lt;SessionReg&gt; Array of sessions included in this report Type: Array.&lt;SessionReg&gt; Source: report/Reporter.js, line 537 started :Date Starting date and time of this report Type: Date Source: report/Reporter.js, line 532 userCodeFilter :string Another optional filter key to be used in the user selection dialog Type: string Source: report/Reporter.js, line 517 userId :string User ID currently associated with this reporting system Type: string Source: report/Reporter.js, line 497 Methods &lt;static&gt; getReporter(className, ps) Creates a new Reporter of the requested classThe resulting object must be prepared to operate with a call to its init method. Parameters: Name Type Description className string Class name of the requested reporter. When null, a basic Reporter is created. ps PlayStation The PlayStation used to retrieve localized messages Source: report/Reporter.js, line 69 Returns: Type Reporter end() Closes this reporting system Source: report/Reporter.js, line 362 Returns: A Promise object to be fullfilled when all pending tasks are finished. Type Promise endActivity(score, numActions, solved) This method should be called when the current activity finishes. Data about user's final resultson the activity will then be saved. Parameters: Name Type Description score number The final score, usually in a 0-100 scale. numActions number The total number of actions done by the user to solve the activity solved boolean true if the activity was finally solved, false otherwise. Source: report/Reporter.js, line 444 endSequence() Finalizes the current sequence Source: report/Reporter.js, line 371 endSession() Finalizes the current session Source: report/Reporter.js, line 381 getBooleanProperty(key, +) Gets a specific boolean property from this reporting system Parameters: Name Type Description key string Requested property + boolean defaultValue - Default return when requested property does not exist Source: report/Reporter.js, line 108 Returns: Type boolean getCurrentSequenceInfo() Gets information about the current sequence Source: report/Reporter.js, line 469 Returns: Type SequenceReg.Info getCurrentSequenceTag() Gets the name of the current sequence Source: report/Reporter.js, line 477 Returns: Type string getData() Builds a complex object containing all the results reported while playing activities Source: report/Reporter.js, line 296 Returns: The current results Type Object getGroupData(_groupId) Gets extended data associated with a specific group or organization. Thisis a method intended to be implemented in subclasses. Parameters: Name Type Description _groupId string The requested group ID Source: report/Reporter.js, line 149 Returns: When fulfilled, an object with group data is returned. Type Promise getGroups() Gets the list of groups or organizations currently registered in the system. Thismethod should be implemented by classes derived of Reporter. Source: report/Reporter.js, line 118 Returns: When fulfilled, an array of group data is returned as a result Type Promise getInfo() Returns the info element associated to this Reporter. Source: report/Reporter.js, line 88 Returns: Type ReporterInfo getProperty(key, +) Gets a specific property from this reporting system Parameters: Name Type Description key string Requested property + string defaultValue - Default return value when requested property does not exist Source: report/Reporter.js, line 98 Returns: Type string getUserData(_userId) Gets extended data associated with a specific user. This is a method intended to beimplemented in subclasses. Parameters: Name Type Description _userId string The requested user ID Source: report/Reporter.js, line 139 Returns: When fulfilled, an object with user data is returned. Type Promise getUsers(+) Gets the list of users currently registered in the system, optionally filtered bya specific group ID. This method should be implemented by classes derived of Reporter. Parameters: Name Type Description + string groupId - Optional group ID to be used as a filter criteria Source: report/Reporter.js, line 129 Returns: When fulfilled, an object with a collection of user data recordsis returned Type Promise init(options) Initializes this report system with an optional set of parameters.Returns a Promise, fulfilled when the reporter is fully initialized. Parameters: Name Type Argument Description options Object &lt;nullable&gt; Initial settings passed to the reporting system Source: report/Reporter.js, line 340 Returns: Type Promise newAction(type, +, +, ok) Reports a new action done by the user while playing the current activity Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object reporter acts as a target of the action (usually in pairings) ok boolean true if the action was OK, false, null or undefined otherwhise Source: report/Reporter.js, line 458 newActivity(act) This method should be invoked when the user starts a new activity Parameters: Name Type Description act Activity The Activity reporter has just started Source: report/Reporter.js, line 430 newGroup(_gd) Creates a new group (method to be implemented in subclasses) Parameters: Name Type Description _gd GroupData Source: report/Reporter.js, line 390 newSequence(ase) This method should be invoked when a new sequence starts Parameters: Name Type Description ase ActivitySequenceElement The ActivitySequenceElement referenced by this sequence. Source: report/Reporter.js, line 417 newSession(jcp) This method should be invoked when a new session starts. Parameters: Name Type Description jcp JClicProject The JClicProject this session refers to. Source: report/Reporter.js, line 406 newUser(_ud) Creates a new user (method to be implemented in subclasses) Parameters: Name Type Description _ud UserData Source: report/Reporter.js, line 398 promptForNewGroup() Allows the current user to create a new group, and asks his name Source: report/Reporter.js, line 167 Returns: When fulfilled, the chosen name for the new group is returned. Type Promise promptForNewUser() Allows the current user to create a new user ID, and asks his ID and password Source: report/Reporter.js, line 177 Returns: When fulfilled, an object with the new user ID and passwordis returned. Type Promise promptGroupId() Allows the current user to select its group or organization from the current groups list Source: report/Reporter.js, line 186 Returns: Type Promise promptUserId(+) Asks for a valid user ID fulfilling the promise if found, rejecting it otherwise Parameters: Name Type Description + boolean forcePrompt - Prompt also if userId is already defined (default is false) Source: report/Reporter.js, line 221 Returns: Type Promise userBased() Checks if this reporting system manages its own database of users and groups. Defaults to false Source: report/Reporter.js, line 157 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"ReporterInfo.html":{"id":"ReporterInfo.html","title":"Class: ReporterInfo","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: ReporterInfo ReporterInfo This object stores the global results of a Reporter new ReporterInfo(rep) ReporterInfo constructor Parameters: Name Type Description rep Reporter The Reporter associated tho this Info object. Source: report/Reporter.js, line 569 Members globalScore :number Final score based on the percent of reportable activities played. If the user plays all theactivities, this result equals to partialScore. Type: number Source: report/Reporter.js, line 704 nActions :number Number of actions done by the user while in this working session Type: number Source: report/Reporter.js, line 674 nActivities :number Number of activities played Type: number Source: report/Reporter.js, line 649 nActPlayed :number Number of different activities played Type: number Source: report/Reporter.js, line 664 nActScore :number Global score obtained in all sessions registered by this reporter Type: number Source: report/Reporter.js, line 669 nActSolved :number Number of activities solved Type: number Source: report/Reporter.js, line 659 numSequences :number Number of sequences played Type: number Source: report/Reporter.js, line 644 numSessions :number Number of sessions registered Type: number Source: report/Reporter.js, line 639 partialScore :number Global score obtained Type: number Source: report/Reporter.js, line 694 ratioPlayed :number Percentage of reportable activities played Type: number Source: report/Reporter.js, line 684 ratioSolved :number Percentage of solved activities Type: number Source: report/Reporter.js, line 679 rep :Reporter The Reporter linked to this Info object Type: Reporter Source: report/Reporter.js, line 628 reportableActs :number Number of activities in existing in the played projects suitable to be reported Type: number Source: report/Reporter.js, line 654 tScore :number Sum of the scores of all the activities played Type: number Source: report/Reporter.js, line 689 tTime :number Sum of the playing time reported by each activity (not always equals to the sum of all session's time) Type: number Source: report/Reporter.js, line 699 valid :boolean When false, data must be recalculated Type: boolean Source: report/Reporter.js, line 634 Methods clear() Clears all data associated with this ReporterInfo Source: report/Reporter.js, line 581 recalc() Computes the value of all global variables based on the data stored in sessions Source: report/Reporter.js, line 592 Returns: This &quot;info&quot; object Type ReporterInfo × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SCORM.html":{"id":"SCORM.html","title":"Class: SCORM","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SCORM SCORM This class detects if JClic.js is running in an SCORM environment and, if true,exposes the methods needed to notify the results of activities.Both SCORM 1.2 and 2004 are supported. new SCORM(API, reporter) SCORM constructor Parameters: Name Type Description API object The global SCORM API object reporter Reporter The Reporter associated to this SCORM object Source: report/SCORM.js, line 45 Members &lt;static&gt; DISCOVER_MAX_TRIES :number Maximum recursive attempts allowed to find the global SCORM API object Type: number Source: report/SCORM.js, line 273 API :object SCORM API object used to communicate with the LMS Type: object Source: report/SCORM.js, line 253 core :string Prefix used in core SCORM keys. Should be 'cmi.core.' for 1.2 and 'cmi.' for 2004 Type: string Source: report/SCORM.js, line 248 is2004 :boolean True when the API is of type SCORM 2004, false for SCORM 1.2 Type: boolean Source: report/SCORM.js, line 233 prefix :string Prefix to be used in SCORM function names. Should be 'LMS' for SCORM 1.2 Type: string Source: report/SCORM.js, line 243 reporter :Reporter The Reporter associated to this SCORM object Type: Reporter Source: report/SCORM.js, line 238 studentId :string The student ID retrieved from the SCORM API Type: string Source: report/SCORM.js, line 258 studentName :string The student name retrieved from the SCORM API Type: string Source: report/SCORM.js, line 263 Methods &lt;static&gt; getSCORM(reporter) Checks for the presence of a SCORM API on the current browser session. Parameters: Name Type Description reporter Reporter The Reporter linked to the requested SCORM object Source: report/SCORM.js, line 86 Returns: A valid SCORM object, or null if no SCORM API was found. Type SCORM &lt;static&gt; scanForAPI(win, tries) Recursive function used to find the SCORM &quot;API&quot; object Parameters: Name Type Description win object The 'window' object to scan for global SCORM API objects tries number Recursive attempts currently achieved Source: report/SCORM.js, line 70 Returns: The global SCORM API object, or null if not found Type object commit() Commits current pending data to the SCORM API Source: report/SCORM.js, line 164 Returns: Type Boolean commitInfo() Commits the current information to the SCORM API Source: report/SCORM.js, line 148 getScormType() Gets the SCORM type of this SCORM object Source: report/SCORM.js, line 227 Returns: Type string getTimeExpression(millis) Gets a string expression of the given time (in milliseconds) suitable for a SCORM transaction. Parameters: Name Type Description millis type The amount of time, in milliseconds Source: report/SCORM.js, line 211 See: http://www.ostyn.com/standards/scorm/samples/ISOTimeForSCORM.htm Returns: An ISO8601 valid expression Type String getValue(key) Gets a specific value from the SCORM API Parameters: Name Type Description key tring A SCORM valid key Source: report/SCORM.js, line 195 Returns: The value associated with the provided key, or null if not found Type string initialize() Initializes communication with the SCORM API Source: report/SCORM.js, line 109 Returns: Type Boolean setValue(key, value) Sends a specific value to the SCORM API Parameters: Name Type Description key tring A SCORM valid key value string | number The value associated with this key Source: report/SCORM.js, line 180 Returns: Type string terminate() Terminates communication with the SCORM API Source: report/SCORM.js, line 135 Returns: Type Boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SequenceReg.html":{"id":"SequenceReg.html","title":"Class: SequenceReg","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SequenceReg SequenceReg This class stores the results of the activities related to an ActivitySequenceElement.It's main component is an array of ActivityReg elements. new SequenceReg(ase) SequenceReg constructor Parameters: Name Type Description ase ActivitySequenceElement The ActivitySequenceElement related to this sequence. Source: report/SequenceReg.js, line 44 Members activities :Array.&lt;ActivityReg&gt; Collection of all the ActivityReg elements done during this sequence. Type: Array.&lt;ActivityReg&gt; Source: report/SequenceReg.js, line 144 closed :boolean Flag indicating if the sequence is closed or already available for more activities Type: boolean Source: report/SequenceReg.js, line 159 currentActivity :ActivityReg Registry linked to the Activity that is currently running Type: ActivityReg Source: report/SequenceReg.js, line 149 description :string Optional description given to the ActivitySequenceElement Type: string Source: report/SequenceReg.js, line 139 info :SequenceRegInfo Object with global information associated to this sequence Type: SequenceRegInfo Source: report/SequenceReg.js, line 164 name :string The tag member of the associated ActivitySequenceElement Type: string Source: report/SequenceReg.js, line 134 totalTime :number Total time spent on the activities of this sequence Type: number Source: report/SequenceReg.js, line 154 Methods endActivity(score, numActions, solved) This method should be called when the current activity finishes. Data about user's final resultson the activity will then be saved. Parameters: Name Type Description score number The final score, usually in a 0-100 scale. numActions number The total number of actions done by the user to solve the activity solved boolean true if the activity was finally solved, false otherwise. Source: report/SequenceReg.js, line 111 endSequence() This method should be called when the current working session finishes. Source: report/SequenceReg.js, line 83 getData() Builds a complex object with data about the results of the activities done in this sequence Source: report/SequenceReg.js, line 63 Returns: The sequence results Type Object getInfo() Returns the info element associated to this SequenceReg. Source: report/SequenceReg.js, line 76 Returns: Type SequenceRegInfo newAction(type, +, +, ok) Reports a new action done by the user while playing the current activity Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object that acts as a target of the action (used in pairings) ok boolean true if the action was OK, false, null or undefined otherwise Source: report/SequenceReg.js, line 125 newActivity(act) This method should be invoked when the user starts a new activity Parameters: Name Type Description act Activity The Activity that has just started Source: report/SequenceReg.js, line 96 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SequenceRegInfo.html":{"id":"SequenceRegInfo.html","title":"Class: SequenceRegInfo","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SequenceRegInfo SequenceRegInfo This object stores the global results of a SequenceReg new SequenceRegInfo(sqReg) SequenceRegInfo constructor Parameters: Name Type Description sqReg SequenceReg The SequenceReg associated tho this Info object. Source: report/SequenceReg.js, line 175 Members nActClosed :number Number of activities already closed Type: number Source: report/SequenceReg.js, line 243 nActions :number Number of actions done by the user while in this sequence Type: number Source: report/SequenceReg.js, line 263 nActivities :number Number of activities played in this sequence Type: number Source: report/SequenceReg.js, line 238 nActScore :number Number of activities with score &gt; 0 Type: number Source: report/SequenceReg.js, line 253 nActSolved :number Number of activities solved Type: number Source: report/SequenceReg.js, line 248 ratioSolved :number Percentage of solved activities Type: number Source: report/SequenceReg.js, line 258 sqReg :SequenceReg The SequenceReg associated to this &quot;info&quot; object Type: SequenceReg Source: report/SequenceReg.js, line 228 tScore :number Sum of the scores of all the activities played Type: number Source: report/SequenceReg.js, line 268 tTime :number Sum of the playing time reported by each activity (not always equals to the sequence's total time) Type: number Source: report/SequenceReg.js, line 273 valid :boolean When false, data must be recalculated Type: boolean Source: report/SequenceReg.js, line 233 Methods clear() Clears all global data associated with this sequence Source: report/SequenceReg.js, line 187 recalc() Computes the value of all global variables based on the data stored in activities Source: report/SequenceReg.js, line 197 Returns: This &quot;info&quot; object Type SequenceRegInfo × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SessionReg.html":{"id":"SessionReg.html","title":"Class: SessionReg","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SessionReg SessionReg This class encapsulates data of a user's working session, usually associated to a single JClicProjectIt's main component is sequences, an array of SequenceReg objects. new SessionReg(project [, code]) SessionReg constructor Parameters: Name Type Argument Description project JClicProject The JClicProject referenced by this session. code string &lt;optional&gt; Optional code to be used by this SessionReg Source: report/SessionReg.js, line 46 Members actNames :Array.&lt;string&gt; Array with unique names of the activities being reported in this session Type: Array.&lt;string&gt; Source: report/SessionReg.js, line 194 code :string Optional code to be used with this session Type: string Source: report/SessionReg.js, line 224 currentSequence :SequenceReg The sequence currently active Type: SequenceReg Source: report/SessionReg.js, line 204 info :SessionRegInfo Current session info Type: SessionRegInfo Source: report/SessionReg.js, line 219 projectName :string Name of the JClicProject associated to this session Type: string Source: report/SessionReg.js, line 214 reportableActs :number Number of activities suitable to be reported in this session Type: number Source: report/SessionReg.js, line 189 sequences :Array.&lt;SequenceReg&gt; List of sequences done in this session Type: Array.&lt;SequenceReg&gt; Source: report/SessionReg.js, line 199 started :Date Starting date and time of this session Type: Date Source: report/SessionReg.js, line 209 Methods end() Closes this session Source: report/SessionReg.js, line 104 endActivity(score, numActions, solved) This method should be called when the current activity finishes. Data about user's final resultson the activity will then be saved. Parameters: Name Type Description score number The final score, usually in a 0-100 scale. numActions number The total number of actions done by the user to solve the activity solved boolean true if the activity was finally solved, false otherwise. Source: report/SessionReg.js, line 150 endSequence() This method should be called when the current working session finishes. Source: report/SessionReg.js, line 111 getCurrentSequenceInfo() Gets information about the current sequence Source: report/SessionReg.js, line 183 Returns: Type SequenceReg.Info getCurrentSequenceTag() Gets the name of the current sequence Source: report/SessionReg.js, line 175 Returns: Type string getData(recalcInfo, includeEmpty) Builds a complex object with the results of all activities done during this working session Parameters: Name Type Description recalcInfo booolean When true, global variables (number of sequences, score, total time...)will be recalculated from the data stored in the SequenceReg objects. includeEmpty booolean When true, sequences without reported activities will be also included in the results Source: report/SessionReg.js, line 69 Returns: An object containing the full session data Type Object getInfo() Returns the info element associated to this SessionReg. Source: report/SessionReg.js, line 97 Returns: Type SessionRegInfo newAction(type, +, +, ok) Reports a new action done by the user while playing the current activity Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object that acts as a target of the action (used in pairings) ok boolean true if the action was OK, false, null or undefined otherwise Source: report/SessionReg.js, line 164 newActivity(act) This method should be invoked when the user starts a new activity Parameters: Name Type Description act Activity The Activity that has just started Source: report/SessionReg.js, line 133 newSequence(ase) This method should be invoked when a new sequence starts Parameters: Name Type Description ase ActivitySequenceElement The ActivitySequenceElement referenced by this sequence. Source: report/SessionReg.js, line 122 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SessionRegInfo.html":{"id":"SessionRegInfo.html","title":"Class: SessionRegInfo","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SessionRegInfo SessionRegInfo This object stores the global results of a SessionReg new SessionRegInfo(sReg) SessionRegInfo constructor Parameters: Name Type Description sReg SessionReg The SessionReg associated tho this Info object. Source: report/SessionReg.js, line 235 Members nActions :number Number of actions done by the user while in this working session Type: number Source: report/SessionReg.js, line 330 nActivities :number Number of activities played Type: number Source: report/SessionReg.js, line 305 nActScore :number Number of activities with score &gt; 0 Type: number Source: report/SessionReg.js, line 315 nActSolved :number Number of activities solved Type: number Source: report/SessionReg.js, line 310 numSequences :number Number of sequences played Type: number Source: report/SessionReg.js, line 300 ratioPlayed :number Percentage of reportable activities played Type: number Source: report/SessionReg.js, line 325 ratioSolved :number Percentage of solved activities Type: number Source: report/SessionReg.js, line 320 sReg :SessionReg The SessionReg linked to this Info object Type: SessionReg Source: report/SessionReg.js, line 290 tScore :number Sum of the scores of all the activities played Type: number Source: report/SessionReg.js, line 335 tTime :number Sum of the playing time reported by each activity (not always equals to the session's total time) Type: number Source: report/SessionReg.js, line 340 valid :boolean When false, this session info needs to be recalculated Type: boolean Source: report/SessionReg.js, line 295 Methods clear() Clears all data associated with this working session Source: report/SessionReg.js, line 247 recalc() Computes the value of all global variables based on the data stored in sequences Source: report/SessionReg.js, line 257 Returns: This &quot;info&quot; object Type SessionRegInfo × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SessionStorageReporter.html":{"id":"SessionStorageReporter.html","title":"Class: SessionStorageReporter","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SessionStorageReporter SessionStorageReporter This JClic Reporter writes persistent data to the browser local session storage. It uses some ofthe JClic Reports API.Connection parameters (key, context...) are passed through the options element of JClicPlayer (acting as PlayStation).Set storage=local in options to store reports in window.localStorageinstead of window.sessionStorage (default). new SessionStorageReporter(ps) SessionStorageReporter constructor Parameters: Name Type Description ps PlayStation The PlayStation used to retrieve settings and localized messages Source: report/SessionStorageReporter.js, line 49 Extends Reporter Members bUserBased :boolean true if the system is connected to a database with user's data.When false, a generic ID will be used. Type: boolean Inherited From: Reporter#bUserBased Source: report/Reporter.js, line 552 currentSession :SessionReg Currently active session Type: SessionReg Inherited From: Reporter#currentSession Source: report/Reporter.js, line 542 descriptionDetail :string Additional info to display after the reporter's description Type: string Inherited From: Reporter#descriptionDetail Overrides: Reporter#descriptionDetail Source: report/Reporter.js, line 527 descriptionKey :string Description of this reporting system Type: string Inherited From: Reporter#descriptionKey Overrides: Reporter#descriptionKey Source: report/Reporter.js, line 522 groupCodeFilter :string Optional filter key to be used in the group selection dialog Type: string Inherited From: Reporter#groupCodeFilter Source: report/Reporter.js, line 512 info :ReporterInfo The ReporterInfo used to calculate and store global results. Type: ReporterInfo Inherited From: Reporter#info Source: report/Reporter.js, line 483 initiated :boolean true if the system was successfully initiated, false otherwise Type: boolean Inherited From: Reporter#initiated Source: report/Reporter.js, line 547 key :string Key used to save the report into sessionStorage Type: string Source: report/SessionStorageReporter.js, line 128 MAX_USERID_PROMPT_ATTEMPTS :number Maximum number of incorrect UserID attempts Type: number Inherited From: Reporter#MAX_USERID_PROMPT_ATTEMPTS Source: report/Reporter.js, line 558 ps :PlayStation The PlayStation used to retrieve messages Type: PlayStation Inherited From: Reporter#ps Source: report/Reporter.js, line 488 SCORM A valid SCORM bridge, or null if no SCORM API detected. Inherited From: Reporter#SCORM Source: report/Reporter.js, line 493 sessionContext :string A second optional key to be reported as a field in session records Type: string Inherited From: Reporter#sessionContext Source: report/Reporter.js, line 507 sessionKey :string Optional key to be added as a field in session records Type: string Inherited From: Reporter#sessionKey Source: report/Reporter.js, line 502 sessions :Array.&lt;SessionReg&gt; Array of sessions included in this report Type: Array.&lt;SessionReg&gt; Inherited From: Reporter#sessions Source: report/Reporter.js, line 537 started :Date Starting date and time of this report Type: Date Inherited From: Reporter#started Source: report/Reporter.js, line 532 storage :external:Storage Type of storage to be used. Defaults to window.sessionStorage Type: external:Storage Source: report/SessionStorageReporter.js, line 111 userCodeFilter :string Another optional filter key to be used in the user selection dialog Type: string Inherited From: Reporter#userCodeFilter Source: report/Reporter.js, line 517 userId :string User ID currently associated with this reporting system Type: string Inherited From: Reporter#userId Source: report/Reporter.js, line 497 Methods end() Closes this reporting system Inherited From: Reporter#end Source: report/Reporter.js, line 362 Returns: A Promise object to be fullfilled when all pending tasks are finished. Type Promise endActivity(score, numActions, solved) This method should be called when the current activity finishes. Data about user's final resultson the activity will then be saved. Parameters: Name Type Description score number The final score, usually in a 0-100 scale. numActions number The total number of actions done by the user to solve the activity solved boolean true if the activity was finally solved, false otherwise. Inherited From: Reporter#endActivity Overrides: Reporter#endActivity Source: report/Reporter.js, line 444 endSequence() Finalizes the current sequence Inherited From: Reporter#endSequence Overrides: Reporter#endSequence Source: report/Reporter.js, line 371 endSession() Finalizes the current session Inherited From: Reporter#endSession Source: report/Reporter.js, line 381 getBooleanProperty(key, +) Gets a specific boolean property from this reporting system Parameters: Name Type Description key string Requested property + boolean defaultValue - Default return when requested property does not exist Inherited From: Reporter#getBooleanProperty Source: report/Reporter.js, line 108 Returns: Type boolean getCurrentSequenceInfo() Gets information about the current sequence Inherited From: Reporter#getCurrentSequenceInfo Source: report/Reporter.js, line 469 Returns: Type SequenceReg.Info getCurrentSequenceTag() Gets the name of the current sequence Inherited From: Reporter#getCurrentSequenceTag Source: report/Reporter.js, line 477 Returns: Type string getData() Builds a complex object containing all the results reported while playing activities Inherited From: Reporter#getData Source: report/Reporter.js, line 296 Returns: The current results Type Object getGroupData(_groupId) Gets extended data associated with a specific group or organization. Thisis a method intended to be implemented in subclasses. Parameters: Name Type Description _groupId string The requested group ID Inherited From: Reporter#getGroupData Source: report/Reporter.js, line 149 Returns: When fulfilled, an object with group data is returned. Type Promise getGroups() Gets the list of groups or organizations currently registered in the system. Thismethod should be implemented by classes derived of Reporter. Inherited From: Reporter#getGroups Source: report/Reporter.js, line 118 Returns: When fulfilled, an array of group data is returned as a result Type Promise getInfo() Returns the info element associated to this Reporter. Inherited From: Reporter#getInfo Source: report/Reporter.js, line 88 Returns: Type ReporterInfo getProperty(key, +) Gets a specific property from this reporting system Parameters: Name Type Description key string Requested property + string defaultValue - Default return value when requested property does not exist Inherited From: Reporter#getProperty Source: report/Reporter.js, line 98 Returns: Type string getUserData(_userId) Gets extended data associated with a specific user. This is a method intended to beimplemented in subclasses. Parameters: Name Type Description _userId string The requested user ID Inherited From: Reporter#getUserData Source: report/Reporter.js, line 139 Returns: When fulfilled, an object with user data is returned. Type Promise getUsers(+) Gets the list of users currently registered in the system, optionally filtered bya specific group ID. This method should be implemented by classes derived of Reporter. Parameters: Name Type Description + string groupId - Optional group ID to be used as a filter criteria Inherited From: Reporter#getUsers Source: report/Reporter.js, line 129 Returns: When fulfilled, an object with a collection of user data recordsis returned Type Promise init(options) Initializes this report system with an optional set of parameters.Returns a Promise, fulfilled when the reporter is fully initialized. Parameters: Name Type Argument Description options Object &lt;nullable&gt; Initial settings passed to the reporting system Inherited From: Reporter#init Overrides: Reporter#init Source: report/Reporter.js, line 340 Returns: Type Promise newAction(type, +, +, ok) Reports a new action done by the user while playing the current activity Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object reporter acts as a target of the action (usually in pairings) ok boolean true if the action was OK, false, null or undefined otherwhise Inherited From: Reporter#newAction Source: report/Reporter.js, line 458 newActivity(act) This method should be invoked when the user starts a new activity Parameters: Name Type Description act Activity The Activity reporter has just started Inherited From: Reporter#newActivity Source: report/Reporter.js, line 430 newGroup(_gd) Creates a new group (method to be implemented in subclasses) Parameters: Name Type Description _gd GroupData Inherited From: Reporter#newGroup Source: report/Reporter.js, line 390 newSequence(ase) This method should be invoked when a new sequence starts Parameters: Name Type Description ase ActivitySequenceElement The ActivitySequenceElement referenced by this sequence. Inherited From: Reporter#newSequence Source: report/Reporter.js, line 417 newSession(jcp) This method should be invoked when a new session starts. Parameters: Name Type Description jcp JClicProject The JClicProject this session refers to. Inherited From: Reporter#newSession Source: report/Reporter.js, line 406 newUser(_ud) Creates a new user (method to be implemented in subclasses) Parameters: Name Type Description _ud UserData Inherited From: Reporter#newUser Source: report/Reporter.js, line 398 promptForNewGroup() Allows the current user to create a new group, and asks his name Inherited From: Reporter#promptForNewGroup Source: report/Reporter.js, line 167 Returns: When fulfilled, the chosen name for the new group is returned. Type Promise promptForNewUser() Allows the current user to create a new user ID, and asks his ID and password Inherited From: Reporter#promptForNewUser Source: report/Reporter.js, line 177 Returns: When fulfilled, an object with the new user ID and passwordis returned. Type Promise promptGroupId() Allows the current user to select its group or organization from the current groups list Inherited From: Reporter#promptGroupId Source: report/Reporter.js, line 186 Returns: Type Promise promptUserId(+) Asks for a valid user ID fulfilling the promise if found, rejecting it otherwise Parameters: Name Type Description + boolean forcePrompt - Prompt also if userId is already defined (default is false) Inherited From: Reporter#promptUserId Source: report/Reporter.js, line 221 Returns: Type Promise saveCurrentReport() Saves the current report data to sessionStorage Source: report/SessionStorageReporter.js, line 80 userBased() Checks if this reporting system manages its own database of users and groups. Defaults to false Inherited From: Reporter#userBased Source: report/Reporter.js, line 157 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Shape.html":{"id":"Shape.html","title":"Class: Shape","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Shape Shape Shape is a generic abstract class for rectangles, ellipses and stroke-free shapes. &lt;abstract&gt; new Shape(pos) Shape constructor Parameters: Name Type Description pos Point The top-left coordinates of this Shape Source: AWT.js, line 704 Members pos :Point The current position of the shape Type: Point Source: AWT.js, line 865 Methods clip(ctx [, fillRule]) Creates a clipping region on the specified HTML canvas 2D rendering context Parameters: Name Type Argument Default Description ctx external:CanvasRenderingContext2D The rendering context fillRule string &lt;optional&gt; 'nonzero' Can be 'nonzero' (default when not set) or 'evenodd' Source: AWT.js, line 841 Returns: The provided rendering context Type external:CanvasRenderingContext2D contains(_p) Checks if the provided Point is inside this shape. Parameters: Name Type Description _p Point The point to check Source: AWT.js, line 776 Returns: Type boolean equals(p) Checks if two shapes are equivalent. Parameters: Name Type Description p Shape The Shape to compare against Source: AWT.js, line 746 Returns: Type boolean fill(ctx [, dirtyRegion]) Fills the Shape with the current style in the provided HTML canvas context Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to fill this shape. dirtyRegion Rectangle &lt;optional&gt; The context region to be updated. Used as clippingregion when drawing. Source: AWT.js, line 798 Returns: The provided rendering context Type external:CanvasRenderingContext2D getBounds() Gets the enclosing Rectangle of this Shape. Source: AWT.js, line 737 Returns: Type Rectangle getShape(rect) Gets a clone of this shape moved to the pos component of the rectangle and scaledby its dim value. Parameters: Name Type Description rect Rectangle The rectangle to be taken as a base for moving and scalingthis shape. Source: AWT.js, line 767 Returns: Type Shape intersects(_r) Checks if the provided Rectangle r intersects with this shape. Parameters: Name Type Description _r Rectangle Source: AWT.js, line 786 Returns: Type boolean isRect() Shorthand method for determining if a Shape is an Rectangle Source: AWT.js, line 851 Returns: Type Boolean moveBy(delta) Shifts the shape a specified amount in horizontal and vertical directions Parameters: Name Type Description delta Point | Dimension The amount to shift the Shape Source: AWT.js, line 718 Returns: Type Shape moveTo(newPos) Moves this shape to a new position Parameters: Name Type Description newPos Point The new position of the shape Source: AWT.js, line 728 Returns: Type Shape preparePath(ctx) Prepares an HTML canvas 2D rendering context with a path that can be used to stroke a line,to fill a surface or to define a clipping region. Parameters: Name Type Description ctx external:CanvasRenderingContext2D Source: AWT.js, line 830 Returns: The provided rendering context Type external:CanvasRenderingContext2D scaleBy(_delta) Multiplies the dimension of the Shape by the specified delta amount. Parameters: Name Type Description _delta Point | Dimension Object containing the X and Y ratio to be scaled. Source: AWT.js, line 755 Returns: Type Shape stroke(ctx) Draws this shape in the provided HTML canvas 2D rendering context. Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context where to draw the shape. Source: AWT.js, line 818 Returns: The provided rendering context Type external:CanvasRenderingContext2D toString() Overwrites the original 'Object.toString' method with a more descriptive text Source: AWT.js, line 859 Returns: Type String × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Shaper.html":{"id":"Shaper.html","title":"Class: Shaper","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Shaper Shaper The function of this class and its subclasses is to draw a set of &quot;shapes&quot; that will be used toplace ActiveBox objects at a specific position, and to determine its dimension andappearance. new Shaper(nx, ny) Shaper constructor Parameters: Name Type Description nx number Number of columns (in grid-based shapers) ny number Number of rows (in grid-based shapers) Source: shapers/Shaper.js, line 46 Members &lt;static&gt; CLASSES :object List of known classes derived from Shaper. It should be filled by real shaper classes atdeclaration time. Type: object Source: shapers/Shaper.js, line 243 baseWidthFactor :number In JigSaw, ratio between the base width of the tooth and the total length of the side. Type: number Source: shapers/Shaper.js, line 278 className :string This shaper class name Type: string Source: shapers/Shaper.js, line 246 enclosing :AWT.Shape In Holes, the enclosing area where all shapes are placed. Type: AWT.Shape Source: shapers/Shaper.js, line 307 hasRemainder :boolean Flag indicating if this Shaper deploys over a surface biggest than the rectangle enclosingall its shapes Type: boolean Source: shapers/Shaper.js, line 322 initiated :boolean Flag used to check if the Shaper has been initialized against a real surface Type: boolean Source: shapers/Shaper.js, line 271 nCells :number Number of cells managed by this shaper Type: number Source: shapers/Shaper.js, line 261 nCols :number Number of columns (useful in grid-based shapers) Type: number Source: shapers/Shaper.js, line 251 nRows :number Number of rows (useful in grid-based shapers) Type: number Source: shapers/Shaper.js, line 256 randomLines :boolean In JigSaw, whether the tooths take random directions or not Type: boolean Source: shapers/Shaper.js, line 288 rectangularShapes :boolean Flag indicating if this shaper organizes its cells in rows and columns Type: boolean Source: shapers/Shaper.js, line 317 scaleX :number In Holes, scale to be applied to horizontal positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Source: shapers/Shaper.js, line 295 scaleY :number In Holes, scale to be applied to vertical positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Source: shapers/Shaper.js, line 301 shapeData :object Contains the specific definition of each shape Type: object Source: shapers/Shaper.js, line 266 showEnclosure :boolean In Holes, when true, the enclosing area will be drawn Type: boolean Source: shapers/Shaper.js, line 312 toothHeightFactor :number In JigSaw, ratio between the tooth height and the total length of the side. Type: number Source: shapers/Shaper.js, line 283 Methods &lt;static&gt; getShaper(className, nx, ny) Factory constructor that returns a Shaper of the requested class. Parameters: Name Type Description className string The class name of the requested Shaper. nx number Number of columns (in grid-based shapers) ny number Number of rows (in grid-based shapers) Source: shapers/Shaper.js, line 63 Returns: Type Shaper &lt;static&gt; readShapeData($xml, scaleX, scaleY) Reads an individual shape from an XML element.Shapes are arrays of stroke objects.Each stroke has an action (move to, line to, quad to...) and associated data. Parameters: Name Type Description $xml external:jQuery The XML element with the shape data scaleX number scaleY number Source: shapers/Shaper.js, line 149 Returns: Type AWT.Shape buildShapes() Builds the individual shapes that will form this Shaper Source: shapers/Shaper.js, line 182 getEnclosingShapeData() Gets the AWT.Rectangle that contains all shapes of this Shaper. Source: shapers/Shaper.js, line 212 Returns: Type AWT.Rectangle getRemainderShape(rect) When hasRemainder is true, this method gets the rectangle containing the full surface wherethe Shaper develops. Parameters: Name Type Description rect AWT.Rectangle The frame where to move and scale all the shapes Source: shapers/Shaper.js, line 222 Returns: Type AWT.Rectangle getShape(n, rect) Gets a clone of the nth Shape object, scaled and located inside a Rectangle Parameters: Name Type Description n number rect AWT.Rectangle Source: shapers/Shaper.js, line 191 Returns: Type AWT.Shape getShapeData(n) Gets the nth Shape data object Parameters: Name Type Description n number Source: shapers/Shaper.js, line 204 Returns: Type object reset(nCols, nRows) Initializes this Shaper to default values Parameters: Name Type Description nCols number Number of columns nRows number Number of rows Source: shapers/Shaper.js, line 75 setProperties($xml) Loads this shaper settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element with the shaper data Source: shapers/Shaper.js, line 89 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SimpleAssociation.html":{"id":"SimpleAssociation.html","title":"Class: SimpleAssociation","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SimpleAssociation SimpleAssociation This class of Activity uses two panels (primary and secondary) formed byActiveBox objects filled with data stored in ActiveBagContent repositories. Both panels have the same number of elements, associated one-to-one. A third ActiveBagContentcan be used as alternative content, that will be revealed in the primary panel as the pairingsof its cells are solved. new SimpleAssociation(project) SimpleAssociation constructor Parameters: Name Type Description project JClicProject The JClic project to which this activity belongs Source: activities/associations/SimpleAssociation.js, line 53 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: SimpleAssociationPanel Type: class Source: activities/associations/SimpleAssociation.js, line 522 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useIdAss :boolean When true, the cell's idAss field will be used to check pairing matches. Type: boolean Source: activities/associations/SimpleAssociation.js, line 100 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Overrides: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Overrides: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SimpleAssociationPanel.html":{"id":"SimpleAssociationPanel.html","title":"Class: SimpleAssociationPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SimpleAssociationPanel SimpleAssociationPanel The ActivityPanel where SimpleAssociation activities are played. new SimpleAssociationPanel(act, ps [, $div]) SimpleAssociationPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/associations/SimpleAssociation.js, line 112 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Overrides: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Overrides: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The box connector Type: BoxConnector Overrides: ActivityPanel#bc Source: activities/associations/SimpleAssociation.js, line 506 bgA :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the primary panel Type: ActiveBoxBag Source: activities/associations/SimpleAssociation.js, line 496 bgB :ActiveBoxBag The ActiveBoxBag object containing the information to be displayed in the secondary panel Type: ActiveBoxBag Source: activities/associations/SimpleAssociation.js, line 501 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Overrides: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Overrides: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"SimpleSkin.html":{"id":"SimpleSkin.html","title":"Class: SimpleSkin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: SimpleSkin SimpleSkin This is a variant of the default Skin used by JClic.jsIt has the buttons at top, and don't has counters. new SimpleSkin(ps [, name] [, options]) SimpleSkin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects meeded tot build the Skin. name string &lt;optional&gt; null The skin class name options object &lt;optional&gt; Optional parameter with additional options Source: skins/SimpleSkin.js, line 46 Extends DefaultSkin Members $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Inherited From: Skin#$cancelDlgBtn Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Inherited From: Skin#$closeDlgBtn Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Inherited From: Skin#$copyBtn Source: skins/Skin.js, line 849 $ctrlCnt :external:jQuery The HTML div where buttons, counters and message box are placed Type: external:jQuery Inherited From: DefaultSkin#$ctrlCnt Source: skins/DefaultSkin.js, line 237 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Inherited From: Skin#$div Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Inherited From: Skin#$dlgBottomPanel Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Inherited From: Skin#$dlgMainPanel Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Inherited From: Skin#$dlgOverlay Source: skins/Skin.js, line 829 $msgBoxDiv :external:jQuery The div DOM object where msgBox is located Type: external:jQuery Inherited From: DefaultSkin#$msgBoxDiv Source: skins/Skin.js, line 819 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Inherited From: Skin#$okDlgBtn Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Inherited From: Skin#$playerCnt Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progress Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Inherited From: Skin#$progressAnimation Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Inherited From: Skin#$reportsPanel Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Inherited From: Skin#$waitPanel Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Inherited From: Skin#_dlgCancelValue Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Inherited From: Skin#_dlgOkValue Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Inherited From: Skin#_isModalDlg Source: skins/Skin.js, line 879 actionsIcon :string Actions icon Type: string Inherited From: DefaultSkin#actionsIcon Source: skins/DefaultSkin.js, line 404 appLogo :string JClic logo Type: string Inherited From: Skin#appLogo Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Inherited From: Skin#basicCSS Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Inherited From: Skin#buttons Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Inherited From: Skin#closeDialogIcon Source: skins/Skin.js, line 1017 closeIcon :string Close button Type: string Inherited From: DefaultSkin#closeIcon Source: skins/DefaultSkin.js, line 350 copyIcon :string Icon for 'copy' button Type: string Inherited From: Skin#copyIcon Source: skins/Skin.js, line 1031 counterIconFill :string Counter icon fill color Type: string Inherited From: DefaultSkin#counterIconFill Source: skins/DefaultSkin.js, line 383 counterIconHeight :number Counter icon height Type: number Inherited From: DefaultSkin#counterIconHeight Source: skins/DefaultSkin.js, line 378 counterIconWidth :number Counter icon width Type: number Inherited From: DefaultSkin#counterIconWidth Source: skins/DefaultSkin.js, line 373 counters :object The collection of counters Type: object Inherited From: Skin#counters Source: skins/Skin.js, line 905 countersHeight :number Height of counters, in pixels Type: number Inherited From: DefaultSkin#countersHeight Source: skins/DefaultSkin.js, line 257 countersWidth :number Width of counters, in pixels Type: number Inherited From: DefaultSkin#countersWidth Source: skins/DefaultSkin.js, line 252 cssFonts :Array.&lt;string&gt; Fonts used in this skin Type: Array.&lt;string&gt; Inherited From: DefaultSkin#cssFonts Source: skins/DefaultSkin.js, line 296 currentProgress :number Current value of the progress bar Type: number Inherited From: Skin#currentProgress Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Inherited From: Skin#fileName Source: skins/Skin.js, line 789 fullScreenExitIcon :string Full screen off icon Type: string Inherited From: DefaultSkin#fullScreenExitIcon Source: skins/DefaultSkin.js, line 343 fullScreenIcon :string Full screen on icon Type: string Inherited From: DefaultSkin#fullScreenIcon Source: skins/DefaultSkin.js, line 336 halfMedia :object Screen sizes (width and height) below which will half sized elements will be used Type: object Inherited From: DefaultSkin#halfMedia Source: skins/Skin.js, line 1048 iconFill :string Fill color for icons Type: string Inherited From: DefaultSkin#iconFill Source: skins/DefaultSkin.js, line 313 iconHeight :number Icon height Type: number Inherited From: DefaultSkin#iconHeight Source: skins/DefaultSkin.js, line 308 iconWidth :number Icon width Type: number Inherited From: DefaultSkin#iconWidth Source: skins/DefaultSkin.js, line 303 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Inherited From: Skin#infoHead Source: skins/Skin.js, line 844 infoIcon :string Info button Type: string Inherited From: DefaultSkin#infoIcon Source: skins/DefaultSkin.js, line 357 mainCSS :string Styles used in this skin Type: string Inherited From: DefaultSkin#mainCSS Source: skins/DefaultSkin.js, line 265 mainCSSHalf :string Styles used in this skin, sized to half its regular size Type: string Inherited From: DefaultSkin#mainCSSHalf Source: skins/DefaultSkin.js, line 276 mainCSSTwoThirds :string Styles used in this skin, sized to two thirds of its regular size Type: string Inherited From: DefaultSkin#mainCSSTwoThirds Source: skins/DefaultSkin.js, line 286 margin :number Space (pixels) between the components of this Skin Type: number Inherited From: DefaultSkin#margin Source: skins/DefaultSkin.js, line 242 maxProgress :number Max value of the progress bar Type: number Inherited From: Skin#maxProgress Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Inherited From: Skin#msgArea Source: skins/Skin.js, line 914 msgBox :ActiveBox The box used to display the main messages of JClic activities Type: ActiveBox Inherited From: DefaultSkin#msgBox Source: skins/Skin.js, line 814 msgBoxHeight :number Height of DefaultSkin#msgBox Type: number Inherited From: DefaultSkin#msgBoxHeight Source: skins/DefaultSkin.js, line 247 name :string Current name of the skin. Type: string Inherited From: Skin#name Source: skins/Skin.js, line 779 nextIcon :string Icon for 'next activity' button Type: string Inherited From: DefaultSkin#nextIcon Source: skins/DefaultSkin.js, line 329 okDialogIcon :string Icon for 'ok' button Type: string Inherited From: Skin#okDialogIcon Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Inherited From: Skin#options Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Inherited From: Skin#player Source: skins/Skin.js, line 923 prevIcon :string Icon for 'previous activity' button Type: string Inherited From: DefaultSkin#prevIcon Source: skins/DefaultSkin.js, line 322 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Inherited From: Skin#ps Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Inherited From: Skin#reportsCSS Source: skins/Skin.js, line 982 reportsIcon :string Reports button Type: string Inherited From: DefaultSkin#reportsIcon Source: skins/DefaultSkin.js, line 364 scoreIcon :string Score icon Type: string Inherited From: DefaultSkin#scoreIcon Source: skins/DefaultSkin.js, line 397 skinCSS :string Styles used in this skin Type: string Source: skins/SimpleSkin.js, line 82 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Inherited From: Skin#skinId Overrides: DefaultSkin#skinId Source: skins/Skin.js, line 764 timeIcon :string Time icon Type: string Inherited From: DefaultSkin#timeIcon Source: skins/DefaultSkin.js, line 389 twoThirdsMedia :object Screen sizes (width and height) below which will two-thirds sized elements will be used Type: object Inherited From: DefaultSkin#twoThirdsMedia Source: skins/Skin.js, line 1053 waitAnimCSS :string Waiting screen styles Type: string Inherited From: Skin#waitAnimCSS Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Inherited From: Skin#waitCursorCount Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Inherited From: Skin#waitImgBig Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Inherited From: Skin#waitImgSmall Source: skins/Skin.js, line 974 Methods $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#$printReport Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Inherited From: Skin#_closeDlg Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Overrides: DefaultSkin#_getStyleSheets Source: skins/SimpleSkin.js, line 70 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Inherited From: Skin#actionStatusChanged Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Inherited From: Skin#attach Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Inherited From: Skin#detach Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Inherited From: Skin#doLayout Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Inherited From: Skin#enableCounter Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Inherited From: DefaultSkin#enableMainButtons Source: skins/DefaultSkin.js, line 224 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Inherited From: Skin#equals Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Inherited From: Skin#fit Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Inherited From: DefaultSkin#getMsgBox Source: skins/DefaultSkin.js, line 215 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Inherited From: Skin#incProgress Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Inherited From: Skin#resetAllCounters Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Inherited From: Skin#setEnabled Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Inherited From: Skin#setProgress Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Inherited From: Skin#setScreenFull Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Inherited From: Skin#setSkinSizes Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Inherited From: Skin#setWaitCursor Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Inherited From: Skin#showDlg Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Inherited From: Skin#showHelp Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Inherited From: Skin#showReports Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Inherited From: Skin#updateContent Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Skin.html":{"id":"Skin.html","title":"Class: Skin","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Skin Skin This abstract class manages the layout, position ans size of the visual components of JClic:player window, message box, counters, buttons, status... and also the appearance of the maincontainer.The basic implementation of Skin is DefaultSkin. &lt;abstract&gt; new Skin(ps [, name] [, options]) Skin constructor Parameters: Name Type Argument Default Description ps PlayStation The PlayStation (currently a JClicPlayer) used to load andrealize the media objects needed tot build the Skin. name string &lt;optional&gt; null The skin name options object &lt;optional&gt; Optional parameter with additional options Source: skins/Skin.js, line 55 Extends AWT.Container Members &lt;static&gt; CLASSES :object List of classes derived from Skin. It should be filled by real skin classes at declaration time. Type: object Source: skins/Skin.js, line 761 &lt;static&gt; lastId :Number Counter used to label root nodes with unique IDs Type: Number Source: skins/Skin.js, line 755 &lt;static&gt; rootStyles :Object Collection of skin style sheets already registered on the current document Type: Object Source: skins/Skin.js, line 749 &lt;static&gt; skinStack :Array.&lt;Skin&gt; Collection of realized Skin objects. Type: Array.&lt;Skin&gt; Source: skins/Skin.js, line 743 $cancelDlgBtn :external:jQuery Cancel dialog button Type: external:jQuery Source: skins/Skin.js, line 864 $closeDlgBtn :external:jQuery Iconic button used to close the dialog Type: external:jQuery Source: skins/Skin.js, line 854 $copyBtn :external:jQuery Iconic button used to copy content to clipboard Type: external:jQuery Source: skins/Skin.js, line 849 $div :external:jQuery The HTML div object used by this Skin Type: external:jQuery Source: skins/Skin.js, line 769 $dlgBottomPanel :external:jQuery Bottom panel of dialogs, used for action buttons Type: external:jQuery Source: skins/Skin.js, line 839 $dlgMainPanel :external:jQuery Main panel of dialogs, where relevant information must be placed Type: external:jQuery Source: skins/Skin.js, line 834 $dlgOverlay :external:jQuery Main panel used to display modal and non-modal dialogs Type: external:jQuery Source: skins/Skin.js, line 829 $okDlgBtn :external:jQuery OK dialog button Type: external:jQuery Source: skins/Skin.js, line 859 $playerCnt :external:jQuery The HTML div where JClic Player will be placed Type: external:jQuery Source: skins/Skin.js, line 774 $progress :external:jQuery Graphic indicator of loading progress Type: external:jQuery Source: skins/Skin.js, line 799 $progressAnimation :external:jQuery Graphic indicator of loading progress Type: external:jQuery Source: skins/CustomSkin.js, line 418 $reportsPanel :external:jQuery Div inside $dlgOverlay where JClicPlayer will place the information to be shown Type: external:jQuery Source: skins/Skin.js, line 884 $waitPanel :external:jQuery Waiting panel, displayed while loading resources. Type: external:jQuery Source: skins/Skin.js, line 794 _dlgCancelValue :Object Value to be returned in user-canceled dialogs Type: Object Source: skins/Skin.js, line 874 _dlgOkValue :Object Value to be returned by the dialog promise when the presented task is fulfilled Type: Object Source: skins/Skin.js, line 869 _isModalDlg :boolean Flag indicating if the current dialog is modal or not Type: boolean Source: skins/Skin.js, line 879 appLogo :string JClic logo Type: string Source: skins/Skin.js, line 1038 basicCSS :string Main styles Type: string Source: skins/Skin.js, line 942 buttons :object The basic collection of buttons that most skins implement Type: object Source: skins/Skin.js, line 889 closeDialogIcon :string Icon for 'close dialog' button Type: string Source: skins/Skin.js, line 1017 copyIcon :string Icon for 'copy' button Type: string Source: skins/Skin.js, line 1031 counters :object The collection of counters Type: object Source: skins/Skin.js, line 905 currentProgress :number Current value of the progress bar Type: number Source: skins/Skin.js, line 804 fileName :string Name of the XML file used to retrieve the skin settings. Type: string Source: skins/Skin.js, line 789 infoHead :external:jQuery Element usually used as header in dialogs, with JClic logo, name and version Type: external:jQuery Source: skins/Skin.js, line 844 maxProgress :number Max value of the progress bar Type: number Source: skins/Skin.js, line 809 msgArea :object The collection of message areas Type: object Source: skins/Skin.js, line 914 name :string Current name of the skin. Type: string Source: skins/Skin.js, line 779 okDialogIcon :string Icon for 'ok' button Type: string Source: skins/Skin.js, line 1024 options :object Specific options of this skin Type: object Source: skins/Skin.js, line 784 player :JClicPlayer The JClicPlayer object associated to this skin Type: JClicPlayer Source: skins/Skin.js, line 923 ps :PlayStation The PlayStationused by this Skin. Usually, the same as player Type: PlayStation Source: skins/Skin.js, line 928 reportsCSS :string Reports screen styles Type: string Source: skins/Skin.js, line 982 skinId :string Class name of this skin. It will be used as a base selector in the definition of all CSS styles. Type: string Source: skins/Skin.js, line 764 waitAnimCSS :string Waiting screen styles Type: string Source: skins/Skin.js, line 953 waitCursorCount :number Counter to be incremented or decremented as waitCursor is requested or released. Type: number Source: skins/Skin.js, line 934 waitImgBig :string Animated image displayed while loading resourcesBased on Ryan Allen's svg-spinner Type: string Source: skins/Skin.js, line 965 waitImgSmall :string Animated image displayed while loading resources (small) Type: string Source: skins/Skin.js, line 974 Methods &lt;static&gt; getSkin(skinName, ps [, options]) Gets the specified Skin from skinStack, or creates a new one if not found.This function should be used only through Skin.getSkin Parameters: Name Type Argument Default Description skinName string default The name of the searched skin ps PlayStation The PlayStation (usually a JClicPlayer) used to build the new skin. options object &lt;optional&gt; Optional parameter with additional options Source: skins/Skin.js, line 239 Returns: Type Skin &lt;static&gt; registerStyleSheet(skinId [, ps]) Checks if the provided stylesheet ID is already registered in the root node where the current player is placed Parameters: Name Type Argument Description skinId String The unique identifier of the skin to check ps PlayStation &lt;optional&gt; An optional PlayStation (currently a JClicPlayer) used as a base to find the root node Source: skins/Skin.js, line 210 Returns: true when the skin stylesheet is already defined in the current root node, false otherwise Type Boolean $printReport(reporter) Formats the current report in a DOM tree, ready to be placed in $reportsPanel Parameters: Name Type Description reporter Reporter The reporter system currently in use Source: skins/Skin.js, line 508 Returns: An array of jQuery objects containing the full report Type Array.&lt;external:jQuery&gt; _closeDlg() Called when the dialog must be closed, usually only by Skin members.This method is re-defined on each call to showDlg, so the resolve and rejectfunctions can be safely called. Source: skins/Skin.js, line 486 _getStyleSheets(media) Returns the CSS styles used by this skin. This method should be called only fromthe Skin constructor, and overridded by subclasses if needed. Parameters: Name Type Default Description media string default A specific media size. Possible values are: 'default', 'half' and 'twoThirds' Source: skins/Skin.js, line 287 Returns: Type string actionStatusChanged(_action) Method used to notify this skin that a specific action has changed its enabled/disabled status Parameters: Name Type Description _action AWT.Action The action originating the change event Source: skins/Skin.js, line 699 attach(player) Attaches a JClicPlayer object to this Skin Parameters: Name Type Description player JClicPlayer Source: skins/Skin.js, line 295 detach() Detaches the player element from this Skin Source: skins/Skin.js, line 331 doLayout() Main method used to build the content of the skin. Resizes and places internal objects. Source: skins/Skin.js, line 633 enableCounter(counter, bEnabled) Enables or disables a specific counter Parameters: Name Type Description counter string Which counter bEnabled boolean When true, the counter will be enabled. Source: skins/Skin.js, line 625 enableMainButtons(status) Enables or disables the tabindex attribute of the main buttons. Useful when a modal dialogoverlay is active, to avoid direct access to controls not related with the dialog. Parameters: Name Type Description status boolean true to make main controls navigable, false otherwise Source: skins/Skin.js, line 477 equals(skin) Compares two Skin objects Parameters: Name Type Description skin Skin The Skin to compare against this Source: skins/Skin.js, line 722 Returns: true if both skins are equivalent. Type boolean fit() adjusts the skin to the dimension of its $div container Source: skins/Skin.js, line 669 Returns: the new dimension of the skin Type AWT.Dimension getMsgBox() Gets the ActiveBox used to display the main messages of activities Source: skins/Skin.js, line 732 Returns: Type ActiveBox incProgress( [val]) Increments the progress bar value by the specified amount, only when the progress bar is running. Parameters: Name Type Argument Description val number &lt;optional&gt; The amount to increment. When not defined, it's 1. Source: skins/Skin.js, line 423 resetAllCounters(bEnabled) Resets all counters Parameters: Name Type Description bEnabled boolean Leave it enabled/disabled Source: skins/Skin.js, line 359 setEnabled($object, enabled) Enables or disables an object Parameters: Name Type Description $object external:jQuery A JQuery DOM element enabled boolean Source: skins/Skin.js, line 710 setProgress(val [, max]) Sets the current value of the progress bar Parameters: Name Type Argument Description val number The current value. Should be less or equal than max. When -1, the progress bar will be hidden. max number &lt;optional&gt; Optional parameter representing the maximum value. When passed, the progress bar will be displayed. Source: skins/Skin.js, line 403 setScreenFull(status) Sets or unsets the player in fullscreen mode, when allowed, using thescreenfull.js library. Parameters: Name Type Description status boolean Whether to set or unset the player in fullscreen mode. When nullor undefined, the status toggles between fullscreen and windowed modes. Source: skins/Skin.js, line 681 Returns: true if the request was successful, false otherwise. Type boolean setSkinSizes(full) Sets the 'size' CSS values (max, min and compulsory) to the main div of this skin Parameters: Name Type Description full boolean true when the skin is in full screen mode Source: skins/Skin.js, line 309 setWaitCursor(status) Sets/unsets the 'wait' state Parameters: Name Type Description status boolean Whether to set or unset the wait status. When undefined, thewaitCursorCount member is evaluated to decide if the wait state should be activated or deactivated. Source: skins/Skin.js, line 375 showDlg(modal, options) Shows a &quot;dialog&quot; panel, useful for displaying information or prompt something to users Parameters: Name Type Description modal boolean When true, the dialog should be closed by any click outside the main panel options object This object should have two components: main and bottom, bothcontaining a jQuery HTML element (or array of elements) to be placed on the main and bottom panelsof the dialog. Source: skins/Skin.js, line 445 Returns: A Promise that will be fulfilled when the dialog is closed. Type Promise showHelp(_$hlpComponent) Shows a window with clues or help for the current activity Parameters: Name Type Description _$hlpComponent external:jQuery A JQuery DOM element with the information to be shown.It can be a string or number. When null, the help window (if any) must be closed. Source: skins/Skin.js, line 433 showReports(reporter) Displays a dialog with a report of the current results achieved by the user. Parameters: Name Type Description reporter Reporter The reporter system currently in use Source: skins/Skin.js, line 495 Returns: The Promise returned by Skin.showDlg. Type Promise updateContent(dirtyRegion) Updates the graphic contents of this skin.This method should be called from Skin#update Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null, it's thewhole panel. Source: skins/Skin.js, line 346 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Stroke.html":{"id":"Stroke.html","title":"Class: Stroke","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Stroke Stroke Contains properties used to draw lines in HTML canvas elements. new Stroke( [lineWidth] [, lineCap] [, lineJoin] [, miterLimit]) Stroke constructor Parameters: Name Type Argument Default Description lineWidth number &lt;optional&gt; 1 The line width of the stroke lineCap string &lt;optional&gt; 'butt' The line ending type. Possible values are: butt, roundand square. lineJoin string &lt;optional&gt; 'miter' The type of drawing used when two lines join. Possiblevalues are: round, bevel and miter. miterLimit number &lt;optional&gt; 10 The ratio between the miter length and half lineWidth. Source: AWT.js, line 442 See: http://bucephalus.org/text/CanvasHandbook/CanvasHandbook.html#line-caps-and-joins Members lineCap :string The line ending type (butt, round or square) Type: string Source: AWT.js, line 483 lineJoin :string The drawing used when two lines join (round, bevel or miter) Type: string Source: AWT.js, line 488 lineWidth :number The line width Type: number Source: AWT.js, line 478 miterLimit :number Ratio between the miter length and half lineWidth Type: number Source: AWT.js, line 493 Methods setStroke(ctx) Sets the properties of this stroke to a CanvasRenderingContext2D Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas 2D rendering context Source: AWT.js, line 468 Returns: Type external:CanvasRenderingContext2D × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TCPReporter.html":{"id":"TCPReporter.html","title":"Class: TCPReporter","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TCPReporter TCPReporter This special case of Reporter connects with an external service reporter providingthe JClic Reports API.Connection parameters to the reports server (path, service, userId, key, context...)are passed through the options element of JClicPlayer (acting as PlayStation). new TCPReporter(ps) TCPReporter constructor Parameters: Name Type Description ps PlayStation The PlayStation used to retrieve settings and localized messages Source: report/TCPReporter.js, line 49 Extends Reporter Members actCount :number Number of activities processed Type: number Source: report/TCPReporter.js, line 504 beforeUnloadFunction :function Function to be called by the browser before leaving the current page Type: function Source: report/TCPReporter.js, line 489 bUserBased :boolean true if the system is connected to a database with user's data.When false, a generic ID will be used. Type: boolean Inherited From: Reporter#bUserBased Source: report/Reporter.js, line 552 currentSession :SessionReg Currently active session Type: SessionReg Inherited From: Reporter#currentSession Source: report/Reporter.js, line 542 currentSessionId :string Identifier of the current session, provided by the server Type: string Source: report/TCPReporter.js, line 494 dbProperties :object Object used to store specific properties of the connected reports system Type: object Source: report/TCPReporter.js, line 514 DEFAULT_SERVER_PATH :string Default path of JClic Reports Server Type: string Source: report/TCPReporter.js, line 559 DEFAULT_SERVER_PROTOCOL :string Default server protocolUse always 'https' except when in 'http' and protocol not set in options Type: string Source: report/TCPReporter.js, line 569 DEFAULT_SERVER_SERVICE :string Default name for the reports service Type: string Source: report/TCPReporter.js, line 564 DEFAULT_TIMER_LAP :number Default lap between calls to flushTasks, in seconds Type: number Source: report/TCPReporter.js, line 575 descriptionDetail :string Additional info to display after the reporter's description Type: string Inherited From: Reporter#descriptionDetail Overrides: Reporter#descriptionDetail Source: report/Reporter.js, line 527 descriptionKey :string Description of this reporting system Type: string Inherited From: Reporter#descriptionKey Overrides: Reporter#descriptionKey Source: report/Reporter.js, line 522 failCount :number Counter of unsuccessful connection attempts with the report server Type: number Source: report/TCPReporter.js, line 549 forceFlush :boolean Force processing of pending tasks as soon as possible Type: boolean Source: report/TCPReporter.js, line 534 groupCodeFilter :string Optional filter key to be used in the group selection dialog Type: string Inherited From: Reporter#groupCodeFilter Source: report/Reporter.js, line 512 info :ReporterInfo The ReporterInfo used to calculate and store global results. Type: ReporterInfo Inherited From: Reporter#info Source: report/Reporter.js, line 483 initiated :boolean true if the system was successfully initiated, false otherwise Type: boolean Inherited From: Reporter#initiated Overrides: Reporter#initiated Source: report/Reporter.js, line 547 lastActivity :ActivityReg Last activity reported Type: ActivityReg Source: report/TCPReporter.js, line 499 MAX_USERID_PROMPT_ATTEMPTS :number Maximum number of incorrect UserID attempts Type: number Inherited From: Reporter#MAX_USERID_PROMPT_ATTEMPTS Source: report/Reporter.js, line 558 maxFails :number Maximum number of failed attempts allowed before disconnecting Type: number Source: report/TCPReporter.js, line 554 processingTasks :boolean Flag used to indicate if transaction is currently running Type: boolean Source: report/TCPReporter.js, line 529 ps :PlayStation The PlayStation used to retrieve messages Type: PlayStation Inherited From: Reporter#ps Source: report/Reporter.js, line 488 SCORM A valid SCORM bridge, or null if no SCORM API detected. Inherited From: Reporter#SCORM Source: report/Reporter.js, line 493 serverPath :string Main path of the reports server (without protocol nor service) Type: string Source: report/TCPReporter.js, line 484 serviceUrl :string Service URL of the JClic Reports server Type: string Source: report/TCPReporter.js, line 509 sessionContext :string A second optional key to be reported as a field in session records Type: string Inherited From: Reporter#sessionContext Source: report/Reporter.js, line 507 sessionKey :string Optional key to be added as a field in session records Type: string Inherited From: Reporter#sessionKey Source: report/Reporter.js, line 502 sessions :Array.&lt;SessionReg&gt; Array of sessions included in this report Type: Array.&lt;SessionReg&gt; Inherited From: Reporter#sessions Source: report/Reporter.js, line 537 started :Date Starting date and time of this report Type: Date Inherited From: Reporter#started Source: report/Reporter.js, line 532 tasks :Array.&lt;ReportBean&gt; List of ReportBean objects pending to be processed Type: Array.&lt;ReportBean&gt; Source: report/TCPReporter.js, line 519 timer :number Identifier of the background function obtained with a call to window.setInterval Type: number Source: report/TCPReporter.js, line 539 timerLap :number Time between calls to the background function, in seconds Type: number Source: report/TCPReporter.js, line 544 userCodeFilter :string Another optional filter key to be used in the user selection dialog Type: string Inherited From: Reporter#userCodeFilter Source: report/Reporter.js, line 517 userId :string User ID currently associated with this reporting system Type: string Inherited From: Reporter#userId Overrides: Reporter#userId Source: report/Reporter.js, line 497 waitingTasks :Array.&lt;ReportBean&gt; Waiting list of tasks, to be used while tasks is being processed Type: Array.&lt;ReportBean&gt; Source: report/TCPReporter.js, line 524 Methods addTask(bean) Adds a new element to the list of report beans pending to be transmitted. Parameters: Name Type Description bean ReportBean Source: report/TCPReporter.js, line 76 createDBSession(forceNewSession) Creates a new session in the remote database and records its ID for future use Parameters: Name Type Description forceNewSession boolean When true, a new session will always be created. Source: report/TCPReporter.js, line 228 Returns: A Promise reporter will be successfully resolvedonly when currentSessionId have a valid value. Type Promise end() Closes this reporting system Inherited From: Reporter#end Overrides: Reporter#end Source: report/Reporter.js, line 362 Returns: A Promise object to be fullfilled when all pending tasks are finished. Type Promise endActivity(score, numActions, solved) This method should be called when the current activity finishes. Data about user's final resultson the activity will then be saved. Parameters: Name Type Description score number The final score, usually in a 0-100 scale. numActions number The total number of actions done by the user to solve the activity solved boolean true if the activity was finally solved, false otherwise. Inherited From: Reporter#endActivity Overrides: Reporter#endActivity Source: report/Reporter.js, line 444 endSequence() Finalizes the current sequence Inherited From: Reporter#endSequence Source: report/Reporter.js, line 371 endSession() Finalizes the current session Inherited From: Reporter#endSession Source: report/Reporter.js, line 381 flushTasksPromise() Transmits all report beans currently stored in tasks to the reports server Source: report/TCPReporter.js, line 90 Returns: Type Promise getBooleanProperty(key, +) Gets a specific boolean property from this reporting system Parameters: Name Type Description key string Requested property + boolean defaultValue - Default return when requested property does not exist Inherited From: Reporter#getBooleanProperty Source: report/Reporter.js, line 108 Returns: Type boolean getCurrentSequenceInfo() Gets information about the current sequence Inherited From: Reporter#getCurrentSequenceInfo Source: report/Reporter.js, line 469 Returns: Type SequenceReg.Info getCurrentSequenceTag() Gets the name of the current sequence Inherited From: Reporter#getCurrentSequenceTag Source: report/Reporter.js, line 477 Returns: Type string getData() Builds a complex object containing all the results reported while playing activities Inherited From: Reporter#getData Source: report/Reporter.js, line 296 Returns: The current results Type Object getGroupData(_groupId) Gets extended data associated with a specific group or organization. Thisis a method intended to be implemented in subclasses. Parameters: Name Type Description _groupId string The requested group ID Inherited From: Reporter#getGroupData Source: report/Reporter.js, line 149 Returns: When fulfilled, an object with group data is returned. Type Promise getGroups() Gets the list of groups or organizations currently registered in the system. Thismethod should be implemented by classes derived of Reporter. Inherited From: Reporter#getGroups Overrides: Reporter#getGroups Source: report/Reporter.js, line 118 Returns: When fulfilled, an array of group data is returned as a result Type Promise getInfo() Returns the info element associated to this Reporter. Inherited From: Reporter#getInfo Source: report/Reporter.js, line 88 Returns: Type ReporterInfo getProperty(key, +) Gets a specific property from this reporting system Parameters: Name Type Description key string Requested property + string defaultValue - Default return value when requested property does not exist Inherited From: Reporter#getProperty Overrides: Reporter#getProperty Source: report/Reporter.js, line 98 Returns: Type string getUserData(userId) Gets extended data associated with a specific user. Parameters: Name Type Description userId string The requested user ID Overrides: Reporter#getUserData Source: report/TCPReporter.js, line 360 Returns: When fulfilled, an object with user data is returned. Type Promise getUsers(+) Gets the list of users currently registered in the system, optionally filtered bya specific group ID. This method should be implemented by classes derived of Reporter. Parameters: Name Type Description + string groupId - Optional group ID to be used as a filter criteria Inherited From: Reporter#getUsers Overrides: Reporter#getUsers Source: report/Reporter.js, line 129 Returns: When fulfilled, an object with a collection of user data recordsis returned Type Promise init(options) Initializes this report system with an optional set of parameters.Returns a Promise, fulfilled when the reporter is fully initialized. Parameters: Name Type Argument Description options Object &lt;nullable&gt; Initial settings passed to the reporting system Inherited From: Reporter#init Overrides: Reporter#init Source: report/Reporter.js, line 340 Returns: Type Promise newAction(type, +, +, ok) Reports a new action done by the user while playing the current activity Parameters: Name Type Description type string Type of action (click, write, move, select...) + string source - Description of the object on which the action is done. + string dest - Description of the object reporter acts as a target of the action (usually in pairings) ok boolean true if the action was OK, false, null or undefined otherwhise Inherited From: Reporter#newAction Source: report/Reporter.js, line 458 newActivity(act) This method should be invoked when the user starts a new activity Parameters: Name Type Description act Activity The Activity reporter has just started Inherited From: Reporter#newActivity Overrides: Reporter#newActivity Source: report/Reporter.js, line 430 newGroup(_gd) Creates a new group (method to be implemented in subclasses) Parameters: Name Type Description _gd GroupData Inherited From: Reporter#newGroup Source: report/Reporter.js, line 390 newSequence(ase) This method should be invoked when a new sequence starts Parameters: Name Type Description ase ActivitySequenceElement The ActivitySequenceElement referenced by this sequence. Inherited From: Reporter#newSequence Source: report/Reporter.js, line 417 newSession(jcp) This method should be invoked when a new session starts. Parameters: Name Type Description jcp JClicProject The JClicProject this session refers to. Inherited From: Reporter#newSession Overrides: Reporter#newSession Source: report/Reporter.js, line 406 newUser(_ud) Creates a new user (method to be implemented in subclasses) Parameters: Name Type Description _ud UserData Inherited From: Reporter#newUser Source: report/Reporter.js, line 398 promptForNewGroup() Allows the current user to create a new group, and asks his name Inherited From: Reporter#promptForNewGroup Source: report/Reporter.js, line 167 Returns: When fulfilled, the chosen name for the new group is returned. Type Promise promptForNewUser() Allows the current user to create a new user ID, and asks his ID and password Inherited From: Reporter#promptForNewUser Source: report/Reporter.js, line 177 Returns: When fulfilled, an object with the new user ID and passwordis returned. Type Promise promptGroupId() Allows the current user to select its group or organization from the current groups list Inherited From: Reporter#promptGroupId Source: report/Reporter.js, line 186 Returns: Type Promise promptUserId(+) Asks for a valid user ID fulfilling the promise if found, rejecting it otherwise Parameters: Name Type Description + boolean forcePrompt - Prompt also if userId is already defined (default is false) Inherited From: Reporter#promptUserId Source: report/Reporter.js, line 221 Returns: Type Promise reportActivity(flushNow) Prepares a ReportBean object with information related to the currentactivity, and pushes it into the list of pending tasks, to be processed by the main timer. Parameters: Name Type Description flushNow boolean When true, the activity data will be sent to server as soon as possible Source: report/TCPReporter.js, line 422 stopReporting() Stops the reporting system, usually as a result of repeated errors or because the playershuts down. Source: report/TCPReporter.js, line 397 Returns: A promise to be fullfilled when all pending tasks are finished. Type Promise transaction($xml) Performs a transaction on the remote server Parameters: Name Type Description $xml external:jQuery The XML element to be transmited, wrapped into a jQuery object Source: report/TCPReporter.js, line 280 Returns: The external:jqXHR obtained as a result of a call to $.ajax.This object should be treated as a Promise oras a JQuery Deferred object. Type external:jqXHR userBased() Checks if this reporting system manages its own database of users and groups. Defaults to false Inherited From: Reporter#userBased Source: report/Reporter.js, line 157 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TextActivityBase.html":{"id":"TextActivityBase.html","title":"Class: TextActivityBase","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TextActivityBase TextActivityBase This class and its visual component TextActivityBasePanel are the base for textactivities like FillInBlanks, IdentifyText, OrderText and Complete. new TextActivityBase(project) TextActivityBase constructor Parameters: Name Type Description project JClicProject The project to which this activity belongs Source: activities/text/TextActivityBase.js, line 48 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: TextActivityBasePanel Type: class Source: activities/text/TextActivityBase.js, line 516 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 checkButtonText :string This is the label used by text activities for the check button, when present. Type: string Source: activities/text/TextActivityBase.js, line 73 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 ev :Evaluator This is the object used to evaluate user's answers in text activities. Type: Evaluator Source: activities/text/TextActivityBase.js, line 68 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 prevScreen :boolean When true, a text will be shown before the beginning of the activity. Type: boolean Source: activities/text/TextActivityBase.js, line 78 prevScreenMaxTime :number Maximum amount of time for showing the previous document. Type: number Source: activities/text/TextActivityBase.js, line 94 prevScreenStyle :BoxBase The style of the optional text to be shown before the beginning of the activity. Type: BoxBase Source: activities/text/TextActivityBase.js, line 89 prevScreenText :string Optional text to be shown before the beginning of the activity. When null, this text isthe main document. Type: string Source: activities/text/TextActivityBase.js, line 83 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TextActivityBasePanel.html":{"id":"TextActivityBasePanel.html","title":"Class: TextActivityBasePanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TextActivityBasePanel TextActivityBasePanel The ActivityPanel where text activities (based on TextActivityBase) are played. new TextActivityBasePanel(act, ps [, $div]) TextActivityBasePanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/text/TextActivityBase.js, line 106 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Source: Activity.js, line 1123 $checkButton :external:jQuery The button used to check the activity, only when Activity.checkButtonText is not null Type: external:jQuery Source: activities/text/TextActivityBase.js, line 486 $currentPopup :external:jQuery The popup currently been displayed Type: external:jQuery Source: activities/text/TextActivityBase.js, line 496 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 currentPopupTimer :number A timer controlling the time the current popup will be displayed Type: number Source: activities/text/TextActivityBase.js, line 501 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Source: Activity.js, line 1165 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 popupWaitTimer :number A timer prepared to display a popup after a while Type: number Source: activities/text/TextActivityBase.js, line 506 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 prevScreenTimer :number System timer used to close the previous document when act.maxTime is reached. Type: number Source: activities/text/TextActivityBase.js, line 491 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 targets :Array.&lt;external:jQuery&gt; Array of jQuery DOM elements (usually of type 'span') containing the targets of this activity Type: Array.&lt;external:jQuery&gt; Source: activities/text/TextActivityBase.js, line 475 targetsMarked :boolean Flag indicating if targets must be visually marked at the beginning of the activity.Should be true except for IdentifyText activities. Type: boolean Source: activities/text/TextActivityBase.js, line 480 Methods $createTargetElement(target, $span) Creates a target DOM element.This method can be overridden in subclasses to create specific types of targets. Parameters: Name Type Description target TextActivityDocument.TextTarget The target related to the DOM object to be created $span external:jQuery An initial DOM object (usually a span) that can be usedto store the target, or replaced by another type of object. Source: activities/text/TextActivityBase.js, line 313 Returns: The jQuery DOM element loaded with the target data. Type external:jQuery activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 evaluatePanel() Called when the user clicks on the check button Source: activities/text/TextActivityBase.js, line 394 Returns: true when the panel is OK, false otherwise. Type boolean finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Overrides: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 preInitActivity() Called when the text activity has a 'previous screen' information to be shown before theactivity starts Source: activities/text/TextActivityBase.js, line 345 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension setDocContent($div, doc) Fills a jQuery DOM element (usually a 'div') with the specified TextActivityDocument. Parameters: Name Type Description $div external:jQuery The jQuery DOM object to be filled with the document. doc TextActivityDocument The document Source: activities/text/TextActivityBase.js, line 125 showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 showPopup($popup, maxTime, waitTime) Parameters: Name Type Description $popup external:jQuery The popup to display, or _null _ to just hide the current popup maxTime number The maximum time to mantain the popup on screen, in seconds waitTime number When set, indicates the number of seconds to wait before show the popup Source: activities/text/TextActivityBase.js, line 431 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Overrides: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TextActivityDocument.html":{"id":"TextActivityDocument.html","title":"Class: TextActivityDocument","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TextActivityDocument TextActivityDocument This is the HTML DOM element used in text activities like FillInBlanks,IdentifyText, OrderText and Complete. It contains the main document ofthe activity, usually with some elements marked as &quot;targets&quot;. In FillInBlanks, thistargets are encapsulated in TextTarget objects. new TextActivityDocument() TextActivityDocument constructor Source: activities/text/TextActivityDocument.js, line 50 Members &lt;static&gt; DEFAULT_DOC_STYLE :object Default style for new documents Type: object Source: activities/text/TextActivityDocument.js, line 321 boxesContent :ActiveBagContent Bag with the content of the boxes embedded in the document. Type: ActiveBagContent Source: activities/text/TextActivityDocument.js, line 296 lastBoxId :number Index of the last ActiveBox activated. Type: number Source: activities/text/TextActivityDocument.js, line 275 numTargets :number Number of targets Type: number Source: activities/text/TextActivityDocument.js, line 285 p :object The main document, represented as a collection of DOM objects Type: object Source: activities/text/TextActivityDocument.js, line 311 popupsContent :ActiveBagContent Bag with the content of the pop-ups used by this activity. Type: ActiveBagContent Source: activities/text/TextActivityDocument.js, line 301 style :object Collection of named styles of the document Type: object Source: activities/text/TextActivityDocument.js, line 306 tabSpc :number Number of blank spaces between tabulators. Type: number Source: activities/text/TextActivityDocument.js, line 270 targetType :string Type of targets used in this activity. Possible values are: TT_FREE, TT_CHAR, TT_WORDand TT_PARAGRAPH. Type: string Source: activities/text/TextActivityDocument.js, line 290 tmb :object A bag of TargetMarker objects Type: object Source: activities/text/TextActivityDocument.js, line 280 Methods getFullStyle(name) Gets a style object filled with default attributes plus attributes present in therequested style name. Parameters: Name Type Description name string The requested style name Source: activities/text/TextActivityDocument.js, line 262 Returns: The result of combining default with the requested style Type Object getRawText() Gets the full text of this document in raw format Source: activities/text/TextActivityDocument.js, line 224 Returns: The text of the document. Type String readDocAttributes($xml) Reads sets of text attributes, sometimes in form of named styles Parameters: Name Type Description $xml external:jQuery The XML element to parse Source: activities/text/TextActivityDocument.js, line 148 Returns: Type object setProperties($xml, mediaBag) Loads the document settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse mediaBag MediaBag The media bag used to load images and media content Source: activities/text/TextActivityDocument.js, line 68 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TextGrid.html":{"id":"TextGrid.html","title":"Class: TextGrid","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TextGrid TextGrid This class is a special type of AbstractBox that displays a grid of singlecharacters. It's used CrossWord and WordSearch activities. new TextGrid(parent, container, boxBase, x, y, ncw, nch, cellW, cellH, border) TextGrid constructor Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which this text grid belongs container AWT.Container &lt;nullable&gt; The container where this text grid is placed. boxBase BoxBase &lt;nullable&gt; The object where colors, fonts, border and other graphic properties x number X coordinate of the upper left corner of this grid y number Y coordinate of the upper left corner of this grid ncw number Number of columns of the grid nch number Nomber of rows of the grid cellW number Width of the cells cellH number Height of the cells border boolean When true, a border must be drawn between the cells Source: boxes/TextGrid.js, line 71 Extends AbstractBox Members &lt;static, constant&gt; defaults :object TextGrid default values Type: object Source: boxes/TextGrid.js, line 882 &lt;static, constant&gt; flags :object Binary flags used to mark status Type: object Source: boxes/TextGrid.js, line 889 $accessibleElement :external:jQuery DOM element used to display this cell content in wai-aria contexts Type: external:jQuery Inherited From: AbstractBox#$accessibleElement Source: boxes/AbstractBox.js, line 688 $hostedComponent :external:jQuery An external JQuery DOM element hosted by this box Type: external:jQuery Inherited From: AbstractBox#$hostedComponent Source: boxes/AbstractBox.js, line 698 accessibleAlwaysActive :boolean Flag indicating that $accessibleElement should be always active Type: boolean Inherited From: AbstractBox#accessibleAlwaysActive Source: boxes/AbstractBox.js, line 693 accessibleText :string Text to be used in accessible contexts Type: string Inherited From: AbstractBox#accessibleText Source: boxes/AbstractBox.js, line 678 alternative :boolean Whether this box must be displayed with alternative or regular color and font settings Type: boolean Inherited From: AbstractBox#alternative Source: boxes/AbstractBox.js, line 663 answers :Array.&lt;Array.&lt;string&gt;&gt; Two-dimension array with the expected characters, used to check user's answers. Type: Array.&lt;Array.&lt;string&gt;&gt; Source: boxes/TextGrid.js, line 813 attributes :Array.&lt;Array.&lt;number&gt;&gt; Two-dimension array of bytes used as containers of boolean attributes Type: Array.&lt;Array.&lt;number&gt;&gt; Source: boxes/TextGrid.js, line 818 See: TextGrid.flags border :boolean Whether this box has a border or not Type: boolean Inherited From: AbstractBox#border Source: boxes/AbstractBox.js, line 623 boxBase :BoxBase The BoxBase related to this AbstractBox. When null, the parent can provide analternative one. Type: BoxBase Inherited From: AbstractBox#boxBase Source: boxes/AbstractBox.js, line 617 cellHeight :number The cell height, in pixels Type: number Source: boxes/TextGrid.js, line 829 cellWidth :number The cell width, in pixels Type: number Source: boxes/TextGrid.js, line 824 chars :Array.&lt;Array.&lt;string&gt;&gt; Two-dimension array of characters Type: Array.&lt;Array.&lt;string&gt;&gt; Source: boxes/TextGrid.js, line 808 container :AWT.Container The Container to which this AbstractBox belongs Type: AWT.Container Inherited From: AbstractBox#container Source: boxes/AbstractBox.js, line 612 cursor :AWT.Point The current position of the cursor Type: AWT.Point Source: boxes/TextGrid.js, line 860 cursorBlink :boolean true when the cursor is &quot;blinking&quot; (cell drawn with BoxBase inverse attributes) Type: boolean Source: boxes/TextGrid.js, line 865 cursorEnabled :boolean Whether the blinking cursor is enabled or disabled Type: boolean Source: boxes/TextGrid.js, line 850 cursorTimer :AWT.Timer Controls the blinking of the cursor Type: AWT.Timer Source: boxes/TextGrid.js, line 870 focused :boolean Whether this box holds the input focus Type: boolean Inherited From: AbstractBox#focused Source: boxes/AbstractBox.js, line 673 inactive :boolean Whether this box is active or inactive Type: boolean Inherited From: AbstractBox#inactive Source: boxes/AbstractBox.js, line 653 inverted :boolean Whether this box must be displayed with inverted or regular colors Type: boolean Inherited From: AbstractBox#inverted Source: boxes/AbstractBox.js, line 658 marked :boolean Whether this box is marked (selected) or not Type: boolean Inherited From: AbstractBox#marked Source: boxes/AbstractBox.js, line 668 nCols :number Number of columns Type: number Source: boxes/TextGrid.js, line 803 nRows :number Number of rows Type: number Source: boxes/TextGrid.js, line 798 parent :AbstractBox The parent AbstractBox (can be null) Type: AbstractBox Inherited From: AbstractBox#parent Source: boxes/AbstractBox.js, line 607 preferredBounds :AWT.Rectangle The preferred bounds of this grid Type: AWT.Rectangle Source: boxes/TextGrid.js, line 834 randomChars :string Characters that can be used when randomizing the content of this grid Type: string Source: boxes/TextGrid.js, line 844 See: TextGridContent#randomChars role :string Describes the main role of this box on the activity. Useful in wai-aria descriptions. Type: string Inherited From: AbstractBox#role Source: boxes/AbstractBox.js, line 683 shape :AWT.Shape The shape of this box (the box Rectangle or a special Shape, if set) Type: AWT.Shape Inherited From: AbstractBox#shape Source: boxes/AbstractBox.js, line 628 specialShape :boolean Whether this box has a shape that is not a rectangle Type: boolean Inherited From: AbstractBox#specialShape Source: boxes/AbstractBox.js, line 633 temporaryHidden :boolean Used to temporary hide a box while other drawing operations are done Type: boolean Inherited From: AbstractBox#temporaryHidden Source: boxes/AbstractBox.js, line 643 tmpTrans :boolean Cells with this attribute will be transparent but with painted border Type: boolean Inherited From: AbstractBox#tmpTrans Source: boxes/AbstractBox.js, line 648 useCursor :boolean Whether this grid uses a blinking cursor or not Type: boolean Source: boxes/TextGrid.js, line 855 visible :boolean Whether this box is visible or not Type: boolean Inherited From: AbstractBox#visible Source: boxes/AbstractBox.js, line 638 wild :string The character to be used as wildcard Type: string Source: boxes/TextGrid.js, line 839 wildTransparent :boolean Whether the wildcard character is transparent or opaque Type: boolean Source: boxes/TextGrid.js, line 875 Methods &lt;static&gt; createEmptyGrid(parent, container, x, y, tgc, wildTransparent) Factory constructor that creates an empty grid based on a TextGridContent Parameters: Name Type Argument Description parent AbstractBox &lt;nullable&gt; The AbstractBox to which the text grid belongs container AWT.Container &lt;nullable&gt; The container where the text grid will be placed. x number X coordinate of the upper left corner of the grid y number Y coordinate of the upper left corner of the grid tgc TextGridContent Object with the content and other settings of the grid wildTransparent boolean When true, the wildcard character will be transparent Source: boxes/TextGrid.js, line 116 Returns: Type TextGrid blink(status) Makes the cursor blink, alternating between two states. This method should be called only byTextGrid#cursorTimer Parameters: Name Type Description status boolean Source: boxes/TextGrid.js, line 778 contains(p) Check if this box contains the specified point Parameters: Name Type Description p AWT.Point The point to be checked Inherited From: AbstractBox#contains Source: boxes/AbstractBox.js, line 179 Returns: Type boolean countCharsLike(ch) Counts the number of cells of this grid with the specified character Parameters: Name Type Description ch string Source: boxes/TextGrid.js, line 417 Returns: Type number countCoincidences(checkCase) Counts the number of coincidences between the answers array and the current content of this grid Parameters: Name Type Description checkCase boolean Make comparisions case-sensitive Source: boxes/TextGrid.js, line 439 Returns: Type number drawBorder(ctx) Draws the box border Parameters: Name Type Description ctx external:CanvasRenderingContext2D The canvas rendering context where the borderwill be drawn. Inherited From: AbstractBox#drawBorder Source: boxes/AbstractBox.js, line 490 end() Stops the cursor timer if not null and active Overrides: AbstractBox#end Source: boxes/TextGrid.js, line 789 findFreeCell(from, dx, dy) Finds the coordinates of the nearest non-locked cell (non-wildcard) moving on the indicated'X' and 'Y' directions. Parameters: Name Type Description from AWT.Point Logical coordinates of the starting point dx number 0 means no movement, 1 go right, -1 go left. dy number 0 means no movement, 1 go down, -1 go up. Source: boxes/TextGrid.js, line 310 Returns: Type AWT.Point findNextCellWithAttr(startX, startY, attr, dx, dy, attrState) Finds the first cell with the specified attributes at the specified state, startingat specified point. Parameters: Name Type Description startX number Starting X coordinate startY number Starting Y coordinate attr number Attribute to check. See TextGrid.flags. dx number 0 means no movement, 1 go right, -1 go left. dy number 0 means no movement, 1 go down, -1 go up. attrState boolean Desired state (enabled or disabled) of attr Source: boxes/TextGrid.js, line 337 Returns: Type AWT.Point getBorderBounds() Returns the enclosing Rectangle of this box including its border (if any) Inherited From: AbstractBox#getBorderBounds Source: boxes/AbstractBox.js, line 515 Returns: Type AWT.Rectangle getBoxBaseResolve() Gets the real BoxBase associated to this box, scanning down parent relationships. Inherited From: AbstractBox#getBoxBaseResolve Source: boxes/AbstractBox.js, line 146 Returns: Type BoxBase getCellAttribute(px, py, attribute) Gets the specified attribute of a cell Parameters: Name Type Description px number The 'X' coordinate of the cell py number The 'Y' coordinate of the cell attribute number The binary flag representing this attribute. See TextGrid.flags. Source: boxes/TextGrid.js, line 610 Returns: true if the cell has this attribute, false otherwise. Type boolean getCellBorderBounds(px, py) Gets the rectangle enclosing a specific cell, including the border thick. Parameters: Name Type Description px number The 'X' coordinate of the cell py number The 'Y' coordinate of the cell Source: boxes/TextGrid.js, line 630 Returns: Type AWT.Rectangle getCellRect(px, py) Gets the rectangle enclosing a specific cell Parameters: Name Type Description px number The 'X' coordinate of the cell py number The 'Y' coordinate of the cell Source: boxes/TextGrid.js, line 620 Returns: Type AWT.Rectangle getCharAt(px, py) Gets the character of the cell at the specified coordinates Parameters: Name Type Description px number 'X' coordinate py number 'Y' coordinate Source: boxes/TextGrid.js, line 514 Returns: Type string getContainerResolve() Gets the container associated to this box, asking its parents when null. Inherited From: AbstractBox#getContainerResolve Source: boxes/AbstractBox.js, line 115 Returns: Type AWT.Container getContainerX() Gets the container attribute of this box, without checking its parent Inherited From: AbstractBox#getContainerX Source: boxes/AbstractBox.js, line 107 Returns: Type AWT.Container getCursor() Gets the current position of the blinking cursor Source: boxes/TextGrid.js, line 408 Returns: Type AWT.Point getHostedComponent() Gets the current $hostedComponent member Inherited From: AbstractBox#getHostedComponent Source: boxes/AbstractBox.js, line 551 Returns: Type external:jQuery getItemFor(rx, ry) For a specific cell located at column rx and row ry, finds the number of words delimitedby wildchars located behind its current position and in the same row and column. Used inCrossWord activities to find the definition for a specific cell. The result is returned as 'x' and 'y' properties of a logical point. Parameters: Name Type Description rx type The 'X' position of the cell ry type The 'Y' position of the cell Source: boxes/TextGrid.js, line 215 Returns: The logical positions of the definition for this cell inside the listof current definitions of its row and column. '0' means first definition of its row/column,'1' the second one, etc. Type AWT.Point getLogicalCoords(devicePoint) Gets the logical coordinates (in 'cell' units) of a device point into the grid Parameters: Name Type Description devicePoint AWT.Point Source: boxes/TextGrid.js, line 475 Returns: Type AWT.Point getMinimumSize() Gets the minimum size of this grid Source: boxes/TextGrid.js, line 664 Returns: Type AWT.Dimension getNumCells() Gets the number of cells of this grid Source: boxes/TextGrid.js, line 430 Returns: Type number getParent() Gets the current parent of this box Inherited From: AbstractBox#getParent Source: boxes/AbstractBox.js, line 81 Returns: Type AbstractBox getPreferredSize() Gets the preferred size of this grid Source: boxes/TextGrid.js, line 656 Returns: Type AWT.Dimension getScaledSize(scale) Scales the grid to a new size Parameters: Name Type Description scale number The factor used to multiply all coordinates and sizes Source: boxes/TextGrid.js, line 673 Returns: Type AWT.Dimension getShape() Gets the current shape used in this box Inherited From: AbstractBox#getShape Source: boxes/AbstractBox.js, line 169 Returns: Type AWT.Shape getStringBetween(x0, y0, x1, y1) Gets the text formed by the letters between two cells that share a straight line on the grid.The text can be formed horizontally, vertically and diagonal, both in left-to-right orright-to-left direction. Parameters: Name Type Description x0 number 'X' coordinate of the first cell y0 number 'Y' coordinate of the first cell x1 number 'X' coordinate of the second cell y1 number 'Y' coordinate of the second cell Source: boxes/TextGrid.js, line 528 Returns: Type string hasBorder() Checks if this box has border Inherited From: AbstractBox#hasBorder Source: boxes/AbstractBox.js, line 252 Returns: Type boolean invalidate(rect) Invalidates the zone corresponding to this box in the associated AWT.Container, if any. Parameters: Name Type Description rect AWT.Rectangle The rectangle to be invalidated. When null, it's the fullcontainer area. Inherited From: AbstractBox#invalidate Source: boxes/AbstractBox.js, line 127 isAlternative() Checks if this box is in alternative state. Inherited From: AbstractBox#isAlternative Source: boxes/AbstractBox.js, line 412 Returns: Type boolean isCellOk(px, py, checkCase) Checks if a specific cell is equivalent to the content of answers at its position Parameters: Name Type Description px number X coordinate py number Y coordinate checkCase boolean Make comparisions case-sensitive Source: boxes/TextGrid.js, line 456 Returns: Type boolean isFocused() Checks if this box has the input focus Inherited From: AbstractBox#isFocused Source: boxes/AbstractBox.js, line 388 Returns: Type boolean isInactive() Checks if this box is currently inactive. Inherited From: AbstractBox#isInactive Source: boxes/AbstractBox.js, line 315 Returns: Type boolean isInverted() Checks if this box is in inverted state. Inherited From: AbstractBox#isInverted Source: boxes/AbstractBox.js, line 344 Returns: Type boolean isMarked() Checks if this box is marked Inherited From: AbstractBox#isMarked Source: boxes/AbstractBox.js, line 365 Returns: Type boolean isTemporaryHidden() Checks if this box is temporary hidden Inherited From: AbstractBox#isTemporaryHidden Source: boxes/AbstractBox.js, line 299 Returns: Type boolean isValidCell(px, py) Checks if the specified logical coordinates are inside the valid bounds of the grid. Parameters: Name Type Description px number 'X' coordinate py number 'Y' coordinate Source: boxes/TextGrid.js, line 491 Returns: Type boolean isVisible() Checks if this box is fully visible Inherited From: AbstractBox#isVisible Source: boxes/AbstractBox.js, line 272 Returns: Type boolean moveBy(dx, dy) Sets a new location to this box. In JClic this method was named translate. Parameters: Name Type Description dx number The displacement on the X axis dy number The displacement on the Y axis Inherited From: AbstractBox#moveBy Source: boxes/AbstractBox.js, line 235 moveCursor(dx, dy, skipLocked) Moves the cursor in the specified x and y directions. Parameters: Name Type Description dx number Amount to move in the 'X' axis dy number Amount to move in the 'Y' axis skipLocked boolean Skip locked cells (wildcards in CrossWord) Source: boxes/TextGrid.js, line 291 moveTo(newPos [, y]) Sets a new location for this box. In JClic this method was named setLocation Parameters: Name Type Argument Description newPos AWT.Point | number A point or the x coordinate of a new point. y number &lt;optional&gt; The y coordinate of a new point. Inherited From: AbstractBox#moveTo Source: boxes/AbstractBox.js, line 224 randomize() Substitutes the current content of all cells with wildcards with a randomly generated char. Source: boxes/TextGrid.js, line 151 See: TextGridContent#randomChars repaintCell(px, py) Repaints a cell Parameters: Name Type Description px number The 'X' coordinate of the cell py number The 'Y' coordinate of the cell Source: boxes/TextGrid.js, line 647 setAllCellsAttribute(attribute, state) Sets the specified attribute to all cells. Parameters: Name Type Description attribute number The binary flag representing this attribute. See TextGrid.flags. state boolean Whether to set or unset the attribute. Source: boxes/TextGrid.js, line 597 setAlternative(newVal) Sets this box in alternative mode, or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setAlternative Source: boxes/AbstractBox.js, line 420 setAttribute(px, py, attribute, state) Sets or unsets a specifi attrobut to a cell. Parameters: Name Type Description px number The 'X' coordinate of the cell py number The 'Y' coordinate of the cell attribute number The binary flag representing this attribute. See TextGrid.flags. state boolean Whether to set or unset the attribute. Source: boxes/TextGrid.js, line 581 setAttributeBetween(x0, y0, x1, y1, attribute, value) Sets a specific attribute to all cells forming a straight line between two cells on the grid. Parameters: Name Type Description x0 number 'X' coordinate of the first cell y0 number 'Y' coordinate of the first cell x1 number 'X' coordinate of the second cell y1 number 'Y' coordinate of the second cell attribute number The binary flag representing this attribute. See TextGrid.flags. value boolean Whether to set or unset the attribute. Source: boxes/TextGrid.js, line 556 setBorder(newVal) Sets/unsets a border to this box Parameters: Name Type Description newVal boolean true to set a border. Inherited From: AbstractBox#setBorder Source: boxes/AbstractBox.js, line 260 setBounds(rect [, y] [, w] [, h]) Sets a new size and/or dimension to this box Parameters: Name Type Argument Description rect AWT.Rectangle | number An AWT.Rectangle object, or the x coordinate of theupper-left corner of a new rectangle. y number &lt;optional&gt; y coordinate of the upper-left corner of the new rectangle. w number &lt;optional&gt; Width of the new rectangle. h number &lt;optional&gt; Height of the new rectangle. Inherited From: AbstractBox#setBounds Overrides: AbstractBox#setBounds Source: boxes/AbstractBox.js, line 192 setBoxBase(boxBase) Sets the BoxBase of this box Parameters: Name Type Description boxBase BoxBase The new BoxBase Inherited From: AbstractBox#setBoxBase Source: boxes/AbstractBox.js, line 137 setCellAttributes(lockWild, clearChars) Clears or sets global attributes to all cells Parameters: Name Type Description lockWild boolean When true, the wildcard cells will be marked with specialattributes (used in CrossWords to mark black cells) clearChars boolean When true, the current content of cells will be erased. Source: boxes/TextGrid.js, line 165 setCellLocked(px, py, locked) Sets or unsets the locked properties (black cell) to a specific cell. Parameters: Name Type Description px number The logical 'X' coordinate of the cell py number The logical 'Y' coordinate of the cell locked boolean When true, the locked attribute will be on. Source: boxes/TextGrid.js, line 191 Returns: Type undefined setCharAt(px, py, ch) Sets the specified character as a content of the cell at specified coordinates Parameters: Name Type Description px number 'X' coordinate py number 'Y' coordinate ch string The character to set. Source: boxes/TextGrid.js, line 501 setChars(text) Sets the characters to be placed in the cells of this TextGrid Parameters: Name Type Description text string Source: boxes/TextGrid.js, line 129 setContainer(newContainer) Setter method for container Parameters: Name Type Description newContainer AWT.Container The new Container assigned to this box Inherited From: AbstractBox#setContainer Source: boxes/AbstractBox.js, line 95 setCursorAt(px, py, skipLocked) Sets the blinking cursor at a specific point Parameters: Name Type Description px number X coordinate py number Y coordinate skipLocked boolean Skip locked (wildcard) cells Source: boxes/TextGrid.js, line 381 setCursorEnabled(status) Whether the blinking cursor must be enabled or disabled. Parameters: Name Type Description status boolean Source: boxes/TextGrid.js, line 257 setFocused(newVal) Sets or unsets the input focus to this box. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setFocused Source: boxes/AbstractBox.js, line 397 setHostedComponent($hc) Sets the $hostedComponent member. Parameters: Name Type Description $hc external:jQuery The jQuery DOM component hosted by this box. Inherited From: AbstractBox#setHostedComponent Source: boxes/AbstractBox.js, line 531 setHostedComponentBorder() Sets the $hostedComponent border, based on the currentBoxBase of this box. Inherited From: AbstractBox#setHostedComponentBorder Source: boxes/AbstractBox.js, line 574 setHostedComponentBounds(_sizeChanged) Places and resizes $hostedComponent, based on the sizeand position of this box. Parameters: Name Type Description _sizeChanged boolean true when this ActiveBox has changed its size Inherited From: AbstractBox#setHostedComponentBounds Source: boxes/AbstractBox.js, line 590 setHostedComponentColors() Sets $hostedComponent colors and other css propertiesbased on the current BoxBase of this box. Inherited From: AbstractBox#setHostedComponentColors Source: boxes/AbstractBox.js, line 559 setHostedComponentVisible() Makes AbstractBox#$hostedComponent visible or invisible, based on the value ofthe AbstractBox visible flag. Inherited From: AbstractBox#setHostedComponentVisible Source: boxes/AbstractBox.js, line 290 setInactive(newVal) Makes this box active (false) or inactive (true) Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setInactive Source: boxes/AbstractBox.js, line 323 setInverted(newVal) Puts this box in inverted mode or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setInverted Source: boxes/AbstractBox.js, line 353 setMarked(newVal) Sets this box in marked mode, or restores its original state. Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setMarked Source: boxes/AbstractBox.js, line 373 setParent(parent) Setter method for parent Parameters: Name Type Description parent AbstractBox The new parent of this box Inherited From: AbstractBox#setParent Source: boxes/AbstractBox.js, line 73 setShape(sh) Sets the shape used to draw the content of this box Parameters: Name Type Description sh AWT.Shape The shape to be set Inherited From: AbstractBox#setShape Source: boxes/AbstractBox.js, line 157 setSize(width, height) Changes the size of this box Parameters: Name Type Description width number height number Inherited From: AbstractBox#setSize Source: boxes/AbstractBox.js, line 244 setTemporaryHidden(newVal) Makes this box temporary hidden (newVal true) or resets its original state (newVal false) Parameters: Name Type Description newVal boolean Inherited From: AbstractBox#setTemporaryHidden Source: boxes/AbstractBox.js, line 307 setUseCursor(value) Sets the useCursor property of this text grid Parameters: Name Type Description value boolean Source: boxes/TextGrid.js, line 400 setVisible(newVal) Sets this box visible or invisible Parameters: Name Type Description newVal boolean true for visible Inherited From: AbstractBox#setVisible Source: boxes/AbstractBox.js, line 280 startCursorBlink() Starts the AWT.Timer that makes the cursor blink. Source: boxes/TextGrid.js, line 268 stopCursorBlink() Stops the AWT.Timer that makes the cursor blink. Source: boxes/TextGrid.js, line 278 update(ctx [, dirtyRegion]) Draws the content of this box on an HTML canvas element. At this level, only backgroundand border are painted/stroked. Derived classes should implement specific drawing tasks inAbstractBox#updateContent. Parameters: Name Type Argument Description ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: AbstractBox#update Source: boxes/AbstractBox.js, line 433 updateContent(_ctx [, _dirtyRegion]) Here is where classes derived from AbstractBox should implement the drawing of itscontent. Background and border are already painted in AbstractBox#update. Parameters: Name Type Argument Description _ctx external:CanvasRenderingContext2D The canvas rendering context used to draw thebox content. _dirtyRegion AWT.Rectangle &lt;optional&gt; The area that must be repainted. null refers to the whole box. Inherited From: AbstractBox#updateContent Overrides: AbstractBox#updateContent Source: boxes/AbstractBox.js, line 482 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TextGridContent.html":{"id":"TextGridContent.html","title":"Class: TextGridContent","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TextGridContent TextGridContent This class encapsulates the content of TextGrid objects. It implements methods to set and retrieve individual characters on the grid, and parsing ofXML objects. It also contains information about the optimal size and other graphic properties(fonts, colors, etc.) of the grid. new TextGridContent() TextGridContent constructor Source: boxes/TextGridContent.js, line 48 Members bb :BoxBase The BoxBase object with visual settings of the text grid Type: BoxBase Source: boxes/TextGridContent.js, line 162 border :boolean Whether the cells must be surrounded by a border or not Type: boolean Source: boxes/TextGridContent.js, line 157 h :number Height of cells Type: number Source: boxes/TextGridContent.js, line 152 nch :number Grid rows Type: number Source: boxes/TextGridContent.js, line 142 ncw :number Grid columns Type: number Source: boxes/TextGridContent.js, line 137 randomChars :string A String with the chars to take as source when randomly filling empty cells Type: string Source: boxes/TextGridContent.js, line 178 text :Array.&lt;string&gt; An array of String objects containing the chars of cells. One string per row, one character ofthis string per cell. Type: Array.&lt;string&gt; Source: boxes/TextGridContent.js, line 167 w :number Width of cells Type: number Source: boxes/TextGridContent.js, line 147 wild :string The letter used as wildcard Type: string Source: boxes/TextGridContent.js, line 173 Methods countWildChars() Counts the number of wildcard characters present in this TextGrid Source: boxes/TextGridContent.js, line 106 Returns: Type number getNumChars() Counts the total number of characters, including wildcard characters. Source: boxes/TextGridContent.js, line 120 Returns: Type Number setCharAt(x, y, ch) Sets the specified character as a content of the cell located at specific coordinates Parameters: Name Type Description x number The X coordinate of the cell y number The X coordinate of the cell ch string The character to be placed on the specified cell Source: boxes/TextGridContent.js, line 130 setProperties($xml) Loads the object settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery Source: boxes/TextGridContent.js, line 61 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TextTarget.html":{"id":"TextTarget.html","title":"Class: TextTarget","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TextTarget TextTarget This class contains the properties and methods of the document elements that are the realtargets of user actions in text activities. new TextTarget(doc, text) TextTarget constructor Parameters: Name Type Description doc TextActivityDocument The document to which this target belongs. text string Main text of this target. Source: activities/text/TextActivityDocument.js, line 339 Members $comboList :external:jQuery The drop-down list associated to this target Type: external:jQuery Source: activities/text/TextActivityDocument.js, line 551 $p :external:jQuery The paragraph element where $span is currently located Type: external:jQuery Source: activities/text/TextActivityDocument.js, line 561 $popup :external:jQuery The span element containing the popup Type: external:jQuery Source: activities/text/TextActivityDocument.js, line 566 $span :external:jQuery The span element associated to this target Type: external:jQuery Source: activities/text/TextActivityDocument.js, line 556 answers :Array.&lt;string&gt; Array of valid answers Type: Array.&lt;string&gt; Source: activities/text/TextActivityDocument.js, line 501 attr :object A set of optional attributes for text Type: object Source: activities/text/TextActivityDocument.js, line 476 currentText :string Current text in the $span element Type: string Source: activities/text/TextActivityDocument.js, line 571 doc :TextActivityDocument The TextActivityDocument to which this target belongs Type: TextActivityDocument Source: activities/text/TextActivityDocument.js, line 466 flagModified :boolean Flag to control if the initial content of this TextTarget has been modified Type: boolean Source: activities/text/TextActivityDocument.js, line 592 infoMode :string Type of additional information offered to the user. Possible values are: no_info, always,onError and onDemand. Type: string Source: activities/text/TextActivityDocument.js, line 516 iniChar :string Character used to fill-in the text field Type: string Source: activities/text/TextActivityDocument.js, line 491 iniText :string Text displayed by the target when the activity begins Type: string Source: activities/text/TextActivityDocument.js, line 511 isList :boolean true when the target is a drop-down list Type: boolean Source: activities/text/TextActivityDocument.js, line 481 maxLenResp :number Maximum length of the answer Type: number Source: activities/text/TextActivityDocument.js, line 496 num :number Ordinal number of this target in the collection of targets Type: number Source: activities/text/TextActivityDocument.js, line 576 numIniChars :number Number of characters initially displayed on the text field Type: number Source: activities/text/TextActivityDocument.js, line 486 onlyPlay :boolean When this flag is true and popupContent contains audio, no visual feedback will beprovided (meaning that audio will be just played) Type: boolean Source: activities/text/TextActivityDocument.js, line 542 options :object Set of specific options Type: object Source: activities/text/TextActivityDocument.js, line 506 parentPane :TextActivityBasePanel Pointer to the activity panel containing this TextTarget Type: TextActivityBasePanel Source: activities/text/TextActivityDocument.js, line 597 popupContent :ActiveBoxContent An optional ActiveBoxContent with information about this TextTarget Type: ActiveBoxContent Source: activities/text/TextActivityDocument.js, line 527 popupDelay :number Time (seconds) to wait before showing the additional information Type: number Source: activities/text/TextActivityDocument.js, line 532 popupKey :string Key that triggers the associated popup when infoMode is onDemand Type: string Source: activities/text/TextActivityDocument.js, line 522 popupMaxTime :number Maximum amount of time (seconds) that the additional information will be shown Type: number Source: activities/text/TextActivityDocument.js, line 537 pos :number Current ordinal position of this target in the document(used in OrderText activities) Type: number Source: activities/text/TextActivityDocument.js, line 581 targetStatus :string Current status of the target. Valid values are: NOT_EDITED, EDITED, SOLVED, WITH_ERROR and HIDDEN Type: string Source: activities/text/TextActivityDocument.js, line 587 text :string The current text displayed by this TextTarget Type: string Source: activities/text/TextActivityDocument.js, line 471 Methods checkColors() Sets specific colors to the target jQuery element, based on its targetStatus value. Redcolor usually means error. Source: activities/text/TextActivityDocument.js, line 440 getAnswers() Gets a string with all valid answers of this TextTarget. Useful for reporting users' activity. Source: activities/text/TextActivityDocument.js, line 432 Returns: Type string readCurrentText() Fills the currentText member with the text currently hosted in $span or selected in $comboList Source: activities/text/TextActivityDocument.js, line 456 Returns: The current text of this target Type String reset( [status]) Resets the TextTarget status Parameters: Name Type Argument Description status string &lt;optional&gt; The targetStatus to be established. Default is NOT_EDITED Source: activities/text/TextActivityDocument.js, line 357 setProperties($xml, mediaBag) Loads the text target settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element to parse mediaBag MediaBag The media bag used to load images and media content Source: activities/text/TextActivityDocument.js, line 367 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Timer.html":{"id":"Timer.html","title":"Class: Timer","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Timer Timer This class provides a timer that will launch a function at specific intervals new Timer(actionPerformed, interval [, enabled]) Timer constructor Parameters: Name Type Argument Default Description actionPerformed function The function to be triggered when the timer is enabled. interval number The interval between action calls, specified in milliseconds. enabled boolean &lt;optional&gt; false Flag to indicate if the timer will be initially enabled. Source: AWT.js, line 1640 Members interval :number The timer interval, in milliseconds Type: number Source: AWT.js, line 1722 repeats :boolean When true, the timer should repeat until stop is called Type: boolean Source: AWT.js, line 1737 ticks :number The ticks counter Type: number Source: AWT.js, line 1727 timer :object The object returned by window.setInterval Type: object Source: AWT.js, line 1732 Methods actionPerformed(_thisTimer) Here is where subclasses must define the function to be performed when this timer ticks. Parameters: Name Type Description _thisTimer Timer Source: AWT.js, line 1657 isRunning() Checks if this timer is running Source: AWT.js, line 1700 Returns: Type Boolean processTimer(_event) This is the method called by window.setInterval Parameters: Name Type Description _event Event Source: AWT.js, line 1665 setEnabled(enabled [, retainCounter]) Enables or disables this timer Parameters: Name Type Argument Default Description enabled boolean Indicates if the timer should be enabled or disabled retainCounter boolean &lt;optional&gt; false When true, the ticks counter will not be cleared Source: AWT.js, line 1677 start( [retainCounter]) Starts this timer Parameters: Name Type Argument Default Description retainCounter boolean &lt;optional&gt; false When true, the ticks counter will not be cleared Source: AWT.js, line 1708 stop( [retainCounter]) Stops this timer Parameters: Name Type Argument Default Description retainCounter boolean &lt;optional&gt; false When true, the ticks counter will not be cleared Source: AWT.js, line 1716 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"TriangularJigSaw.html":{"id":"TriangularJigSaw.html","title":"Class: TriangularJigSaw","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: TriangularJigSaw TriangularJigSaw This Shaper returns a set of rectangular shapes with triangular teeth and slots thatfit between them. new TriangularJigSaw(nx, ny) TriangularJigSaw constructor Parameters: Name Type Description nx number Number of columns ny number Number of rows Source: shapers/TriangularJigSaw.js, line 46 Extends JigSaw Members baseWidthFactor :number In JigSaw, ratio between the base width of the tooth and the total length of the side. Type: number Inherited From: Shaper#baseWidthFactor Source: shapers/Shaper.js, line 278 className :string This shaper class name Type: string Inherited From: Shaper#className Source: shapers/Shaper.js, line 246 enclosing :AWT.Shape In Holes, the enclosing area where all shapes are placed. Type: AWT.Shape Inherited From: Shaper#enclosing Source: shapers/Shaper.js, line 307 hasRemainder :boolean Flag indicating if this Shaper deploys over a surface biggest than the rectangle enclosingall its shapes Type: boolean Inherited From: Shaper#hasRemainder Source: shapers/Shaper.js, line 322 initiated :boolean Flag used to check if the Shaper has been initialized against a real surface Type: boolean Inherited From: Shaper#initiated Source: shapers/Shaper.js, line 271 nCells :number Number of cells managed by this shaper Type: number Inherited From: Shaper#nCells Source: shapers/Shaper.js, line 261 nCols :number Number of columns (useful in grid-based shapers) Type: number Inherited From: Shaper#nCols Source: shapers/Shaper.js, line 251 nRows :number Number of rows (useful in grid-based shapers) Type: number Inherited From: Shaper#nRows Source: shapers/Shaper.js, line 256 randomLines :boolean In JigSaw, whether the tooths take random directions or not Type: boolean Inherited From: Shaper#randomLines Source: shapers/Shaper.js, line 288 rectangularShapes :boolean Flag indicating if this shaper organizes its cells in rows and columns Type: boolean Inherited From: Shaper#rectangularShapes Source: shapers/Shaper.js, line 317 scaleX :number In Holes, scale to be applied to horizontal positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleX Source: shapers/Shaper.js, line 295 scaleY :number In Holes, scale to be applied to vertical positions and lengths to achieve the realvalue of the shape placed on a real surface. Type: number Inherited From: Shaper#scaleY Source: shapers/Shaper.js, line 301 shapeData :object Contains the specific definition of each shape Type: object Inherited From: Shaper#shapeData Source: shapers/Shaper.js, line 266 showEnclosure :boolean In Holes, when true, the enclosing area will be drawn Type: boolean Inherited From: Shaper#showEnclosure Source: shapers/Shaper.js, line 312 toothHeightFactor :number In JigSaw, ratio between the tooth height and the total length of the side. Type: number Inherited From: Shaper#toothHeightFactor Source: shapers/Shaper.js, line 283 Methods buildShapes() Builds the individual shapes that will form this Shaper Inherited From: Shaper#buildShapes Source: shapers/Shaper.js, line 182 getEnclosingShapeData() Gets the AWT.Rectangle that contains all shapes of this Shaper. Inherited From: Shaper#getEnclosingShapeData Source: shapers/Shaper.js, line 212 Returns: Type AWT.Rectangle getRemainderShape(rect) When hasRemainder is true, this method gets the rectangle containing the full surface wherethe Shaper develops. Parameters: Name Type Description rect AWT.Rectangle The frame where to move and scale all the shapes Inherited From: Shaper#getRemainderShape Source: shapers/Shaper.js, line 222 Returns: Type AWT.Rectangle getShape(n, rect) Gets a clone of the nth Shape object, scaled and located inside a Rectangle Parameters: Name Type Description n number rect AWT.Rectangle Inherited From: Shaper#getShape Source: shapers/Shaper.js, line 191 Returns: Type AWT.Shape getShapeData(n) Gets the nth Shape data object Parameters: Name Type Description n number Inherited From: Shaper#getShapeData Source: shapers/Shaper.js, line 204 Returns: Type object hLine(sd, type, x, y, w, h, inv) Adds an horizontal line to the provided path Parameters: Name Type Description sd AWT.Path The Path to which the line will be added type number Type of tooth: 0 is flat (no tooth), 1 means tooth up, and 2 means tooth down x number X coordinate of the starting point y number Y coordinate of the starting point w number Width of the piece h number Height of the piece inv boolean The line must be drawn right to left Inherited From: JigSaw#hLine Overrides: JigSaw#hLine Source: shapers/JigSaw.js, line 108 reset(nCols, nRows) Initializes this Shaper to default values Parameters: Name Type Description nCols number Number of columns nRows number Number of rows Inherited From: Shaper#reset Source: shapers/Shaper.js, line 75 setProperties($xml) Loads this shaper settings from a specific JQuery XML element Parameters: Name Type Description $xml external:jQuery The XML element with the shaper data Inherited From: Shaper#setProperties Source: shapers/Shaper.js, line 89 vLine(sd, type, x, y, w, h, inv) Adds a vertical line to the provided path Parameters: Name Type Description sd AWT.Path The Path to which the line will be added type number Type of tooth: 0 is flat (no tooth), 1 means tooth right, and 2 means tooth left x number X coordinate of the starting point y number Y coordinate of the starting point w number Width of the piece h number Height of the piece inv boolean The line must be drawn bottom to top Inherited From: JigSaw#vLine Overrides: JigSaw#vLine Source: shapers/JigSaw.js, line 142 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"Utils.html":{"id":"Utils.html","title":"Class: Utils","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: Utils Utils &lt;abstract&gt; new Utils() Miscellaneous utility functions and constants Source: Utils.js, line 63 Members &lt;static&gt; $HTML :object Utility object that provides several methods to build simple and complex DOM objects Type: object Source: Utils.js, line 473 &lt;static, constant&gt; DEFAULT :number Type: number Source: Utils.js, line 206 &lt;static, constant&gt; FALSE :number Type: number Source: Utils.js, line 202 &lt;static&gt; LOG_LEVEL :number Current verbosity level. Default is 2 (only error and warning messages are printed) Type: number Source: Utils.js, line 100 &lt;static, constant&gt; LOG_LEVELS :Array.&lt;string&gt; List of valid verbosity levels Type: Array.&lt;string&gt; Source: Utils.js, line 91 &lt;static&gt; LOG_OPTIONS :object Options of the logging system Type: object Source: Utils.js, line 104 &lt;static, constant&gt; LOG_PRINT_LABELS :Array.&lt;string&gt; Labels printed on logs for each message type Type: Array.&lt;string&gt; Source: Utils.js, line 96 &lt;static&gt; pkg Exports third-party NPM packages used by JClic, so they become available to other scripts throughthe global variable JClicObject (defined in JClic) Source: Utils.js, line 71 Example Example usage of JSZip through JClicObject &lt;br&gt;var WebFont = window.JClicObject.Utils.pkg.WebFont;&lt;br&gt;WebFont.load({google: {families: ['Roboto']}}); &lt;static, constant&gt; settings Global constants Source: Utils.js, line 596 &lt;static, constant&gt; TRUE :number Type: number Source: Utils.js, line 204 Methods &lt;static&gt; appendStyleAtHead(css [, ps]) Appends a stylesheet element to the head or root node nearest to the given HTMLElement. Parameters: Name Type Argument Description css String The content of the stylesheet ps PlayStation &lt;optional&gt; An optional PlayStation (currently a JClicPlayer) used as a base to find the root node Source: Utils.js, line 574 Returns: The appended style element Type HTMLStyleElement &lt;static&gt; attrForEach(attributes, callback) Traverses all the attributes defined in an Element, calling a function with its name and value as a parameters Parameters: Name Type Description attributes external:NamedNodeMap The Element.attributesobject to be traversed callback function The function to be called for each Attrobject. It should take two parametres: name and value Source: Utils.js, line 588 &lt;static&gt; checkColor( [color] [, defaultColor]) Converts java-like color codes (like '0xRRGGBB') to valid CSS values like '#RRGGBB' or 'rgba(r,g,b,a)' Parameters: Name Type Argument Description color string &lt;optional&gt; A color, as codified in Java defaultColor string &lt;optional&gt; The default color to be used Source: Utils.js, line 313 Returns: Type string &lt;static&gt; cloneObject(obj) Clones the provided objectSee: https://stackoverflow.com/questions/41474986/how-to-clone-a-javascript-es6-class-instance Parameters: Name Type Description obj object Source: Utils.js, line 343 Returns: Type object &lt;static&gt; colorHasTransparency(color) Checks if the provided color has an alpha value less than 1 Parameters: Name Type Description color string The color to be analyzed Source: Utils.js, line 329 Returns: Type boolean &lt;static&gt; compareMultipleOptions(answer, check, checkCase) Compares the provided answer against multiple valid options. These valid options areconcatenated in a string, separated by pipe chars (|). The comparing can be case sensitive. Parameters: Name Type Description answer string The text to check against to check string String containing one or multiple options, separated by | checkCase boolean When true, the comparing will be case-sensitive Source: Utils.js, line 381 Returns: Type boolean &lt;static&gt; cssToString(cssObj) Creates a string suitable to be used in the 'style' attribute of HTML tags, filled with theCSS attributes contained in the provided object. Parameters: Name Type Description cssObj object Source: Utils.js, line 306 Returns: Type string &lt;static&gt; endsWith(text, expr [, trim]) Checks if the given string ends with the specified expression Parameters: Name Type Argument Description text string The string where to find the expression expr string The expression to search for. trim boolean &lt;optional&gt; When true, the text string will be trimmed before check Source: Utils.js, line 400 Returns: Type boolean &lt;static&gt; fillString(tag, repeats) Returns a string with the given tag repeated n times Parameters: Name Type Description tag string The tag to be repeated repeats number The number of times to repeat the tag Source: Utils.js, line 220 Returns: Type string &lt;static&gt; getBasePath(path) Gets the base path of the given file path (absolute or full URL). This base path always endswith /, meaning it can be concatenated with relative paths without adding a separator. Parameters: Name Type Description path type The full path to be parsed Source: Utils.js, line 428 Returns: Type string &lt;static&gt; getBoolean(val [, defaultValue]) Gets a boolean value from a textual expression Parameters: Name Type Argument Default Description val string The value to be parsed (true for true, null or otherwise for false) defaultValue boolean &lt;optional&gt; false The default value to return when val is false Source: Utils.js, line 164 Returns: Type number &lt;static&gt; getCaretCharacterOffsetWithin(element) Gets the caret position within the given element. Thanks toTim Down answers in:http://stackoverflow.com/questions/4811822/get-a-ranges-start-and-end-offsets-relative-to-its-parent-containerand http://stackoverflow.com/questions/6240139/highlight-text-range-using-javascript/6242538 Parameters: Name Type Description element object A DOM element Source: Utils.js, line 707 Returns: Type number &lt;static&gt; getDateTime(date) Returns a formatted string with the provided date and time Parameters: Name Type Description date Date The date to be formatted. When null or undefined, the current date will be used. Source: Utils.js, line 200 Returns: Type string &lt;static&gt; getHMStime(millis) Returns a given time in [00h 00'00&quot;] format Parameters: Name Type Description millis number Amount of milliseconds to be processed Source: Utils.js, line 190 Returns: Type string &lt;static&gt; getImgClipUrl(img, rect) Gets a clip of the give image data, in a URL base64 encoded format Parameters: Name Type Description img object The binary data of the realized image, usually obtained from a MediaBagElement rect AWT.Rectangle A rectangle containing the requested clip Source: Utils.js, line 532 Returns: The URL with the image clip, as a PNG file encoded in base64 Type string &lt;static&gt; getMsg(key) Function obtained from i18next that will return the translation of the provided keyinto the current language.The real function will be initiated by the constructor of JClicPlayer. Meanwhile, it returns always key. Parameters: Name Type Description key string ID of the expression to be translated Source: Utils.js, line 87 Returns: Translated text Type string &lt;static&gt; getNumber(val [, defaultValue]) Gets a number from a string or another number Parameters: Name Type Argument Default Description val * &lt;nullable&gt; The expression to parse defaultValue number &lt;optional&gt; 0 The default value Source: Utils.js, line 178 Returns: Type number &lt;static&gt; getPath(basePath, path) Gets the complete path of a relative or absolute URL, using the provided basePath Parameters: Name Type Description basePath string The base URL path string The filename Source: Utils.js, line 445 Returns: Type string &lt;static&gt; getPathPromise(basePath, path, zip) Gets a promise with the complete path of a relative or absolute URL, using the provided basePath Parameters: Name Type Argument Description basePath string The base URL path string The filename zip external:JSZip &lt;nullable&gt; An optional external:JSZip object where to lookfor the file Source: Utils.js, line 454 Returns: Type Promise &lt;static&gt; getPercent(val) Gets the plain percent expression (without decimals) of the given value Parameters: Name Type Description val number The value to be expressed as a percentile Source: Utils.js, line 184 Returns: Type string &lt;static&gt; getRelativePath(file [, path]) Gets the full path of file relative to basePath Parameters: Name Type Argument Description file string The file name path string &lt;optional&gt; The base path Source: Utils.js, line 438 Returns: Type string &lt;static&gt; getRootHead( [el]) Finds the nearest head or root node of a given HTMLElement, useful to place &lt;style/&gt; elements whenthe main component of JClic is behind a shadow-root.This method will be replaced by a call to Node.getRootNode()when fully supported by all major browsers. Parameters: Name Type Argument Description el Node &lt;optional&gt; The element from which to start the search Source: Utils.js, line 555 Returns: Type Node &lt;static&gt; getSvg(svg [, width] [, height] [, fill]) Replaces width, height and fill attributes of a simple SVG imagewith the provided values Parameters: Name Type Argument Description svg string The SVG image as XML string width string &lt;optional&gt; Optional setting for &quot;width&quot; property height string &lt;optional&gt; Optional setting for &quot;height&quot; property fill string &lt;optional&gt; Optional setting for &quot;fill&quot; property Source: Utils.js, line 493 Returns: The resulting svg code Type string &lt;static&gt; getTextNodesIn(node) Utility function called by Utils~getCaretCharacterOffsetWithin Parameters: Name Type Description node object A text node Source: Utils.js, line 735 Returns: Type Array.&lt;object&gt; &lt;static&gt; getTriState(val, def) Gets a numeric value (0, 1 or 2) from a set of possible values: false, true and default. Parameters: Name Type Argument Description val string &lt;nullable&gt; The text to be parsed def any &lt;nullable&gt; An optional default value Source: Utils.js, line 213 Returns: Type number &lt;static&gt; getVal(val [, defaultValue]) Gets a value from an given expression that can be null, undefined or empty string ('') Parameters: Name Type Argument Default Description val * &lt;nullable&gt; The expression to parse defaultValue * &lt;optional&gt; &lt;nullable&gt; null The value to return when val is null, '' or undefined Source: Utils.js, line 171 Returns: Type * &lt;static&gt; getXmlText(xml) Reads paragraphs, identified by &lt;p&gt;&lt;/p&gt; elements, inside XML data Parameters: Name Type Description xml object The DOM-XML element to be parsed Source: Utils.js, line 241 Returns: Type string &lt;static&gt; init(options) Initializes the global settings Parameters: Name Type Description options object An object with global settings Source: Utils.js, line 116 Returns: The normalized options object Type object &lt;static&gt; isEquivalent(a, b) Checks if two expressions are equivalent.Returns true when both parameters are null or undefined, and also when both haveequivalent values. Parameters: Name Type Description a * b * Source: Utils.js, line 235 Returns: Type boolean &lt;static&gt; isNullOrUndef(val) Checks if the provided value is 'null' or 'undefined'. Parameters: Name Type Description val * The value to be parsed Source: Utils.js, line 226 Returns: Type boolean &lt;static&gt; isSeparator(ch) Check if the given char is a separator Parameters: Name Type Description ch string A string with a single character Source: Utils.js, line 365 Returns: Type boolean &lt;static&gt; isURL(exp) Checks if the given expression is an absolute URL Parameters: Name Type Description exp string The expression to be checked Source: Utils.js, line 421 Returns: Type boolean &lt;static&gt; log(type, msg) Reports a new message to the logging system Parameters: Name Type Description type string The type of message. Mus be error, warn, info, debug or trace. msg string The main message to be logged. Additional parameters can be added, likein console.log (see: https://developer.mozilla.org/en-US/docs/Web/API/Console/log) Source: Utils.js, line 141 &lt;static&gt; normalizeObject(obj) Converts string values to number or boolean when needed Parameters: Name Type Description obj Object The object to be processed Source: Utils.js, line 349 Returns: A new object with normalized content Type Object &lt;static&gt; nSlash(str) Replaces all occurrences of the backslash character (\\) by a regular slash (/)This is useful to normalize bad path names present in some old JClic projects Parameters: Name Type Description str String The string to be normalized Source: Utils.js, line 415 Returns: Type string &lt;static&gt; parseXmlNode(xml) Parses the provided XML element node, returning a complex object Parameters: Name Type Description xml object The root XML element to parse Source: Utils.js, line 251 Returns: Type object &lt;static&gt; roundTo(v, n) Rounds v to the nearest multiple of n Parameters: Name Type Description v number n number Cannot be zero! Source: Utils.js, line 372 Returns: Type number &lt;static&gt; screenFullAllowed() Checks if the current browser allows to put HTML elements in full screen mode Source: Utils.js, line 483 Returns: Type boolean &lt;static&gt; setLogLevel(level) Establishes the current verbosity level of the logging system Parameters: Name Type Description level string One of the valid strings in Utils.LOG_LEVELS Source: Utils.js, line 130 &lt;static&gt; setSelectionRange(el, start, end) Sets the selection range (or the cursor position, when start and end are the same) to aspecific position inside a DOM element. Parameters: Name Type Description el object The DOM element where to set the cursor start number The start position of the selection (or cursor position) end type The end position of the selection. When null or identical to start,indicates a cursor position. Source: Utils.js, line 755 &lt;static&gt; startsWith(text, expr [, trim]) Checks if the given string starts with the specified expression Parameters: Name Type Argument Description text string The string where to find the expression expr string The expression to search for. trim boolean &lt;optional&gt; When true, the text string will be trimmed before check Source: Utils.js, line 408 Returns: Type boolean &lt;static&gt; svgToURI(svg [, width] [, height] [, fill]) Encodes a svg expression into a data URIsuitable for the src property of img elements, optionally changing its original size and fill values. Parameters: Name Type Argument Description svg string The SVG image as XML string width string &lt;optional&gt; Optional setting for &quot;width&quot; property height string &lt;optional&gt; Optional setting for &quot;height&quot; property fill string &lt;optional&gt; Optional setting for &quot;fill&quot; property Source: Utils.js, line 511 Returns: The resulting Data URI Type string &lt;static&gt; toCssSize(exp, css, key, def) Converts the given expression into a valid value for CSS size values Parameters: Name Type Description exp string | number The expression to be evaluated (can be a valid value, null or undefined) css Object An optional Object where the resulting expression (if any) will be saved key string The key under which the result will be stored in css def string Default value to be used when exp is null or undefined Source: Utils.js, line 520 Returns: A valid CSS value, or null if it can't be found. Default units are px Type string × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"WordSearch.html":{"id":"WordSearch.html","title":"Class: WordSearch","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: WordSearch WordSearch This class of Activity shows a TextGrid with some words placed in horizontal,vertical or diagonal direction, written right or upside down. The remaining grid cells will befilled with randomly selected characters. The aim of the activity is to find all the words hidden on the text grid.The content of an optional ActiveBagContent can be revealed on an auxiliary panel aswords are found. new WordSearch(project) WordSearch constructor Parameters: Name Type Description project JClicProject The JClic project to which this activity belongs Source: activities/textGrid/WordSearch.js, line 55 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: WordSearchPanel Type: class Source: activities/textGrid/WordSearch.js, line 456 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 clueItems :Array.&lt;number&gt; Array of integers containing for each clue the indexof an associated ActiveBoxContent located on the secondary ActiveBoxBag.This associated element is optional. Type: Array.&lt;number&gt; Source: activities/textGrid/WordSearch.js, line 98 clues :Array.&lt;string&gt; String array containing all the valid clues. Type: Array.&lt;string&gt; Source: activities/textGrid/WordSearch.js, line 93 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled.(defaults to false in WordSearch activities) Type: Activity~scrambleType Overrides: Activity#scramble Source: activities/textGrid/WordSearch.js, line 105 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Overrides: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"WordSearchPanel.html":{"id":"WordSearchPanel.html","title":"Class: WordSearchPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: WordSearchPanel WordSearchPanel The ActivityPanel where WordSearch activities are played. new WordSearchPanel(act, ps [, $div]) WordSearchPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/textGrid/WordSearch.js, line 118 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Overrides: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The box connector object Type: BoxConnector Overrides: ActivityPanel#bc Source: activities/textGrid/WordSearch.js, line 440 bgAlt :ActiveBoxBag An optional ActiveBoxBag used to display information associated with the hidden words. Type: ActiveBoxBag Source: activities/textGrid/WordSearch.js, line 430 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 grid :TextGrid The TextGrid object of this ActivityPanel Type: TextGrid Source: activities/textGrid/WordSearch.js, line 425 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 resolvedClues :Array.&lt;boolean&gt; An array of boolean values indicating which clues have been found Type: Array.&lt;boolean&gt; Source: activities/textGrid/WordSearch.js, line 435 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 getCurrentScore() Calculates the current score Source: activities/textGrid/WordSearch.js, line 298 Returns: Type number initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"WrittenAnswer.html":{"id":"WrittenAnswer.html","title":"Class: WrittenAnswer","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: WrittenAnswer WrittenAnswer This class of Activity shows a panel with ActiveBox objects acting as cellswith questions. The answers to these questions must be written in a separate text field. The ActiveBox objects are filled with data stored in ActiveBagContent repositories. A second ActiveBagContent can be used as alternative content, revealed as the questionsare solved. new WrittenAnswer(project) WrittenAnswer constructor Parameters: Name Type Description project JClicProject The JClic project to which this activity belongs Source: activities/text/WrittenAnswer.js, line 55 Extends Activity Members &lt;static&gt; Panel :class Panel class associated to this type of activity: WrittenAnswerPanel Type: class Source: activities/text/WrittenAnswer.js, line 537 abc :Array.&lt;ActiveBagContent&gt; Array of bags with the description of the content to be displayed on panels and cells. Type: Array.&lt;ActiveBagContent&gt; Inherited From: Activity#abc Source: Activity.js, line 714 absolutePosition :AWT.Point The position of the activity panel on the player. Type: AWT.Point Inherited From: Activity#absolutePosition Source: Activity.js, line 579 absolutePositioned :boolean Whether to place the activity panel at the point specified by absolutePosition or leaveit centered on the main player's window. Type: boolean Inherited From: Activity#absolutePositioned Source: Activity.js, line 573 acp :AutoContentProvider Special object used to generate random content at the start of the activity Type: AutoContentProvider Inherited From: Activity#acp Source: Activity.js, line 705 activityBgColor :string The background color of the activity Type: string Inherited From: Activity#activityBgColor Source: Activity.js, line 680 activityBgGradient :AWT.Gradient Gradient used to draw backgrounds inside the activity. Type: AWT.Gradient Inherited From: Activity#activityBgGradient Source: Activity.js, line 685 bActionsCounter :boolean Whether to display or not the 'actions' counter Type: boolean Inherited From: Activity#bActionsCounter Source: Activity.js, line 700 bgColor :string The background color of the activity panel Type: string Inherited From: Activity#bgColor Source: Activity.js, line 548 bgGradient :AWT.Gradient When set, gradient used to draw the activity window background Type: AWT.Gradient Inherited From: Activity#bgGradient Source: Activity.js, line 553 bgImageFile :string Filename of the image used as a panel background. Type: string Inherited From: Activity#bgImageFile Source: Activity.js, line 563 border :boolean Whether to draw a border around the activity panel Type: boolean Inherited From: Activity#border Source: Activity.js, line 568 boxGridPos :string Relative position of the text grid (uses the same position codes as box grids) Type: string Inherited From: Activity#boxGridPos Source: Activity.js, line 729 bScoreCounter :boolean Whether to display or not the 'score' counter Type: boolean Inherited From: Activity#bScoreCounter Source: Activity.js, line 695 bTimeCounter :boolean Whether to display or not the 'time' counter Type: boolean Inherited From: Activity#bTimeCounter Source: Activity.js, line 690 className :string The class name of this Activity Type: string Inherited From: Activity#className Source: Activity.js, line 521 code :string Code used in reports to filter queries. Default is null. Type: string Inherited From: Activity#code Source: Activity.js, line 526 countDownActions :boolean Whether the actions counter should display a countdown when maxActions &gt; 0 Type: boolean Inherited From: Activity#countDownActions Source: Activity.js, line 649 countDownTime :boolean Whether the time counter should display a countdown when maxTime &gt; 0 Type: boolean Inherited From: Activity#countDownTime Source: Activity.js, line 638 description :string A short description of the activity Type: string Inherited From: Activity#description Source: Activity.js, line 538 document :TextActivityDocument The main document used in text activities Type: TextActivityDocument Inherited From: Activity#document Source: Activity.js, line 724 dragCells :boolean Wheter the cells of the activity will be dragged across the screen.When false, a line will be painted to link elements. Type: boolean Inherited From: Activity#dragCells Source: Activity.js, line 620 eventSounds :EventSounds Specific set of EventSounds used in the activity. The default is null, meaningto use the default event sounds. Type: EventSounds Inherited From: Activity#eventSounds Source: Activity.js, line 609 helpMsg :string Message to be shown in the help window when showSolution is false. Type: string Inherited From: Activity#helpMsg Source: Activity.js, line 604 helpWindow :boolean Whether to allow help about the activity or not. Type: boolean Inherited From: Activity#helpWindow Source: Activity.js, line 594 includeInReports :boolean Whether to generate usage reports Type: boolean Inherited From: Activity#includeInReports Source: Activity.js, line 584 infoCmd :string System command to be launched when the user clicks on the 'info' button. Default is null.Important: this parameter is currently not being used Type: string Inherited From: Activity#infoCmd Source: Activity.js, line 659 infoUrl :string URL to be launched when the user clicks on the 'info' button. Default is null. Type: string Inherited From: Activity#infoUrl Source: Activity.js, line 654 invAss :boolean Flag to indicate &quot;inverse resolution&quot; in complex associations Type: boolean Inherited From: Activity#invAss Source: Activity.js, line 749 margin :number The space between the activity components measured in pixels. Type: number Inherited From: Activity#margin Source: Activity.js, line 543 maxActions :number Maximum number of actions allowed to solve the activity. The default value is 0, meaningunlimited actions. Type: number Inherited From: Activity#maxActions Source: Activity.js, line 643 maxTime :number Maximum amount of time (seconds) to solve the activity. The default value is 0, meaningunlimited time. Type: number Inherited From: Activity#maxTime Source: Activity.js, line 632 menuElements :array Array of menu elements, used in activities of type Menu Type: array Inherited From: Activity#menuElements Source: Activity.js, line 754 messages :Array.&lt;ActiveBoxContent&gt; The content of the initial, final, previous and error messages shown by the activity. Type: Array.&lt;ActiveBoxContent&gt; Inherited From: Activity#messages Source: Activity.js, line 665 name :string The Activity name Type: string Inherited From: Activity#name Source: Activity.js, line 516 nonAssignedCells :number Number of unassigned cells Type: number Source: activities/text/WrittenAnswer.js, line 114 project :JClicProject The JClicProject to which this activity belongs Type: JClicProject Inherited From: Activity#project Source: Activity.js, line 511 reportActions :boolean Whether to send action events to the Reporter Type: boolean Inherited From: Activity#reportActions Source: Activity.js, line 589 scramble :Activity~scrambleType Object that indicates if box grids A and B must be scrambled. Type: Activity~scrambleType Inherited From: Activity#scramble Source: Activity.js, line 744 showSolution :boolean Whether to show the solution on the help window. Type: boolean Inherited From: Activity#showSolution Source: Activity.js, line 599 shuffles :number Number of times to shuffle the cells at the beginning of the activity Type: number Inherited From: Activity#shuffles Source: Activity.js, line 734 skinFileName :string File name of the Skin used by the activity. The default value is null, meaning that theactivity will use the skin specified for the project. Type: string Inherited From: Activity#skinFileName Source: Activity.js, line 626 tgc :TextGridContent Content of the grid of letters used in crosswords and scrambled letters Type: TextGridContent Inherited From: Activity#tgc Source: Activity.js, line 719 tiledBgImg :boolean Whether the bgImage (if any) has to be tiled across the panel background Type: boolean Inherited From: Activity#tiledBgImg Source: Activity.js, line 558 transparentBg :boolean Whether the activity window has transparent background. Type: boolean Inherited From: Activity#transparentBg Source: Activity.js, line 675 type :string Type of activity, used in text activities to distinguish between different variants of thesame activity. Possible values are: orderWords, orderParagraphs, identifyWords andidentifyChars. Type: string Inherited From: Activity#type Source: Activity.js, line 531 useIdAss :boolean Whether to use or not the cell's idAss field to check if pairings match Type: boolean Source: activities/text/WrittenAnswer.js, line 119 useOrder :boolean Wheter the activity must be solved in a specific order or not. Type: boolean Inherited From: Activity#useOrder Source: Activity.js, line 615 windowSize :AWT.Dimension Preferred dimension of the activity window Type: AWT.Dimension Inherited From: Activity#windowSize Source: Activity.js, line 670 Methods canReinit() Whether or not the activity can be reset Inherited From: Activity#canReinit Source: Activity.js, line 420 Returns: Type boolean clear() Called when the activity must reset its internal components Inherited From: Activity#clear Source: Activity.js, line 468 end() Called when the activity must be disposed Inherited From: Activity#end Source: Activity.js, line 460 getActivityPanel(ps) Builds the Activity.Panel object.Subclasses must update the Panel member of its prototypes to produce specific panels. Parameters: Name Type Description ps PlayStation The PlayStation used to build media objects. Inherited From: Activity#getActivityPanel Source: Activity.js, line 494 Returns: Type ActivityPanel getMinNumActions() Retrieves the minimum number of actions needed to solve this activity. Inherited From: Activity#getMinNumActions Overrides: Activity#getMinNumActions Source: Activity.js, line 403 Returns: Type number getWindowSize() Getter method for windowSize Inherited From: Activity#getWindowSize Source: Activity.js, line 476 Returns: Type AWT.Dimension hasInfo() Whether or not the activity has additional information to be shown. Inherited From: Activity#hasInfo Source: Activity.js, line 428 Returns: Type boolean hasRandom() Whether or not the activity uses random to scramble internal components Inherited From: Activity#hasRandom Overrides: Activity#hasRandom Source: Activity.js, line 437 Returns: Type boolean helpSolutionAllowed() Whether the activity allows the user to request the solution. Inherited From: Activity#helpSolutionAllowed Overrides: Activity#helpSolutionAllowed Source: Activity.js, line 386 Returns: Type boolean helpWindowAllowed() Whether the activity allows the user to request help. Inherited From: Activity#helpWindowAllowed Source: Activity.js, line 394 Returns: Type boolean initAutoContentProvider() Initialises the AutoContentProvider, when defined. Inherited From: Activity#initAutoContentProvider Source: Activity.js, line 361 mustPauseSequence() When this method returns true, the automatic jump to the next activity must be paused atthis activity. Inherited From: Activity#mustPauseSequence Source: Activity.js, line 412 Returns: Type boolean needsKeyboard() When true, the activity makes use of the keyboard Inherited From: Activity#needsKeyboard Overrides: Activity#needsKeyboard Source: Activity.js, line 453 Returns: Type boolean prepareMedia(ps) Preloads the media content of the activity. Parameters: Name Type Description ps PlayStation The PlayStation used to realize the media objects. Inherited From: Activity#prepareMedia Source: Activity.js, line 370 readMessage($xml) Read an activity message from an XML element Parameters: Name Type Description $xml external:jQuery The XML element to be parsed Inherited From: Activity#readMessage Source: Activity.js, line 348 Returns: Type ActiveBoxContent setProperties($xml) Loads this object settings from an XML element Parameters: Name Type Description $xml external:jQuery The jQuery XML element to parse Inherited From: Activity#setProperties Overrides: Activity#setProperties Source: Activity.js, line 102 setWindowSize(windowSize) Setter method for windowSize Parameters: Name Type Description windowSize AWT.Dimension Inherited From: Activity#setWindowSize Source: Activity.js, line 484 shuffleAlways() When true, the activity must always be scrambled Inherited From: Activity#shuffleAlways Source: Activity.js, line 445 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "},"WrittenAnswerPanel.html":{"id":"WrittenAnswerPanel.html","title":"Class: WrittenAnswerPanel","body":" JClic.js Modules JClic Classes AbstractBoxActionActionRegActiveBagContentActiveBoxActiveBoxBagActiveBoxContentActiveBoxGridActiveMediaBagActiveMediaPlayerActivityActivityPanelActivityRegActivitySequenceActivitySequenceElementActivitySequenceJumpArithArith.OperatorAudioBufferAutoContentProviderAutoContentProvider.ActiveBagContentKitBasicEvaluatorBlueSkinBoxBagBoxBaseBoxConnectorClassicJigSawCompleteCompletePanelComplexAssociationComplexAssociationPanelComplexEvaluatorConditionalJumpInfoContainerCounterCrossWordCrossWordPanelCustomSkinDefaultSkinDimensionDoublePuzzleDoublePuzzlePanelEllipseEmptySkinEncryptionEvaluatorEventSoundsEventSoundsElementExchangePuzzleExchangePuzzlePanelExploreExplorePanelFillInBlanksFillInBlanksPanelFontGradientGreenSkinHolePuzzleHolePuzzlePanelHolesIdentifyIdentifyPanelIdentifyTextIdentifyTextPanelInformationScreenInformationScreenPanelJClicPlayerJClicProjectJigSawJumpInfoMediaBagMediaBagElementMediaContentMemoryGameMemoryGamePanelMenuMenuPanelMiniSkinOrangeSkinOrderTextOrderTextPanelPathPathStrokePlayerHistoryPlayerHistory#HistoryElementPointProjectSettingsRectangleRectangularReportBeanReporterReporterInfoSCORMSequenceRegSequenceRegInfoSessionRegSessionRegInfoSessionStorageReporterShapeShaperSimpleAssociationSimpleAssociationPanelSimpleSkinSkinStrokeTCPReporterTextActivityBaseTextActivityBasePanelTextActivityDocumentTextGridTextGridContentTextTargetTimerTriangularJigSawUtilsWordSearchWordSearchPanelWrittenAnswerWrittenAnswerPanel Externals CanvasRenderingContext2DCollatorHTMLAudioElementHTMLElementHTMLImageElementi18nextjQueryjqXHRJSZipMediaRecorderNamedNodeMapPromiseStorage Class: WrittenAnswerPanel WrittenAnswerPanel The ActivityPanel where WrittenAnswer activities are played. new WrittenAnswerPanel(act, ps [, $div]) WrittenAnswerPanel constructor Parameters: Name Type Argument Description act Activity The Activity to which this Panel belongs ps JClicPlayer Any object implementing the methods defined in thePlayStationJava interface. $div external:jQuery &lt;optional&gt; The jQuery DOM element where this Panel will deploy Source: activities/text/WrittenAnswer.js, line 131 Extends ActivityPanel Members $animatedBg :external:jQuery Background element (currently a span) used to place animated GIFs when needed Type: external:jQuery Inherited From: ActivityPanel#$animatedBg Overrides: ActivityPanel#$animatedBg Source: Activity.js, line 1140 $animatedBgB :external:jQuery Additional background element for animated GIFs, used in associations Type: external:jQuery Inherited From: ActivityPanel#$animatedBgB Source: Activity.js, line 1145 $canvas :external:jQuery The jQuery main canvas element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$canvas Overrides: ActivityPanel#$canvas Source: Activity.js, line 1123 $div :external:jQuery The jQuery div element used by this panel Type: external:jQuery Inherited From: ActivityPanel#$div Source: Activity.js, line 1118 $textField :external:jQuery The input text field where users write the answers Type: external:jQuery Source: activities/text/WrittenAnswer.js, line 501 accessibleCanvas :boolean True when the navigator implements canvas hit regionsSee: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility Type: boolean Inherited From: ActivityPanel#accessibleCanvas Source: Activity.js, line 1128 act :Activity The Activity this panel is related to Type: Activity Inherited From: ActivityPanel#act Source: Activity.js, line 1113 bc :BoxConnector The object used to connect cells and other elements in some types of activity Type: BoxConnector Inherited From: ActivityPanel#bc Source: Activity.js, line 1175 bgA :ActiveBoxBag The ActiveBoxBag object containing the questions Type: ActiveBoxBag Source: activities/text/WrittenAnswer.js, line 511 bgB :ActiveBoxBag An optional ActiveBoxBag with content displayed as cells are solved. Type: ActiveBoxBag Source: activities/text/WrittenAnswer.js, line 516 bgImage :external:HTMLImageElement The realized image used as a background Type: external:HTMLImageElement Inherited From: ActivityPanel#bgImage Source: Activity.js, line 1155 currentCell :number The currently selected cell Type: number Source: activities/text/WrittenAnswer.js, line 521 currentItem :number Currently selected item. Used in some types of activities. Type: number Inherited From: ActivityPanel#currentItem Overrides: ActivityPanel#currentItem Source: Activity.js, line 1170 events :Array.&lt;string&gt; List of events intercepted by this ActivityPanel. Current events are: 'keydown', 'keyup','keypress', 'mousedown', 'mouseup', 'click', 'dblclick', 'mousemove', 'mouseenter','mouseleave', 'mouseover', 'mouseout', 'touchstart', 'touchend', 'touchmove' and 'touchcancel'. Type: Array.&lt;string&gt; Inherited From: ActivityPanel#events Overrides: ActivityPanel#events Source: Activity.js, line 1196 firstRun :boolean true if the activity is running for first time (not due to a click on the replay button) Type: boolean Inherited From: ActivityPanel#firstRun Overrides: ActivityPanel#firstRun Source: Activity.js, line 1165 invAssCheck :Array.&lt;boolean&gt; Array for storing checked associations Type: Array.&lt;boolean&gt; Source: activities/text/WrittenAnswer.js, line 506 minimumSize :AWT.Dimension The minimum size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#minimumSize Source: Activity.js, line 1186 playing :boolean true while the activity is playing Type: boolean Inherited From: ActivityPanel#playing Overrides: ActivityPanel#playing Source: Activity.js, line 1160 preferredSize :AWT.Dimension The preferred size of this kind of ActivityPanel Type: AWT.Dimension Inherited From: ActivityPanel#preferredSize Source: Activity.js, line 1191 ps :PlayStation The PlayStation used to realize media objects and communicate with the player services(usually a JClicPlayer Type: PlayStation Inherited From: ActivityPanel#ps Source: Activity.js, line 1180 skin :Skin The realized current Skin Type: Skin Inherited From: ActivityPanel#skin Source: Activity.js, line 1135 solved :boolean true when the activity is solved, false otherwise Type: boolean Inherited From: ActivityPanel#solved Source: Activity.js, line 1150 Methods activityReady() Called by JClicPlayer when this activity panel is fully visible, just after theinitialization process. Inherited From: ActivityPanel#activityReady Overrides: ActivityPanel#activityReady Source: Activity.js, line 902 attachEvent($obj, evt) Attaches a single event to the specified object Parameters: Name Type Description $obj external:jQuery The object to which the event will be attached evt string The event name Inherited From: ActivityPanel#attachEvent Source: Activity.js, line 939 attachEvents() Attaches the events specified in the events member to the $div member Inherited From: ActivityPanel#attachEvents Source: Activity.js, line 927 buildAccessibleComponents() Builds the accessible components needed for this ActivityPanelThis method is called when all main elements are placed and visible, when the activity is readyto start or when resized. Inherited From: ActivityPanel#buildAccessibleComponents Source: Activity.js, line 1002 buildVisualComponents() Prepares the visual components of the activity Inherited From: ActivityPanel#buildVisualComponents Overrides: ActivityPanel#buildVisualComponents Source: Activity.js, line 818 checkInvAss() Checks if all inverse associations are done Source: activities/text/WrittenAnswer.js, line 364 Returns: Type boolean clear() Miscellaneous cleaning operations Inherited From: ActivityPanel#clear Overrides: ActivityPanel#clear Source: Activity.js, line 1068 enableCounters(eTime, eScore, eActions) Enables or disables the three counters (time, score and actions) Parameters: Name Type Description eTime boolean Whether to enable or disable the time counter eScore boolean Whether to enable or disable the score counter eActions boolean Whether to enable or disable the actions counter Inherited From: ActivityPanel#enableCounters Source: Activity.js, line 1078 end() Ends the activity Inherited From: ActivityPanel#end Source: Activity.js, line 1053 finishActivity(result) Ordinary ending of the activity, usually called form processEvent Parameters: Name Type Description result boolean true if the activity was successfully completed, false otherwise Inherited From: ActivityPanel#finishActivity Source: Activity.js, line 1022 fitTo(proposed, bounds) Fits the panel within the proposed rectangle. The panel can occupy more space, but alwaysnot surpassing the bounds rectangle. Parameters: Name Type Description proposed AWT.Rectangle The proposed rectangle bounds AWT.Rectangle The maximum allowed bounds Inherited From: ActivityPanel#fitTo Source: Activity.js, line 970 forceFinishActivity() Forces the ending of the activity. Inherited From: ActivityPanel#forceFinishActivity Source: Activity.js, line 1014 initActivity() Basic initialization procedure, common to all activities. Inherited From: ActivityPanel#initActivity Overrides: ActivityPanel#initActivity Source: Activity.js, line 880 playEvent(event) Plays the specified event sound Parameters: Name Type Description event string The type of event to be performed Inherited From: ActivityPanel#playEvent Source: Activity.js, line 873 processEvent(event) Main handler used to process mouse, touch, keyboard and edit events. Parameters: Name Type Description event HTMLEvent The HTML event to be processed Inherited From: ActivityPanel#processEvent Overrides: ActivityPanel#processEvent Source: Activity.js, line 960 Returns: When this event handler returns false, jQuery will stop itspropagation through the DOM tree. See: http://api.jquery.com/on Type boolean setAndPlayMsg(msgCode [, eventSoundsCode]) Sets the message to be displayed in the skin message box and optionally plays a sound event. Parameters: Name Type Argument Description msgCode string Type of message (initial, final, finalError...) eventSoundsCode string &lt;optional&gt; Optional name of the event sound to be played. Inherited From: ActivityPanel#setAndPlayMsg Source: Activity.js, line 1043 setBounds(rect) Sets the size and position of this activity panel Parameters: Name Type Description rect AWT.Rectangle Inherited From: ActivityPanel#setBounds Overrides: ActivityPanel#setBounds Source: Activity.js, line 799 setCurrentCell(i, delayedActions) Updates the currently selected cell, evaluating the answer written by the user on the text field. Parameters: Name Type Default Description i number Index into the ActiveBoxBag of the cell to make active delayedActions Array.&lt;function()&gt; null If set, store the the action in this array for future execution Source: activities/text/WrittenAnswer.js, line 373 setDimension(maxSize) Sets the real dimension of this ActivityPanel. Parameters: Name Type Description maxSize AWT.Dimension The maximum surface available for the activity panel Inherited From: ActivityPanel#setDimension Overrides: ActivityPanel#setDimension Source: Activity.js, line 918 Returns: Type AWT.Dimension showHelp() Displays help about the activity Inherited From: ActivityPanel#showHelp Source: Activity.js, line 909 shuffle(bg, visible, fitInArea) Shuffles the contents of the activity Parameters: Name Type Description bg Array.&lt;ActiveBoxBag&gt; The sets of boxes to be shuffled visible boolean The shuffle process must be animated on the screen (not yet implemented!) fitInArea boolean Shuffled pieces cannot go out of the current area Inherited From: ActivityPanel#shuffle Source: Activity.js, line 1101 startActivity() Called when the activity starts playing Inherited From: ActivityPanel#startActivity Source: Activity.js, line 894 updateContent(dirtyRegion) Activities should implement this method to update the graphic content of its panel. The methodwill be called from AWT.Container#update when needed. Parameters: Name Type Description dirtyRegion AWT.Rectangle Specifies the area to be updated. When null,it's the whole panel. Inherited From: ActivityPanel#updateContent Overrides: ActivityPanel#updateContent Source: Activity.js, line 864 × Search results Close Documentation generated by JSDoc 3.5.5 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
